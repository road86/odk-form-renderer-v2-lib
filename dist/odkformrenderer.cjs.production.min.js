"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}require("bootstrap/dist/css/bootstrap.min.css");var r=require("react"),t=e(r),n=require("react-redux"),a=require("@fortawesome/fontawesome-svg-core"),i=require("@fortawesome/free-solid-svg-icons"),o=require("reactstrap"),l=e(require("react-select")),s=e(require("seamless-immutable")),u=require("@fortawesome/react-fontawesome"),c=e(require("lodash")),p=e(require("react-datepicker"));require("react-datepicker/dist/react-datepicker.css");var m=require("redux"),d=require("redux-devtools-extension");function f(){return(f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}var v,g=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.bodyText;return r.createElement(o.Alert,{color:e.color,isOpen:e.isOpen,toggle:e.handleToggle},r.createElement("h4",{className:"alert-heading"},e.headerText),r.createElement("p",null,t))},t}(r.Component),E=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).onChangeHandler=function(e){r.props.onChangeSelect(e.value)},r}return h(t,e),t.prototype.render=function(){var e,t=this,n=[];return[].concat(this.props.languages).map(function(e){n.push({label:e.label,value:e.value})}),n.map(function(r){r.value===t.props.defaultLanguage&&(e=r)}),r.createElement(l,{multi:!1,options:n,className:"col-md-2 dropDown",placeholder:"Language",onChange:this.onChangeHandler,value:e||""})},t}(r.Component),C="This field is required",b="",y={},I={};function A(e,r,t,n){return r===t[n]?[1,{type:e,value:r}]:[0,null]}var T=[function(e,r){return/\s/.test(e[r])?[1,null]:[0,null]},function(e,r){return A("paren","(",e,r)},function(e,r){return A("paren",")",e,r)},function(e,r){return"i"!==e[r]||!e[r+1]||"f"!==e[r+1]||void 0!==e[r+2]&&/[a-z]i/.test(e[r+2])?[0,null]:[2,{type:"if",value:"if"}]},function(e,r){return"o"===e[r]&&e[r+1]&&"r"===e[r+1]&&(void 0===e[r+2]||/[0-9\s]/.test(e[r+2]))?[2,{type:"or",value:"or"}]:[0,null]},function(e,r){return"a"===e[r]&&e[r+1]&&"n"===e[r+1]&&e[r+2]&&"d"===e[r+2]&&(void 0===e[r+3]||/[0-9\s]/.test(e[r+3]))?[3,{type:"and",value:"and"}]:[0,null]},function(e,r){if(("#"===e[r]||"$"===e[r])&&e[r+1]&&"{"===e[r+1]){for(var t="",n=1,a=e[r+(n+=1)];"}"!==a;){if(void 0===a)throw new TypeError("unterminated string ");t+=a,a=e[r+(n+=1)]}return[n+1,{type:"variable",value:t}]}return[0,null]},function(e,r){if('"'===e[r]||"'"===e[r]){for(var t=e[r],n="",a=0,i=e[r+(a+=1)];i!==t;){if(void 0===i)throw new TypeError("unterminated string ");n+=i,i=e[r+(a+=1)]}return[a+1,{type:"string",value:n}]}return[0,null]},function(e,r){if(/[a-z_]/i.test(e[r])){for(var t="",n=0,a=e[r+n];a&&/[:a-z0-9_-]/i.test(a);){if(void 0===a)throw new TypeError("unterminated string ");t+=a,a=e[r+(n+=1)]}for(;a&&/\s/.test(a);)a=e[r+(n+=1)];if(a&&"("===a)return[n,{type:"function",value:t}]}return[0,null]},function(e,r){return A("equal","=",e,r)},function(e,r){return A("plus","+",e,r)},function(e,r){return A("minus","-",e,r)},function(e,r){return A("multiply","*",e,r)},function(e,r){return A("divide","/",e,r)},function(e,r){return"d"===e[r]&&e[r+1]&&"i"===e[r+1]&&e[r+2]&&"v"===e[r+2]&&(void 0===e[r+3]||/[0-9\s]/.test(e[r+3]))?[3,{type:"divide",value:"/"}]:[0,null]},function(e,r){return A("lessThan","<",e,r)},function(e,r){return A("greaterThan",">",e,r)},function(e,r){return A("not","!",e,r)},function(e,r){return A("brac","[",e,r)},function(e,r){return A("brac","]",e,r)},function(e,r){return A("dot",".",e,r)},function(e,r){return A("comma",",",e,r)},function(e,r){if(/[0-9]/i.test(e[r])){for(var t="",n=0,a=e[r+n];/[0-9]/i.test(a);){if(void 0===a)throw new TypeError("unterminated string ");t+=a,a=e[r+(n+=1)]}if("."!==a)return[n,{type:"number",value:t}]}return[0,null]},function(e,r){if(/[0-9.]/i.test(e[r])){for(var t="",n=0,a=e[r+n];/[0-9]/i.test(a);){if(void 0===a)throw new TypeError("unterminated string ");t+=a,a=e[r+(n+=1)]}if("."===a&&(t+=a,/[0-9]/i.test(a=e[r+(n+=1)]))){for(;/[0-9]/i.test(a);){if(void 0===a)throw new TypeError("unterminated string ");t+=a,a=e[r+(n+=1)]}return[n,{type:"decimal",value:t}]}}return[0,null]},function(e,r){return function(e,r,t,n){var a=t[n],i=0;if(r.test(a)){for(var o="";a&&r.test(a);)o+=a,a=t[n+(i+=1)];return[i,{type:"name",value:o}]}return[0,null]}(0,/[a-z]/i,e,r)}];function L(e,r,t){if("selected"===e){var n=!1;return Array.isArray(r[0])?(r[0].forEach(function(e){n=n||e==r[1]}),[!0,n]):[!0,r[0]==r[1]]}return[!1,null]}function N(e,r,t){if("today"==e){var n=new Date;return n.setHours(0,0,0,0),[!0,n]}return[!1,null]}function F(e,r,t){if("round"==e&&r[0]&&r[1]){if("number"==typeof r[0]&&"number"==typeof r[1])return[!0,r[0].toFixed(r[1])];if("string"==typeof r[0]&&"number"==typeof r[1])return[!0,parseFloat(r[0]).toFixed(r[1])]}return[!1,null]}function S(e,r,t){return"regex"==e?[!0,RegExp(r[1]).test(r[0])]:[!1,null]}function x(e,r,t){return"count-selected"==e?r[0]&&Array.isArray(r[0])?[!0,r[0].length]:r[0]&&"object"!=typeof r[0]?[!0,1]:[!0,0]:[!1,null]}function V(e,r,t){return"int"==e&&"string"==typeof r[0]?[!0,parseInt(r[0],10)]:[!1,null]}function P(e,r,t){return"coalesce"==e?r[0]||0===r[0]?[!0,r[0]]:[!0,r[1]]:[!1,null]}function O(e,r,t){if("position"==e&&b){var n=b.split("/");if(n.length>2)return[!0,parseInt(n[n.length-2],10)+1]}return[!1,null]}function q(e,r,t){if("sum"==e){var n=null;return t&&t.length>0&&t[0]&&t[0].length>0&&"variable"===t[0][0].type&&(n=function e(r,t,n){var a;if(Array.isArray(t))for(a=0;a<t.length;a+=1)r=e(r,t[a],n);else if("object"==typeof t)for(var i in t)"object"==typeof t[i]?r=e(r,t[i],n):i===n&&("string"==typeof t[i]&&(r+=parseFloat(t[i])),"number"==typeof t[i]&&(r+=t[i]));return r}(0,I,t[0][0].value)),[!0,n]}return[!1,null]}function R(e,r,t){if("concat"==e&&r&&r.length>0){for(var n="",a=0;a<r.length;a+=1){if(null==r[a])return[!1,null];n+=r[a]}return[!0,n]}return[!1,null]}function w(e,r,t){return"substr"==e&&r&&r.length>0&&r[0]&&null!==r[1]?null!==r[2]&&r[2]<r[0].length?[!0,r[0].substring(r[1],r[2])]:[!0,r[0].substring(r[1])]:[!1,null]}function k(e,r,t){for(var n in t){var a=n.split("/");if(a[a.length-1]===e)return t[n];"object"==typeof t[n]&&null==r&&(r=k(e,r,t[n]))}return r}function G(e){var r,t=b.split("/"),n=I,a=null;a=k(e,a,n);var i="";for(r=0;r<t.length-1;)if("repeat"==t[r]){r+=1;var o=parseInt(t[r+1],10);a=k(e,a,n[i+t[r]][o]),r+=2}else i=i+t[r+1]+"/",r+=2;return a}function H(){var e,r=b.split("/"),t="",n=[];for(e=0;e<r.length-1;)"repeat"==r[e]?(n.push(t+r[e+=1]),n.push(parseInt(r[e+1],10)),t=t+r[e]+"/",e+=2):(t=t+r[e+1]+"/",e+=2);return n.push(t+r[r.length-1]),I.getIn(n)}function j(e,r,t){return"number"===r[t].type?[1,parseInt(r[t].value,10)]:"string"===r[t].type?[1,r[t].value]:"decimal"===r[t].type?[1,parseFloat(r[t].value)]:"variable"===r[t].type?[1,G(r[t].value)]:"name"===r[t].type?"true"===r[t].value.toLowerCase()?[1,!0]:"false"===r[t].value.toLowerCase()?[1,!1]:r[t].value in y?[1,y[r[t].value]]:[1,null]:"dot"===r[t].type?[1,H()]:[0,null]}function _(e,r,t){var n=[L,x,N,S,V,P,O,q,R,w,F];if("function"===r[t].type){var a=r[t].value,i=[],o=[],l=1;if("paren"===r[t+l].type&&"("===r[t+l].value){var s=[];s.push(1),l+=1;for(var u=[];r[t+l]&&s.length;){if(u.push(r[t+l]),"paren"===r[t+l].type&&")"===r[t+l].value&&s.pop(),"paren"===r[t+l].type&&"("===r[t+l].value&&s.push(1),"comma"===r[t+l].type&&1===s.length){u.pop();var c=J(null,u,0);i.push(c),o.push(u),u=[]}l+=1}if("paren"===r[t+(l-=1)].type&&")"===r[t+l].value){u.pop();var p=J(null,u,0);i.push(p),o.push(u);var m=!1,d=null;if(n.forEach(function(e){if(!m){var r=e(a,i,o);m=r[0],d=r[1]}}),m)return[l+1,d]}}}return[0,null]}function D(e,r,t){if("and"===r[t].type&&null!=e){var n=[],a=1,i=null;if("paren"===r[t+a].type&&"("===r[t+a].value){var o=M(null,r,t+a);i=o[1],a+=o[0]}else{for(var l=["and","or"];r[t+a]&&-1===l.indexOf(r[t+a].type);)n.push(r[t+a]),a+=1;n.length&&(i=J(null,n,0))}if(null!=i){if(i=e&&i,r[t+a]&&"and"===r[t+a].type){var s=D(i,r,t+a);i=s[1],a+=s[0]}return[a,i]}}return[0,null]}function M(e,r,t){if("paren"===r[t].type&&"("===r[t].value){var n=[];n.push(1);for(var a=1,i=[];r[t+a]&&n.length;)i.push(r[t+a]),"paren"===r[t+a].type&&")"===r[t+a].value&&n.pop(),"paren"===r[t+a].type&&"("===r[t+a].value&&n.push(1),a+=1;if("paren"===r[t+(a-=1)].type&&")"===r[t+a].value)return i.pop(),[a+1,J(null,i,0)]}return[0,null]}function B(e,r,t){if(null!=e&&"divide"===r[t].type&&t<r.length&&-1!==["number","decimal","minus","paren","variable","function"].indexOf(r[t+1].type)){var n=!1,a=null;if([j,z,M,_].forEach(function(i){if(!n){var o,l;if(i===z){var s=i(null,r,t+1);o=s[0],l=s[1]}else{var u=i(e,r,t+1);o=u[0],l=u[1]}0!==o&&(n=!0,t+=o+=1,a=o);var c,p=!1;[B,U].forEach(function(e){if(!p&&r[t]){var n=e(l,r,t);c=n[1],a+=o=n[0],0!==o&&(p=!0,l=c)}}),null!=l&&(e/=l)}}),n)return[a,e]}return[0,null]}function U(e,r,t){if(null!=e&&"multiply"===r[t].type&&t<r.length&&-1!==["number","decimal","minus","paren","variable","function"].indexOf(r[t+1].type)){var n=!1,a=null;if([j,z,M,_].forEach(function(i){if(!n){var o,l;if(i===z){var s=i(null,r,t+1);o=s[0],l=s[1]}else{var u=i(e,r,t+1);o=u[0],l=u[1]}0!==o&&(n=!0,t+=o+=1,a=o);var c,p=!1;[B,U].forEach(function(e){if(!p&&r[t]){var n=e(l,r,t);c=n[1],a+=o=n[0],0!==o&&(p=!0,l=c)}}),null!=l&&(e*=l)}}),n)return[a,e]}return[0,null]}function z(e,r,t){if("minus"===r[t].type&&t<r.length&&-1!==["number","decimal","paren","variable","function"].indexOf(r[t+1].type)){var n=!1,a=null;if([j,M,_].forEach(function(i){if(!n){var o=i(e,r,t+1),l=o[0],s=o[1];if(0!==l){n=!0,t+=l+=1,a=l;var u,c=!1;[B,U].forEach(function(e){if(!c&&r[t]){var n=e(s,r,t);u=n[1],a+=l=n[0],0!==l&&(c=!0,s=u)}})}s?e?"[object Date]"===Object.prototype.toString.call(s)&&"[object Date]"===Object.prototype.toString.call(e)?isNaN(e.getTime())||isNaN(s.getTime())?e=NaN:(e-=s,e=Math.ceil(e/864e5)):"[object Date]"===Object.prototype.toString.call(s)||"[object Date]"===Object.prototype.toString.call(e)?e=NaN:""===s||""===e?e=NaN:e-=s:e="[object Date]"===Object.prototype.toString.call(s)?NaN:-s:e=NaN}}),n)return""===e&&(e=NaN),[a,e]}return[0,null]}var W=[function(e,r,t){if("if"===r[t].type){var n=[],a=1;if("paren"===r[t+a].type&&"("===r[t+a].value){var i=[];i.push(1),a+=1;for(var o=[];r[t+a]&&i.length;){if(o.push(r[t+a]),"paren"===r[t+a].type&&")"===r[t+a].value&&i.pop(),"paren"===r[t+a].type&&"("===r[t+a].value&&i.push(1),"comma"===r[t+a].type&&1===i.length){o.pop();var l=J(null,o,0);n.push(l),o=[]}a+=1}if("paren"===r[t+(a-=1)].type&&")"===r[t+a].value){o.pop();var s,u=J(null,o,0);if(n.push(u),n.length%2!=0){var c;for(c=0;c<n.length-1;c+=2)if(n[c])return[a+1,n[c+1]];return[a+1,n[n.length-1]]}for(s=0;s<n.length;s+=2)if(n[s])return[a+1,n[s+1]]}}}return[0,null]},M,j,B,U,function(e,r,t){if(null!=e&&"plus"===r[t].type&&t<r.length&&-1!==["number","decimal","string","minus","paren","variable","function"].indexOf(r[t+1].type)){var n=!1,a=null;if([j,z,M,_].forEach(function(i){if(!n){var o,l;if(i===z){var s=i(null,r,t+1);o=s[0],l=s[1]}else{var u=i(e,r,t+1);o=u[0],l=u[1]}if(0!==o){n=!0,t+=o+=1,a=o;var c,p=!1;[B,U].forEach(function(e){if(!p&&r[t]){var n=e(l,r,t);c=n[1],a+=o=n[0],0!==o&&(p=!0,l=c)}})}null!=l&&(e+=l)}}),n)return[a,e]}return[0,null]},z,function(e,r,t){if("lessThan"===r[t].type&&null!=e){var n=!1,a=[],i=1;"equal"===r[t+i].type&&(i+=1,n=!0);for(var o,l=["and","or"];r[t+i]&&-1===l.indexOf(r[t+i].type);)a.push(r[t+i]),i+=1;if(a.length)return o=J(null,a,0),n?[i,e<=o]:[i,e<o]}return[0,null]},function(e,r,t){if("greaterThan"===r[t].type&&null!=e){var n=!1,a=[],i=1;"equal"===r[t+i].type&&(i+=1,n=!0);for(var o,l=["and","or"];r[t+i]&&-1===l.indexOf(r[t+i].type);)a.push(r[t+i]),i+=1;if(a.length)return o=J(null,a,0),n?[i,e>=o]:[i,e>o]}return[0,null]},function(e,r,t){if("equal"===r[t].type&&null!=e){for(var n=[],a=1,i=["and","or"];r[t+a]&&-1===i.indexOf(r[t+a].type);)n.push(r[t+a]),a+=1;if(n.length)return[a,e==J(null,n,0)]}return[0,null]},D,function(e,r,t){if("or"===r[t].type&&null!=e){var n=[],a=1,i=null;if("paren"===r[t+a].type&&"("===r[t+a].value){var o=M(0,r,t+a);i=o[1],a+=o[0]}else{for(var l=["and","or"];r[t+a]&&-1===l.indexOf(r[t+a].type);)n.push(r[t+a]),a+=1;n.length&&(i=J(null,n,0))}if(null!=i){if(r[t+a]&&"and"===r[t+a].type){var s=D(i,r,t+a);i=s[1],a+=s[0]}return[a,e||i]}}return[0,null]},function(e,r,t){if("not"===r[t].type){var n,a=1;if("equal"===r[t+a].type&&null!=e){n=[],a+=1;for(var i,o=["and","or"];r[t+a]&&-1===o.indexOf(r[t+a].type);)n.push(r[t+a]),a+=1;if(n.length)return i=J(null,n,0),[a,e!=i]}else{var l,s,u=!1;if([j,z,M,_].forEach(function(n){if(!u){if(n===z){var i=n(null,r,t+1);l=i[0],s=i[1]}else{var o=n(e,r,t+1);l=o[0],s=o[1]}0!==l&&(u=!0,a+=l)}}),u)return[a,!s]}}return[0,null]},_];function J(e,r,t){for(var n=t,a=e,i=function(){var e=!1;if(W.forEach(function(t){if(!e){var i=t(a,r,n),o=i[0],l=i[1];0!==o&&(e=!0,n+=o),null!=l&&(a=l)}}),!e)return console.log("syntax error"),console.log(v),{v:null}};n<r.length;){var o=i();if("object"==typeof o)return o.v}return a}function Y(e,r,t,n){return r||(r={}),b=n,v=e,I=r,y=t,J(null,function(e){for(var r=0,t=[],n=function(){var n=!1;if(T.forEach(function(a){if(!n){var i=a(e,r),o=i[0],l=i[1];0!==o&&(n=!0,r+=o),l&&t.push(l)}}),!n)throw new TypeError("I dont know what this character is: "+e[r])};r<e.length;)n();return t}(e),0)}function $(e,r){return"string"==typeof e?e||"":e[r]||""}function K(e,r){return e.label?$(e.label,r):""}function Q(e,r){return e.hint?$(e.hint,r):""}function X(e,r,t){if(null==r)return null;var n=r.match(/\[(.*?)\]/g);return n&&n.forEach(function(n){n=n.substring(1,n.length-1);var a=e(n,t);r=r.replace("["+n+"]",null!=a&&void 0!==a?a:"")}),r}function Z(e,r){return e.bind&&e.bind["jr:constraintMsg"]?$(e.bind["jr:constraintMsg"],r):""}function ee(e){var r,t=!1;return e.bind&&e.bind.required&&"string"==typeof e.bind.required&&("yes"===(r=e.bind.required).toLowerCase()||"1"===r||"true"===r.toLowerCase())&&(t=!0),t}function re(e,r,t){return!(e&&e.bind&&e.bind.relevant&&!t(e.bind.relevant,r+e.name))}function te(e,r,t){return!!(e&&e.bind&&e.bind.readonly)&&!!t(e.bind.readonly,r+e.name)}function ne(e,r,t){return!!(e&&e.bind&&e.bind.constraint)&&!t(e.bind.constraint,r+e.name)}function ae(e,r,t){var n,a=r.split("/"),i="",o=e;for(n=0;n<a.length-1;)if("repeat"===a[n]){i+a[n+=1]in o?o=o[i+a[n]]:(o[i+a[n]]=[],o=o[i+a[n]]);var l=parseInt(a[n+1],10);o[l]?o=o[l]:(o[l]={},o=o[l]),i=i+a[n]+"/",n+=2}else i=i+a[n+1]+"/",n+=2;return o[i+a[a.length-1]]=t,e}function ie(e,r){var t,n=r.split("/"),a="",i=e;for(t=0;t<n.length-1;)if("repeat"===n[t]){a+n[t+=1]in i?i=i[a+n[t]]:i[a+n[t]]=[];var o=parseInt(n[t+1],10);i[o]?i=i[o]:(i[o]={},i=i[o]),a=a+n[t]+"/",t+=2}else a=a+n[t+1]+"/",t+=2;return i[a+n[n.length-1]]}function oe(e){var r=!1;return e.control&&e.control.appearance&&(r=!!e.control.appearance.toString().includes("minimal")),r}var le="odk/reducer/form/FIELD_VALUE_ASSIGNED",se="odk/reducer/form/OPTION_LIST_ASSIGNED",ue="odk/reducer/form/REMOVE_FROM_OPTION_LIST_REPEAT",ce="odk/reducer/form/RESET_STORE",pe="odk/reducer/form/ADD_ERROR_INPUT_ID",me="odk/reducer/form/REMOVE_ERROR_INPUT_ID",de="odk/reducer/form/EMPTY_GROUP_FIELDS",fe="odk/reducer/form/REMOVE_GROUP_FIELDS_FROM_ERRORS",he="odk/reducer/form/SET_USER_INPUT_OBJ",ve=function(e,r){return{fieldTreeName:e,fieldValue:r,type:le}},ge=function(e,r){return{fieldTreeName:e,optionList:r,type:se}},Ee=function(e,r){return{fieldTreeName:e,repeatIndex:r,type:ue}},Ce=function(e){return{fieldTreeName:e,type:pe}},be=function(e){return{fieldTreeName:e,type:me}},ye=function(e){return{fieldTreeName:e,type:de}},Ie=function(e){return{fieldTreeName:e,type:fe}},Ae=s({errors:[],optionList:{},userInput:{}});function Te(e,r){switch(void 0===e&&(e=Ae),r.type){case le:var t=ae(e.getIn(["userInput"]).asMutable({deep:!0}),r.fieldTreeName,r.fieldValue),n=e.asMutable({deep:!0});return s(f({},n,{userInput:t}));case se:var a=ae(e.getIn(["optionList"]).asMutable({deep:!0}),r.fieldTreeName,null!=r.optionList?f({},r.optionList):null),i=e.asMutable({deep:!0});return s(f({},i,{optionList:a}));case ue:var o=[];if(e.getIn(["optionList"]).asMutable({deep:!0}).hasOwnProperty(r.fieldTreeName)){o=[].concat(function(e,r,t){var n=[];return Object.entries(e).forEach(function(e){var a=e[1];if(e[0]===r){var i=String(t);Object.entries(a).map(function(e){e[0]!==i&&n.push(e[1])})}}),n}(e.getIn(["optionList"]).asMutable({deep:!0}),r.fieldTreeName,r.repeatIndex));var l=ae(e.getIn(["optionList"]).asMutable({deep:!0}),r.fieldTreeName,f({},o)),u=e.asMutable({deep:!0});return s(f({},u,{optionList:l}))}return e;case ce:return Ae;case pe:return e.errors.includes(r.fieldTreeName)?e:e.updateIn(["errors"],function(e){return e.concat([r.fieldTreeName])});case me:return e.errors.includes(r.fieldTreeName)?e.updateIn(["errors"],function(e){return e.filter(function(e){return e!==r.fieldTreeName})}):e;case de:var c=function(e,t){var n,a=r.fieldTreeName.split("/"),i="",o=e;for(n=0;n<a.length-1;)if("repeat"===a[n]){i+a[n+=1]in o?o=o[i+a[n]]:o[i+a[n]]=[];var l=parseInt(a[n+1],10);o[l]?o=o[l]:(o[l]={},o=o[l]),i=i+a[n]+"/",n+=2}else i=i+a[n+1]+"/",n+=2;return Object.keys(o).forEach(function(e){e.startsWith(i+a[a.length-1])&&(o[e]=null)}),e}(e.getIn(["userInput"]).asMutable({deep:!0})),p=e.asMutable({deep:!0});return s(f({},p,{userInput:c}));case fe:return e.updateIn(["errors"],function(e){return e.filter(function(e){return!e.startsWith(r.fieldTreeName)})});case he:return s(f({},e,{userInput:r.userInputObj}));default:return e}}function Le(e,r){return ie(e.getIn(["userInput"]).asMutable({deep:!0}),r)}function Ne(e,r){return ie(e.getIn(["optionList"]).asMutable({deep:!0}),r)}function Fe(e,r,t){return Y(r,e.userInput,null,t)}function Se(e,r,t,n){return Y(r,e.userInput,t,n)}function xe(e,r){return e.errors.includes(r)}function Ve(e,r){return function(e,t){var n,a=r.split("/"),i="",o=e;for(n=0;n<a.length-1;)if("repeat"===a[n]){i+a[n+=1]in o?o=o[i+a[n]]:o[i+a[n]]=[];var l=parseInt(a[n+1],10);o[l]?o=o[l]:(o[l]={},o=o[l]),i=i+a[n]+"/",n+=2}else i=i+a[n+1]+"/",n+=2;var s=!0;return Object.keys(o).forEach(function(e){e.startsWith(i+a[a.length-1])&&null!=o[e]&&s&&(s=!1)}),s}(e.userInput)}function Pe(e,r){var t=!1;return e.errors.forEach(function(e){e.startsWith(r)&&!t&&(t=!0)}),t}function Oe(e){return!e.errors||!e.errors.length}function qe(e){return e.getIn(["userInput"]).asMutable({deep:!0})}var Re=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.choices,n=e.csvList,a=e.fieldElement,i=e.fieldParentTreeName,l=e.defaultLanguage,s=e.isComponentRender,u=K(a,l),c=!1;return a.control&&a.control.appearance&&/^w(\d+)\b/i.test(a.control.appearance)&&(c=!0),s?r.createElement(o.FormGroup,null,r.createElement(o.Label,{className:"groupLabel"},u),a.children&&r.createElement(gr,{choices:t,fieldElements:a.children,fieldParentTreeName:i+"group/"+a.name+"/",defaultLanguage:l,csvList:n,isAppearanceApplicable:c})):(this.props.isErrorsIncludeGroupFieldsSelector(i+"group/"+a.name+"/")&&this.props.removeGroupFieldsFromErrorsActionCreator(i+"group/"+a.name+"/"),this.props.isGroupFieldsEmptySelector(i+a.name)||this.props.emptyGroupFieldsActionCreator(i+a.name),null)},t}(r.Component),we=n.connect(function(e,r){var t=function(r,t){return Fe(e,r,t)};return{getEvaluatedExpressionSelector:t,isComponentRender:re(r.fieldElement,r.fieldParentTreeName,t),isErrorsIncludeGroupFieldsSelector:function(r){return Pe(e,r)},isGroupFieldsEmptySelector:function(r){return Ve(e,r)}}},{emptyGroupFieldsActionCreator:ye,removeGroupFieldsFromErrorsActionCreator:Ie})(Re),ke=function(e){function r(){var r;return(r=e.apply(this,arguments)||this).handleChange=function(e){var t=r.props,n=t.repeatIndex,a=t.assignmentHandler,i=t.fieldElement,o=t.fieldParentTreeName,l=t.removeHandler,s=t.removeOptionHandler,u=[].concat(t.fieldValue);u=u.filter(function(e,r){return r!==n}),a(o+i.name,u),l(o+"repeat/"+i.name+"/"),s(o+i.name,n)},r}return h(r,e),r.prototype.render=function(){var e=this.props,r=e.fieldElement,n=e.unControlFlag;return t.createElement("div",{className:"groupFormFieldBody"},r.children&&t.createElement(gr,{choices:e.choices,fieldElements:r.children,fieldParentTreeName:e.fieldParentTreeName+"repeat/"+r.name+"/"+e.repeatIndex+"/",defaultLanguage:e.defaultLanguage,csvList:e.csvList,isAppearanceApplicable:!1}),!1===n?t.createElement("div",{className:"minusIconWrapper"},t.createElement("span",{onClick:this.handleChange},t.createElement(u.FontAwesomeIcon,{icon:"minus-circle",className:"minusIcon"}))):null)},r}(t.Component),Ge=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).addAnotherRepeat=function(e){var t=r.props,n=t.fieldParentTreeName,a=t.fieldElement,i=[].concat(t.fieldValue);i.push({}),r.props.assignFieldValueActionCreator(n+a.name,i)},r}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.choices,n=e.csvList,a=e.fieldValue,i=e.fieldElement,l=e.fieldParentTreeName,s=e.defaultLanguage,c=e.isComponentRender,p=e.assignFieldValueActionCreator,m=e.removeGroupFieldsFromErrorsActionCreator,d=e.removeOptionListFromActionCreator,f=K(i,s);return c?(a||this.props.assignFieldValueActionCreator(l+i.name,[{}]),r.createElement(o.FormGroup,{className:"groupBody"},r.createElement(o.Label,null,f),a&&a.map(function(e,o){return r.createElement("div",{className:"repeat-fields-body",key:"repeat"+o},r.createElement(ke,{choices:t,defaultLanguage:s,fieldElement:i,fieldParentTreeName:l,fieldValue:a,repeatIndex:o,assignmentHandler:p,removeHandler:m,removeOptionHandler:d,csvList:n,unControlFlag:!1}))}),r.createElement("div",null,r.createElement("span",{onClick:this.addAnotherRepeat},r.createElement(u.FontAwesomeIcon,{icon:"plus-circle",className:"plusIcon"}))))):(this.props.isErrorsIncludeGroupFieldsSelector(l+"repeat/"+i.name+"/")&&this.props.removeGroupFieldsFromErrorsActionCreator(l+"repeat/"+i.name+"/"),a&&this.props.assignFieldValueActionCreator(l+i.name,null),null)},t}(r.Component),He=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isErrorsIncludeGroupFieldsSelector:function(r){return Pe(e,r)},isGroupFieldsEmptySelector:function(r){return Ve(e,r)}}},{assignFieldValueActionCreator:ve,emptyGroupFieldsActionCreator:ye,removeGroupFieldsFromErrorsActionCreator:Ie,removeOptionListFromActionCreator:Ee})(Ge),je=function(e){function t(){return e.apply(this,arguments)||this}h(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.choices,n=e.csvList,a=e.fieldValue,i=e.fieldElement,l=e.fieldParentTreeName,s=e.defaultLanguage,u=e.isComponentRender,p=e.optionList,m=e.assignFieldValueActionCreator,d=e.removeGroupFieldsFromErrorsActionCreator,f=e.removeOptionListFromActionCreator,h=K(i,s);if(u){a||this.props.assignFieldValueActionCreator(l+i.name,[]);var v=0;if(i.control){var g=i.control["jr:count"];if(/^[0-9]*$/i.test(g))v=parseInt(g,10);else{var E=this.props.getEvaluatedExpressionSelector(g,l+i.name);E&&(v=parseInt(E,10))}}if(a&&0===a.length&&0===v&&this.props.isErrorsIncludeGroupFieldsSelector(l+"repeat/"+i.name+"/")&&this.props.removeGroupFieldsFromErrorsActionCreator(l+"repeat/"+i.name+"/"),a&&a.length>0&&0===v&&(this.removeFromError(),this.props.assignFieldValueActionCreator(l+i.name,[])),p&&c.size(p)>v&&0===v&&this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+this.props.fieldElement.name,[]),v>0){var C=[].concat(a);if(a&&a.length<v)for(var b=v-a.length,y=0;y<b;y++)C.push({});if(a&&a.length>v){for(var I=a.length-v,A=0;A<I;A++)C.pop();this.props.assignFieldValueActionCreator(l+i.name,C),this.removeFromError()}if(p&&c.size(p)>v){var T=c.size(p)-v;this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+this.props.fieldElement.name,Array.prototype.slice.call(p,T)),this.removeFromError()}return r.createElement(o.FormGroup,{className:"groupBodyUnControlled"},r.createElement(o.Label,null,h),C&&C.map(function(e,o){return r.createElement("div",{className:"repeat-fields-body",key:"repeat"+o},r.createElement(ke,{choices:t,defaultLanguage:s,fieldElement:i,fieldParentTreeName:l,fieldValue:a,repeatIndex:o,assignmentHandler:m,removeHandler:d,removeOptionHandler:f,csvList:n,unControlFlag:!0}))}))}return null}return this.removeFromError(),a&&this.props.assignFieldValueActionCreator(l+i.name,null),null},n.removeFromError=function(){this.props.isErrorsIncludeGroupFieldsSelector(this.props.fieldParentTreeName+"repeat/"+this.props.fieldElement.name+"/")&&this.props.removeGroupFieldsFromErrorsActionCreator(this.props.fieldParentTreeName+"repeat/"+this.props.fieldElement.name+"/")},t}(r.Component),_e=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isErrorsIncludeGroupFieldsSelector:function(r){return Pe(e,r)},isGroupFieldsEmptySelector:function(r){return Ve(e,r)},optionList:Ne(e,n+t.name)}},{assignFieldValueActionCreator:ve,assignOptionListActionCreator:ge,emptyGroupFieldsActionCreator:ye,removeGroupFieldsFromErrorsActionCreator:Ie,removeOptionListFromActionCreator:Ee})(je),De=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props.fieldElement;return r.createElement(e.control&&e.control["jr:count"]?_e:He,Object.assign({},this.props))},t}(r.Component),Me=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=ee(t)&&(!a||""===a),c=a&&""!==a&&ne(t,n,l);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(n+t.name,t.default);var p=te(t,n,l);!u&&!c||s(n+t.name)?u||c||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name);var m="";return t.bind&&t.bind.calculate&&(m=this.props.getEvaluatedExpressionSelector(t.bind.calculate,n+t.name)),m!==a&&this.props.assignFieldValueActionCreator(n+t.name,m),r.createElement(o.FormGroup,null,r.createElement(o.Input,{type:"hidden",name:t.name,value:m||"",readOnly:p}))}return null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),Be=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(Me),Ue=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).onChangeHandler=function(e){r.props.assignFieldValueActionCreator(r.props.fieldParentTreeName+e.currentTarget.name,""!==e.currentTarget.value?new Date(e.currentTarget.value):null)},r}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=e.defaultLanguage,c=ee(t),p=c&&(!a||""===a),m=a&&""!==a&&ne(t,n,l),d=X(l,K(t,u),n+t.name),f=X(l,Z(t,u),n+t.name),h=Q(t,u);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(n+t.name,t.default);var v=te(t,n,l);!p&&!m||s(n+t.name)?p||m||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name);var g="";return a&&""!==a&&(g=new Date(a).toISOString().slice(0,10)),r.createElement(o.FormGroup,null,r.createElement(o.Label,null,d),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Input,{type:"date",name:t.name,onChange:this.onChangeHandler,value:g,readOnly:v}),t.hint&&r.createElement(o.Label,{className:"hintText"},h),p&&r.createElement(o.Label,{className:"requiredText"},C),m&&r.createElement(o.Label,{className:"constraintText"},f))}return null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),ze=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(Ue),We=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).handleChange=function(e){return function(t){r.props.assignFieldValueActionCreator(r.props.fieldParentTreeName+e,""!==t?new Date(t):null)}},r}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=e.defaultLanguage,c=ee(t),m=c&&(!a||""===a),d=a&&""!==a&&ne(t,n,l),f=X(l,K(t,u),n+t.name),h=X(l,Z(t,u),n+t.name),v=Q(t,u);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(n+t.name,t.default);var g=te(t,n,l);return!m&&!d||s(n+t.name)?m||d||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name),r.createElement(o.FormGroup,null,r.createElement(o.Label,null,f),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement("br",null),r.createElement(p,{name:t.name,selected:a?new Date(a):null,onChange:this.handleChange(t.name),showTimeSelect:!0,timeFormat:"h:m aa",timeIntervals:15,timeCaption:"time",dateFormat:"MM/dd/yyyy h:mm aa",placeholderText:"mm/dd/yyyy h:m aa",className:"form-control",readOnly:g}),r.createElement("br",null),t.hint&&r.createElement(o.Label,{className:"hintText"},v),m&&r.createElement(o.Label,{className:"requiredText"},C),d&&r.createElement(o.Label,{className:"constraintText"},h))}return null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),Je=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(We),Ye=function(e){function t(r){var t;return(t=e.call(this,r)||this).onChangeHandler=function(e){t.setState(f({},t.state,{fieldValue:e.currentTarget.value||"",isFocused:!0}))},t.onBlurHandler=function(e){t.setState(f({},t.state,{fieldValue:e.currentTarget.value||"",isFocused:!1})),t.props.assignFieldValueActionCreator(t.props.fieldParentTreeName+e.currentTarget.name,""!==e.currentTarget.value?parseFloat(e.currentTarget.value):null)},t.state={fieldValue:"",isFocused:!1},t}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=e.defaultLanguage,c=ee(t),p=c&&(null===a||""===a||void 0===a),m=""!==a&&null!=a&&ne(t,n,l),d=X(l,K(t,u),n+t.name),h=X(l,Z(t,u),n+t.name),v=Q(t,u);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(n+t.name,t.default);var g,E=te(t,n,l);return!p&&!m||s(n+t.name)?p||m||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name),"string"==typeof this.props.fieldValue&&this.props.assignFieldValueActionCreator(n+t.name,parseFloat(this.props.fieldValue)),g=0===a?"0":a,r.createElement(o.FormGroup,null,r.createElement(o.Label,null,d),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Input,{type:"number",step:"any",name:t.name,onChange:this.onChangeHandler,onBlur:this.onBlurHandler,value:this.state.isFocused?this.state.fieldValue||"":g||"",readOnly:E}),t.hint&&r.createElement(o.Label,{className:"hintText"},v),p&&r.createElement(o.Label,{className:"requiredText"},C),m&&r.createElement(o.Label,{className:"constraintText"},h))}return this.state.isFocused&&this.setState(f({},this.state,{isFocused:!1})),null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),$e=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(Ye),Ke=function(e){function t(r){var t;return(t=e.call(this,r)||this).onChangeHandler=function(e){t.setState(f({},t.state,{fieldValue:e.currentTarget.value||"",isFocused:!0}))},t.onBlurHandler=function(e){t.setState(f({},t.state,{fieldValue:e.currentTarget.value||"",isFocused:!1})),t.props.assignFieldValueActionCreator(t.props.fieldParentTreeName+e.currentTarget.name,""!==e.currentTarget.value?parseInt(e.currentTarget.value,10):null)},t.state={fieldValue:"",isFocused:!1},t}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=e.defaultLanguage,c=ee(t),p=c&&(null===a||""===a||void 0===a),m=""!==a&&null!=a&&ne(t,n,l),d=X(l,K(t,u),n+t.name),h=X(l,Z(t,u),n+t.name)||"",v=Q(t,u);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(n+t.name,t.default);var g,E=te(t,n,l);return!p&&!m||s(n+t.name)?p||m||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name),"string"==typeof this.props.fieldValue&&this.props.assignFieldValueActionCreator(n+t.name,parseInt(this.props.fieldValue,10)),g=0===a?"0":a,r.createElement(o.FormGroup,null,r.createElement(o.Label,null,d),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Input,{type:"number",name:t.name,onChange:this.onChangeHandler,onBlur:this.onBlurHandler,value:this.state.isFocused?this.state.fieldValue||"":g||"",readOnly:E}),t.hint&&r.createElement(o.Label,{className:"hintText"},v),p&&r.createElement(o.Label,{className:"requiredText"},C),m&&r.createElement(o.Label,{className:"constraintText"},h))}return this.state.isFocused&&this.setState(f({},this.state,{isFocused:!1})),null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),Qe=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(Ke),Xe=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=e.defaultLanguage,c=ee(t),p=c&&(!a||""===a),m=a&&""!==a&&ne(t,n,l),d=K(t,u),f=X(l,Z(t,u),n+t.name);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(t.name,t.default);var h=Q(t,u);return!p&&!m||s(n+t.name)?p||m||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name),r.createElement(o.FormGroup,null,r.createElement(o.Label,null,d),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),t.hint&&r.createElement(o.FormText,{className:"hintText"},h),p&&r.createElement(o.Label,{className:"requiredText"},C),m&&r.createElement(o.Label,{className:"constraintText"},f))}return null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),Ze=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(Xe),er=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).onChangeHandler=function(e){r.props.assignFieldValueActionCreator(e.currentTarget.name,e.currentTarget.value)},r}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldValue,a=e.defaultLanguage,i=ee(t),l=K(t,a);return r.createElement(o.FormGroup,null,r.createElement(o.Label,null,l),i&&r.createElement(o.Label,null,"*"),r.createElement(o.Input,{type:"file",accept:"image/*",name:t.name,onChange:this.onChangeHandler,value:n}),i&&r.createElement(o.Label,null,C))},t}(r.Component),rr=n.connect(function(e,r){return{fieldValue:Le(e,r.fieldElement.name)}},{assignFieldValueActionCreator:ve})(er),tr=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).setOptionList=function(e){var t=[];e.map(function(e){var r={};r.name=e.name,r.label=e.label,t.push(r)}),c.isEqual(r.props.optionList,f({},t))||r.props.assignOptionListActionCreator(r.props.fieldParentTreeName+r.props.fieldElement.name,t)},r.onChangeHandler=function(e){return function(t){var n=[],a=0;t?(t.map(function(){n.includes(t[a].value)||n.push(t[a].value),a++}),r.props.assignFieldValueActionCreator(r.props.fieldParentTreeName+e,n)):r.props.assignFieldValueActionCreator(r.props.fieldParentTreeName+e,null)}},r.getProcessedString=function(e){var t=(e.match(/\([^\)]+\)/i)||[""])[0];if(t.length>2){var n=(t=t.substring(1,t.length-1)).split(","),a=[].concat(n);return a=a.splice(2,a.length),r.extractAndFilterOptions(n[0],n[1]||null,a||[])}return[]},r.extractAndFilterOptions=function(e,t,n){t&&(t=(t=t.trim()).substring(1,t.length-1).trim());var a=[],i=[],o=[];if(r.props.csvList[e=e.substring(1,e.length-1)+".csv"]){var l=e.replace(/'/g,"");a=r.props.csvList[l]||[]}if(t&&"matches"===t.trim()){for(var s=0,u=function(){var e=n[s].trim();e=e.substring(1,e.length-1).trim();var t=n[s+1],i=[].concat(a),l=[];i.forEach(function(e){l=r.props.getEvaluatedExpressionSelectorForSelect(t,r.props.fieldParentTreeName+r.props.fieldElement.name,e)});var u=0;l.map(function(){a.map(function(r){r[e]===l[u]&&o.push(r)}),u+=1}),s+=2};s<n.length;)u();a=[].concat(Array.from(new Set(o)))}if(0!==a.length){var p="",m="";return r.props.fieldElement.children&&r.props.fieldElement.children[0]&&r.props.fieldElement.children[0].name&&r.props.fieldElement.children[0].label&&(p=K(r.props.fieldElement.children[0],r.props.defaultLanguage),m=r.props.fieldElement.children[0].name),a.forEach(function(e){var r={};r.label=e[p].trim(),r.name=e[m].trim(),i.push(r)}),c.uniqBy(i,"name")}return[]},r}return h(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.choices,a=t.fieldElement,i=t.fieldParentTreeName,s=t.fieldValue,u=t.isComponentRender,p=t.getEvaluatedExpressionSelector,m=t.isPresentInErrorSelector,d=t.defaultLanguage,f=ee(a),h=f&&(!s||s===[]),v=s&&s!==[]&&ne(a,i,p),g=X(p,K(a,d),i+a.name),E=X(p,Z(a,d),i+a.name),b=Q(a,d);if(u){null==s&&"default"in a&&this.props.assignFieldValueActionCreator(i+a.name,a.default),!h&&!v||m(i+a.name)?h||v||!m(i+a.name)||this.props.removeErrorInputIdActionCreator(i+a.name):this.props.addErrorInputIdActionCreator(i+a.name);var y=[],I=[];if(a.control&&a.control.appearance){var A=a.control.appearance.toString().replace("minimal","");if(/search\([^\)|(]+\)/i.test(A)){var T=A.match(/search\([^\)|(]+\)/i)||[""];y=this.getProcessedString(T[0])}}if(a.control&&a.control.appearance&&/search\([^\)|(]+\)/i.test(a.control.appearance))y.map(function(e){return I.push({label:e.label,value:e.name})}),this.setOptionList(y);else if(a.itemset){if(n&&n[a.itemset.trim()]){c.forEach(n[a.itemset.trim()],function(r){if(a.choice_filter&&e.props.getEvaluatedExpressionSelectorForSelect(a.choice_filter,i+a.name,r)){var t=K(r,d);I.push({label:t,value:r.name})}});var L=[];I&&I.map(function(e){var r={};r.name=e.value,r.label=e.label,L.push(r)}),this.setOptionList(L)}}else a.children&&(a.children.map(function(e){var r=K(e,d);I.push({label:r,value:e.name})}),this.setOptionList(a.children));var N=[],F=!1;if(s&&s.length>0){var S=[];I.map(function(e){e.value&&S.push(e.value)});var x=s,V=Array.isArray(x),P=0;for(x=V?x:x[Symbol.iterator]();;){var O;if(V){if(P>=x.length)break;O=x[P++]}else{if((P=x.next()).done)break;O=P.value}var q=O;S.includes(q)?N.push(q):F=!0}}s&&s.length>0&&F&&this.props.assignFieldValueActionCreator(this.props.fieldParentTreeName+a.name,N||[]);var R=[];return s&&s.length>0&&I.map(function(e){var r=s,t=Array.isArray(r),n=0;for(r=t?r:r[Symbol.iterator]();;){var a;if(t){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}e.value===a&&R.push(e)}}),r.createElement(o.FormGroup,null,r.createElement(o.Label,null,g),f&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement("div",{key:a.name,className:"selectAllDropDown"},r.createElement(l,{isMulti:!0,name:a.name,options:I,onChange:this.onChangeHandler(a.name),value:R||[]})),a.hint&&r.createElement(o.Label,{className:"hintText"},b),h&&r.createElement(o.Label,{className:"requiredText"},C),v&&r.createElement(o.Label,{className:"constraintText"},E))}return null!=s&&(this.props.assignFieldValueActionCreator(i+a.name,null),m(i+a.name)&&this.props.removeErrorInputIdActionCreator(i+a.name)),null!=this.props.optionList&&this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,null),null},t}(r.Component),nr=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,getEvaluatedExpressionSelectorForSelect:function(r,t,n){return Se(e,r,n,t)},isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)},optionList:Ne(e,n+t.name)}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,assignOptionListActionCreator:ge,removeErrorInputIdActionCreator:be})(tr),ar=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).onChangeHandlerCheckBox=function(e){var t=r.props,n=t.fieldValue,a=t.fieldParentTreeName+t.fieldElement.name;if(e.target.checked)n&&n.length>0&&!n.includes(e.target.value)?r.props.assignFieldValueActionCreator(a,[].concat(n,[e.target.value])):r.props.assignFieldValueActionCreator(a,[e.target.value]);else if(n&&n.length>0&&n.includes(e.target.value)){var i=n.filter(function(r){return r!==e.target.value});r.props.assignFieldValueActionCreator(a,i.length?i:null)}},r.getProcessedString=function(e){var t=(e.match(/\([^\)]+\)/i)||[""])[0];if(t.length>2){var n=(t=t.substring(1,t.length-1)).split(","),a=[].concat(n);return a=a.splice(2,a.length),r.extractAndFilterOptions(n[0],n[1]||null,a||[])}return[]},r.extractAndFilterOptions=function(e,t,n){t&&(t=(t=t.trim()).substring(1,t.length-1).trim());var a=[],i=[],o=[];if(r.props.csvList[e=e.substring(1,e.length-1)+".csv"]){var l=e.replace(/'/g,"");a=r.props.csvList[l]||[]}if(t&&"matches"===t.trim()){for(var s=0,u=function(){var e=n[s].trim();e=e.substring(1,e.length-1).trim();var t=n[s+1],i=[].concat(a),l=[];i.forEach(function(e){l=r.props.getEvaluatedExpressionSelectorForSelect(t,r.props.fieldParentTreeName+r.props.fieldElement.name,e)});var u=0;l.map(function(){a.map(function(r){r[e]===l[u]&&o.push(r)}),u+=1}),s+=2};s<n.length;)u();a=[].concat(Array.from(new Set(o)))}if(0!==a.length){var p="",m="";return r.props.fieldElement.children&&r.props.fieldElement.children[0]&&r.props.fieldElement.children[0].name&&r.props.fieldElement.children[0].label&&(p=K(r.props.fieldElement.children[0],r.props.defaultLanguage),m=r.props.fieldElement.children[0].name),a.forEach(function(e){var r={};r.label=e[p].trim(),r.name=e[m].trim(),i.push(r)}),c.uniqBy(i,"name")}return[]},r}return h(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.choices,a=t.fieldElement,i=t.fieldParentTreeName,l=t.fieldValue,s=t.isComponentRender,u=t.getEvaluatedExpressionSelector,p=t.isPresentInErrorSelector,m=t.defaultLanguage,d=ee(a),h=d&&(!l||l===[]),v=l&&l!==[]&&ne(a,i,u),g=X(u,K(a,m),i+a.name),E=X(u,Z(a,m),i+a.name),b=Q(a,m);if(s){null==l&&"default"in a&&this.props.assignFieldValueActionCreator(i+a.name,a.default);var y=te(a,i,u);!h&&!v||p(i+a.name)?h||v||!p(i+a.name)||this.props.removeErrorInputIdActionCreator(i+a.name):this.props.addErrorInputIdActionCreator(i+a.name);var I=[],A=[];if(a.control&&a.control.appearance){var T=a.control.appearance.toString().replace("minimal","");if(/search\([^\)|(]+\)/i.test(T)){var L=T.match(/search\([^\)|(]+\)/i)||[""];I=this.getProcessedString(L[0])}}var N=[];a.children&&a.children.map(function(e){var r={};r.name=e.name,r.label=e.label,N.push(r)});var F=[];if(a.control&&a.control.appearance&&/search\([^\)|(]+\)/i.test(a.control.appearance)){F=[],A=[];var S=[],x=!1;if(I.map(function(e){return A.push({label:e.label,value:e.name})}),l&&l.length>0){var V=[];A.map(function(e){e.value&&V.push(e.value)});var P=l,O=Array.isArray(P),q=0;for(P=O?P:P[Symbol.iterator]();;){var R;if(O){if(q>=P.length)break;R=P[q++]}else{if((q=P.next()).done)break;R=q.value}var w=R;V.includes(w)?S.push(w):x=!0}}l&&l.length>0&&x&&this.props.assignFieldValueActionCreator(this.props.fieldParentTreeName+a.name,S||[]),c.isEqual(this.props.optionList,f({},I))||this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,I),F=[].concat(I)}else if(a.itemset){F=[],A=[];var k=[],G=[],H=!1;if(n&&n[a.itemset.trim()]&&c.forEach(n[a.itemset.trim()],function(r){if(a.choice_filter&&e.props.getEvaluatedExpressionSelectorForSelect(a.choice_filter,i+a.name,r)){var t=K(r,m);A.push({label:t,value:r.name})}}),l&&l.length>0){var j=[];A.map(function(e){e.value&&j.push(e.value)});var _=l,D=Array.isArray(_),M=0;for(_=D?_:_[Symbol.iterator]();;){var B;if(D){if(M>=_.length)break;B=_[M++]}else{if((M=_.next()).done)break;B=M.value}var U=B;j.includes(U)?k.push(U):H=!0}}l&&l.length>0&&H&&this.props.assignFieldValueActionCreator(this.props.fieldParentTreeName+a.name,k||[]),A&&A.map(function(e){var r={};r.name=e.value,r.label=e.label,G.push(r)}),c.isEqual(this.props.optionList,f({},G))||this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,G),F=[].concat(G)}else F=[],A=[],a.children&&a.children.map(function(e){return A.push({label:e.label,value:e.name})}),c.isEqual(this.props.optionList,f({},N))||this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,N),F=[].concat(N);var z=[];l&&l.length>0&&A.map(function(e){var r=l,t=Array.isArray(r),n=0;for(r=t?r:r[Symbol.iterator]();;){var a;if(t){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}e.value===a&&z.push(e.value)}});var W=!1;return a.control&&a.control.appearance&&a.control.appearance.split(" ").forEach(function(e){W||"horizontal-compact"!==e||(W=!0)}),r.createElement("div",null,r.createElement(o.Label,null,g),d&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Form,{key:"selectAll"},F.map(function(t,n){return r.createElement(o.FormGroup,{key:n,check:!0,inline:W},r.createElement(o.Label,{check:!0},r.createElement(o.Input,{key:a.name+"-"+n,type:"checkbox",name:a.name,value:t.name||[],onChange:e.onChangeHandlerCheckBox,readOnly:y,checked:z.includes(t.name)})," ",K(t,m)))})),a.hint&&r.createElement(o.Label,{className:"hintText"},b),h&&r.createElement(o.Label,{className:"requiredText"},C),v&&r.createElement(o.Label,{className:"constraintText"},E))}return null!=l&&(this.props.assignFieldValueActionCreator(i+a.name,null),p(i+a.name)&&this.props.removeErrorInputIdActionCreator(i+a.name)),null!=this.props.optionList&&this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,null),null},t}(r.Component),ir=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,getEvaluatedExpressionSelectorForSelect:function(r,t,n){return Se(e,r,n,t)},isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)},optionList:Ne(e,n+t.name)}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,assignOptionListActionCreator:ge,removeErrorInputIdActionCreator:be})(ar),or=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){return oe(this.props.fieldElement)?r.createElement(nr,Object.assign({},this.props)):r.createElement(ir,Object.assign({},this.props))},t}(r.Component),lr=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).setOptionList=function(e){var t=[];e.map(function(e){var r={};r.name=e.name,r.label=e.label,t.push(r)}),c.isEqual(r.props.optionList,f({},t))||r.props.assignOptionListActionCreator(r.props.fieldParentTreeName+r.props.fieldElement.name,t)},r.onChangeHandler=function(e){return function(t){r.props.assignFieldValueActionCreator(r.props.fieldParentTreeName+e,t.value||"")}},r.getProcessedString=function(e){var t=(e.match(/\([^\)]+\)/i)||[""])[0];if(t.length>2){var n=(t=t.substring(1,t.length-1)).split(","),a=[].concat(n);return a=a.splice(2,a.length),r.extractAndFilterOptions(n[0],n[1]||null,a||[])}return[]},r.extractAndFilterOptions=function(e,t,n){t&&(t=(t=t.trim()).substring(1,t.length-1).trim());var a=[],i=[];if(r.props.csvList[e=e.substring(1,e.length-1)+".csv"]){var o=e.replace(/'/g,"");a=r.props.csvList[o]||[]}if(t&&"matches"===t.trim())for(var l=0,s=function(){var e=n[l].trim();e=e.substring(1,e.length-1).trim();var t=n[l+1],i=[].concat(a),o="";i.forEach(function(e){o=r.props.getEvaluatedExpressionSelectorForSelect(t,r.props.fieldParentTreeName+r.props.fieldElement.name,e)}),a=a.filter(function(r){return r[e]===o}),l+=2};l<n.length;)s();if(0!==a.length){var u="",p="";return r.props.fieldElement.children&&r.props.fieldElement.children[0]&&r.props.fieldElement.children[0].name&&r.props.fieldElement.children[0].label&&(u=K(r.props.fieldElement.children[0],r.props.defaultLanguage),p=r.props.fieldElement.children[0].name),a.forEach(function(e){var r={};r.label=e[u].trim(),r.name=e[p].trim(),i.push(r)}),c.uniqBy(i,"name")}return[]},r}return h(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.choices,a=t.fieldElement,i=t.fieldParentTreeName,s=t.fieldValue,u=t.isComponentRender,p=t.getEvaluatedExpressionSelector,m=t.isPresentInErrorSelector,d=t.defaultLanguage,f=ee(a),h=f&&(!s||""===s),v=s&&""!==s&&ne(a,i,p),g=X(p,K(a,d),i+a.name),E=X(p,Z(a,d),i+a.name),b=Q(a,d);if(u){null==s&&"default"in a&&this.props.assignFieldValueActionCreator(i+a.name,a.default),!h&&!v||m(i+a.name)?h||v||!m(i+a.name)||this.props.removeErrorInputIdActionCreator(i+a.name):this.props.addErrorInputIdActionCreator(i+a.name);var y,I=[],A=[];if(a.control&&a.control.appearance){var T=a.control.appearance.toString().replace("minimal","");if(/search\([^\)|(]+\)/i.test(T)){var L=T.match(/search\([^\)|(]+\)/i)||[""];I=this.getProcessedString(L[0])}}if(a.control&&a.control.appearance&&/search\([^\)|(]+\)/i.test(a.control.appearance)?(I.map(function(e){return A.push({label:e.label,value:e.name})}),this.setOptionList(I)):a.itemset?n&&n[a.itemset.trim()]&&(c.forEach(n[a.itemset.trim()],function(r){if(a.choice_filter&&e.props.getEvaluatedExpressionSelectorForSelect(a.choice_filter,i+a.name,r)){var t=K(r,d);A.push({label:t,value:r.name})}}),this.setOptionList(n[a.itemset.trim()])):a.children&&(a.children.map(function(e){var r=K(e,d);A.push({label:r,value:e.name})}),this.setOptionList(a.children)),s){var N=[];A.map(function(e){e.value&&N.push(e.value)}),N.includes(s)||this.props.assignFieldValueActionCreator(this.props.fieldParentTreeName+a.name,"")}return A.map(function(e){e.value===s&&(y=e)}),r.createElement(o.FormGroup,null,r.createElement(o.Label,null,g),f&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement("div",{key:a.name,className:"selectOneDropDown"},r.createElement(l,{multi:!1,name:a.name,options:A,value:y||"",onChange:this.onChangeHandler(a.name)})),a.hint&&r.createElement(o.Label,{className:"hintText"},b),h&&r.createElement(o.Label,{className:"requiredText"},C),v&&r.createElement(o.Label,{className:"constraintText"},E))}return null!=s&&(this.props.assignFieldValueActionCreator(i+a.name,null),m(i+a.name)&&this.props.removeErrorInputIdActionCreator(i+a.name)),null},t}(r.Component),sr=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,getEvaluatedExpressionSelectorForSelect:function(r,t,n){return Se(e,r,n,t)},isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)},optionList:Ne(e,n+t.name)}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,assignOptionListActionCreator:ge,removeErrorInputIdActionCreator:be})(lr),ur=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).onChangeHandlerRadio=function(e){return function(t){r.props.assignFieldValueActionCreator(r.props.fieldParentTreeName+e,t.target.value||"")}},r.getProcessedString=function(e){var t=(e.match(/\([^\)]+\)/i)||[""])[0];if(t.length>2){var n=(t=t.substring(1,t.length-1)).split(","),a=[].concat(n);return a=a.splice(2,a.length),r.extractAndFilterOptions(n[0],n[1]||null,a||[])}return[]},r.extractAndFilterOptions=function(e,t,n){t&&(t=(t=t.trim()).substring(1,t.length-1).trim());var a=[],i=[];if(r.props.csvList[e=e.substring(1,e.length-1)+".csv"]){var o=e.replace(/'/g,"");a=r.props.csvList[o]||[]}if(t&&"matches"===t.trim())for(var l=0,s=function(){var e=n[l].trim();e=e.substring(1,e.length-1).trim();var t=n[l+1],i=[].concat(a),o="";i.forEach(function(e){o=r.props.getEvaluatedExpressionSelectorForSelect(t,r.props.fieldParentTreeName+r.props.fieldElement.name,e)}),a=a.filter(function(r){return r[e]===o}),l+=2};l<n.length;)s();if(0!==a.length){var u="",p="";return r.props.fieldElement.children&&r.props.fieldElement.children[0]&&r.props.fieldElement.children[0].name&&r.props.fieldElement.children[0].label&&(u=K(r.props.fieldElement.children[0],r.props.defaultLanguage),p=r.props.fieldElement.children[0].name),a.forEach(function(e){var r={};r.label=e[u].trim(),r.name=e[p].trim(),i.push(r)}),c.uniqBy(i,"name")}return[]},r}return h(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.choices,a=t.fieldElement,i=t.fieldParentTreeName,l=t.fieldValue,s=t.isComponentRender,u=t.getEvaluatedExpressionSelector,p=t.isPresentInErrorSelector,m=t.defaultLanguage,d=ee(a),h=d&&(!l||""===l),v=l&&""!==l&&ne(a,i,u),g=X(u,K(a,m),i+a.name),E=X(u,Z(a,m),i+a.name),b=Q(a,m);if(s){null==l&&"default"in a&&this.props.assignFieldValueActionCreator(i+a.name,a.default);var y=te(a,i,u);!h&&!v||p(i+a.name)?h||v||!p(i+a.name)||this.props.removeErrorInputIdActionCreator(i+a.name):this.props.addErrorInputIdActionCreator(i+a.name);var I=[];if(a.control&&a.control.appearance&&/search\([^\)|(]+\)/i.test(a.control.appearance)){var A=a.control.appearance.match(/search\([^\)|(]+\)/i)||[""];I=this.getProcessedString(A[0])}var T=[];a.children&&a.children.map(function(e){var r={};r.name=e.name,r.label=e.label,T.push(r)});var L=[];if(a.control&&a.control.appearance&&/search\([^\)|(]+\)/i.test(a.control.appearance)){if(L=[],l){var N=[];I.map(function(e){e.name&&N.push(e.name)}),N.includes(l)||this.props.assignFieldValueActionCreator(this.props.fieldParentTreeName+a.name,"")}c.isEqual(this.props.optionList,f({},I))||this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,I),L=[].concat(I)}else if(a.itemset){var F=[];if(L=[],n&&n[a.itemset.trim()]){if(c.forEach(n[a.itemset.trim()],function(r){if(a.choice_filter&&e.props.getEvaluatedExpressionSelectorForSelect(a.choice_filter,i+a.name,r)){var t=K(r,m);F.push({label:t,name:r.name})}}),l){var S=[];F.map(function(e){e.name&&S.push(e.name)}),S.includes(l)||this.props.assignFieldValueActionCreator(this.props.fieldParentTreeName+a.name,"")}c.isEqual(this.props.optionList,f({},F))||this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,F),L=[].concat(F)}}else L=[],c.isEqual(this.props.optionList,f({},T))||this.props.assignOptionListActionCreator(this.props.fieldParentTreeName+a.name,T),L=[].concat(T);var x=!1;return a.control&&a.control.appearance&&a.control.appearance.split(" ").forEach(function(e){x||"horizontal-compact"!==e||(x=!0)}),r.createElement("div",null,r.createElement(o.Label,null,g),d&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Form,{key:"selectOne"},L.map(function(t,n){return r.createElement(o.FormGroup,{key:n,check:!0,inline:x},r.createElement(o.Label,{check:!0},r.createElement(o.Input,{key:a.name+"-"+n,type:"radio",name:a.name,value:t.name,onChange:e.onChangeHandlerRadio(a.name),readOnly:y,checked:t.name===l})," ",K(t,m)))})),a.hint&&r.createElement(o.Label,{className:"hintText"},b),h&&r.createElement(o.Label,{className:"requiredText"},C),v&&r.createElement(o.Label,{className:"constraintText"},E))}return null!=l&&(this.props.assignFieldValueActionCreator(i+a.name,null),p(i+a.name)&&this.props.removeErrorInputIdActionCreator(i+a.name)),null},t}(r.Component),cr=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,getEvaluatedExpressionSelectorForSelect:function(r,t,n){return Se(e,r,n,t)},isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)},optionList:Ne(e,n+t.name)}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,assignOptionListActionCreator:ge,removeErrorInputIdActionCreator:be})(ur),pr=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){return oe(this.props.fieldElement)?r.createElement(sr,Object.assign({},this.props)):r.createElement(cr,Object.assign({},this.props))},t}(r.Component),mr=function(e){function t(r){var t;return(t=e.call(this,r)||this).onChangeHandler=function(e){t.setState(f({},t.state,{fieldValue:e.currentTarget.value||"",isFocused:!0}))},t.onBlurHandler=function(e){t.setState(f({},t.state,{fieldValue:e.currentTarget.value||"",isFocused:!1})),t.props.assignFieldValueActionCreator(t.props.fieldParentTreeName+e.currentTarget.name,e.currentTarget.value||"")},t.state={fieldValue:"",isFocused:!1},t}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=e.defaultLanguage,c=ee(t),p=c&&(!a||""===a),m=a&&""!==a&&ne(t,n,l),d=X(l,K(t,u),n+t.name),h=X(l,Z(t,u),n+t.name),v=Q(t,u);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(n+t.name,t.default);var g,E=te(t,n,l);return!p&&!m||s(n+t.name)?p||m||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name),t.bind&&t.bind.calculate?((g=this.props.getEvaluatedExpressionSelector(t.bind.calculate,n+t.name))!==a&&this.props.assignFieldValueActionCreator(n+t.name,g),r.createElement(o.FormGroup,null,r.createElement(o.Label,null,d),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Input,{type:"text",name:t.name,onChange:this.onChangeHandler,onBlur:this.onBlurHandler,value:this.state.isFocused?this.state.fieldValue||"":g||"",readOnly:E}),t.hint&&r.createElement(o.Label,{className:"hintText"},v),p&&r.createElement(o.Label,{className:"requiredText"},C),m&&r.createElement(o.Label,{className:"constraintText"},h))):r.createElement(o.FormGroup,null,r.createElement(o.Label,null,d),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Input,{type:"text",name:t.name,onChange:this.onChangeHandler,onBlur:this.onBlurHandler,value:this.state.isFocused?this.state.fieldValue||"":a||"",readOnly:E}),t.hint&&r.createElement(o.Label,{className:"hintText"},v),p&&r.createElement(o.Label,{className:"requiredText"},C),m&&r.createElement(o.Label,{className:"constraintText"},h))}return this.state.isFocused&&this.setState(f({},this.state,{isFocused:!1})),null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),dr=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(mr),fr=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).onChangeHandler=function(e){r.props.assignFieldValueActionCreator(r.props.fieldParentTreeName+e.currentTarget.name,""!==e.currentTarget.value?e.currentTarget.value:null)},r}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.fieldElement,n=e.fieldParentTreeName,a=e.fieldValue,i=e.isComponentRender,l=e.getEvaluatedExpressionSelector,s=e.isPresentInErrorSelector,u=e.defaultLanguage,c=ee(t),p=c&&(!a||""===a),m=a&&""!==a&&ne(t,n,l),d=X(l,K(t,u),n+t.name),f=X(l,Z(t,u),n+t.name),h=Q(t,u);if(i){null==a&&"default"in t&&this.props.assignFieldValueActionCreator(n+t.name,t.default);var v=te(t,n,l);return!p&&!m||s(n+t.name)?p||m||!s(n+t.name)||this.props.removeErrorInputIdActionCreator(n+t.name):this.props.addErrorInputIdActionCreator(n+t.name),r.createElement(o.FormGroup,null,r.createElement(o.Label,null,d),c&&r.createElement(o.Label,{className:"requiredTextSteric"},"*"),r.createElement(o.Input,{type:"time",name:t.name,onChange:this.onChangeHandler,value:a||"",readOnly:v}),t.hint&&r.createElement(o.Label,{className:"hintText"},h),p&&r.createElement(o.Label,{className:"requiredText"},C),m&&r.createElement(o.Label,{className:"constraintText"},f))}return null!=a&&(this.props.assignFieldValueActionCreator(n+t.name,null),s(n+t.name)&&this.props.removeErrorInputIdActionCreator(n+t.name)),null},t}(r.Component),hr=n.connect(function(e,r){var t=r.fieldElement,n=r.fieldParentTreeName,a=function(r,t){return Fe(e,r,t)};return{fieldValue:Le(e,n+t.name),getEvaluatedExpressionSelector:a,isComponentRender:re(t,n,a),isPresentInErrorSelector:function(r){return xe(e,r)}}},{addErrorInputIdActionCreator:Ce,assignFieldValueActionCreator:ve,removeErrorInputIdActionCreator:be})(fr),vr=function(e){function t(){return e.apply(this,arguments)||this}h(t,e);var n=t.prototype;return n.render=function(){var e=this.props;return this.typeEvaluator(e.choices,e.csvList,e.fieldElement,e.fieldParentTreeName,e.defaultLanguage)},n.typeEvaluator=function(e,t,n,a,i){switch(n.type){case"text":return r.createElement(dr,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"date":return r.createElement(ze,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"time":return r.createElement(hr,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"dateTime":return r.createElement(Je,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"integer":return r.createElement(Qe,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"decimal":return r.createElement($e,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"note":return r.createElement(Ze,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"calculate":return r.createElement(Be,{fieldElement:n,fieldParentTreeName:a,defaultLanguage:i});case"select one":return r.createElement(pr,{choices:e,fieldElement:n,fieldParentTreeName:a,defaultLanguage:i,csvList:t});case"select all that apply":return r.createElement(or,{choices:e,fieldElement:n,fieldParentTreeName:a,defaultLanguage:i,csvList:t});case"photo":return r.createElement(rr,{fieldElement:n,defaultLanguage:i});default:return r.createElement("div",{style:{display:"none"}},"Other ",n.type," ",n.name)}},t}(r.Component),gr=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).getAppearanceValue=function(e,r){if(r&&e.control&&e.control.appearance&&/^w(\d+)\b/i.test(e.control.appearance)){var t=e.control.appearance.match(/^w(\d+)\b/i)[0].replace("w","");return isNaN(t)?12:parseInt(t,10)}return 12},r}h(t,e);var n=t.prototype;return n.render=function(){var e=this,t=this.props,n=t.choices,a=t.csvList,i=t.fieldParentTreeName,l=t.defaultLanguage,s=t.isAppearanceApplicable;return r.createElement(o.Row,null,t.fieldElements.map(function(t){return r.createElement(o.Col,{key:"group_"+t.name,className:"groupTypeEvaluator",md:e.getAppearanceValue(t,s)},e.typeEvaluator(n,a,t,i,l))}))},n.typeEvaluator=function(e,t,n,a,i){switch(n.type){case"group":return r.createElement("div",null,r.createElement(we,{choices:e,fieldElement:n,fieldParentTreeName:a,defaultLanguage:i,csvList:t}));case"repeat":return r.createElement("div",null,r.createElement(De,{choices:e,fieldElement:n,fieldParentTreeName:a,defaultLanguage:i,csvList:t}));default:return r.createElement(vr,{choices:e,fieldElement:n,fieldParentTreeName:a,defaultLanguage:i,csvList:t})}},t}(r.Component);a.library.add(i.faPlusCircle,i.faMinusCircle);var Er=function(e){function t(r){var t;return(t=e.call(this,r)||this).handleSelect=function(e){t.setState({defaultLanguage:e})},t.handleClick=function(e){var r=t.props,n=r.handleSubmit;r.isNoErrors?n(r.userInputObj):(n("Field Violated"),t.setState({isSubmissionError:!0}),window.scrollTo(0,0))},t.toggleStateValue=function(){t.setState({isSubmissionError:!1})},t}h(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,r=e.userInputJson,t=e.userInputObj;this.props.resetStoreActionCreator(),r&&r!==t&&this.props.setUserInputAction(r),this.setState({defaultLanguage:this.props.defaultLanguage,isSubmissionError:!1})},n.render=function(){var e=this.props,t=e.languageOptions,n=(this.state||this.props).defaultLanguage,a={choices:e.choices,csvList:e.csvList,defaultLanguage:n,fieldElements:e.fieldElements,fieldParentTreeName:"",isAppearanceApplicable:!1,languageOptions:t};return r.createElement(o.Container,{className:"form-container"},r.createElement(o.Row,{className:"form-title formTitle"},r.createElement(o.Col,null,r.createElement("h3",{className:"headerText"},e.formTitle)),r.createElement(E,{languages:t,onChangeSelect:this.handleSelect,defaultLanguage:n})),this.state&&this.state.isSubmissionError&&r.createElement(g,{color:"danger",isOpen:this.state.isSubmissionError,handleToggle:this.toggleStateValue,headerText:"Oh snap! You got an error!",bodyText:"Please make sure the required fields are not missing and there are no errors"}),r.createElement(o.Row,{className:"formFieldBody"},r.createElement(o.Col,null,r.createElement(gr,Object.assign({},a)),r.createElement(o.Row,{className:"welcome-box"},r.createElement(o.Col,null,r.createElement(o.Button,{className:"btn btn-success",onClick:this.handleClick},"Submit"))))))},t}(r.Component),Cr=n.connect(function(e){return{isNoErrors:Oe(e),userInputObj:qe(e)}},{resetStoreActionCreator:function(){return{type:ce}},setUserInputAction:function(e){return{type:he,userInputObj:e}}})(Er),br=m.createStore(Te,d.composeWithDevTools());exports.default=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.formDefinitionJson;return r.createElement(n.Provider,{store:br},r.createElement(Cr,Object.assign({},{choices:t.choices||{},csvList:e.csvList,defaultLanguage:e.defaultLanguage,fieldElements:t.children,formTitle:t.title,handleSubmit:e.handleSubmit,languageOptions:e.languageOptions,userInputJson:e.userInputJson})))},t}(r.Component);
//# sourceMappingURL=odkformrenderer.cjs.production.min.js.map
