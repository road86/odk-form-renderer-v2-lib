{"version":3,"file":"odkformrenderer.cjs.development.js","sources":["../src/utils/Theme.ts","../src/components/Alert/index.tsx","../src/components/DropDown/index.tsx","../src/constants.tsx","../src/store/index.tsx","../src/utils/compiler.ts","../src/utils/helpers.ts","../src/store/ducks/formState.ts","../src/containers/fields/group/Group/styles.ts","../src/containers/fields/group/Group/index.tsx","../src/containers/fields/group/Repeat/Single Repeat/index.tsx","../src/containers/fields/group/Repeat/Controlled Repeat/index.tsx","../src/containers/fields/group/Repeat/Uncontrolled Repeat/index.tsx","../src/containers/fields/group/Repeat/index.tsx","../src/containers/fields/base/Calculate/index.tsx","../src/containers/fields/base/Date/index.tsx","../src/containers/fields/base/Date Time/index.tsx","../src/containers/fields/base/Decimal/index.tsx","../src/containers/fields/base/File/FilePreview/FilePreview.tsx","../src/containers/fields/base/File/index.tsx","../src/containers/fields/base/Integer/index.tsx","../src/containers/fields/base/Note/index.tsx","../src/containers/fields/base/Select All/Dropdown/index.tsx","../src/containers/fields/base/Select All/Radio/index.tsx","../src/containers/fields/base/Select All/index.tsx","../src/containers/fields/base/Select One/Dropdown/index.tsx","../src/containers/fields/base/Select One/Radio/index.tsx","../src/containers/fields/base/Select One/index.tsx","../src/containers/fields/base/Text/index.tsx","../src/containers/fields/base/Time/index.tsx","../src/components/typeEvalutors/Base/index.tsx","../src/components/typeEvalutors/Group/index.tsx","../src/App/index.tsx","../src/index.tsx"],"sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nexport const theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#EF6B73',\r\n      dark: '#BF4A51',\r\n    },\r\n    secondary: {\r\n      main: '#D2AB16',\r\n      light: '#EBFDED',\r\n      dark: '#AD8C0F',\r\n    },\r\n    // error: {\r\n    //   main: '#f44336',\r\n    // },\r\n    // warning: {\r\n    //   main: '#ff9800',\r\n    // },\r\n    //table stripe\r\n    info: {\r\n      dark: '#F5F4F4',\r\n      main: '#EBFDED',\r\n      light: '#F9F9F9',\r\n    },\r\n    // success: {\r\n    //   main: '#4caf50',\r\n    // },\r\n    text: {\r\n      primary: '#EBFDED',\r\n      secondary: '#000000',\r\n      disabled: 'rgba(0, 0, 0, 0.38)',\r\n      hint: 'rgba(0, 0, 0, 0.38)',\r\n    },\r\n    // divider: 'rgba(0, 0, 0, 0.12)',\r\n    // background: {\r\n    //   paper: '#fff',\r\n    //   default: '#fff',\r\n    // },\r\n    // action: {\r\n    //   active: '#EEEEEE',\r\n    //   hover: '#888888',\r\n    //   hoverOpacity: 0.04,\r\n    //   selected: '#FFFFFF',\r\n    //   disabled: '#666666',\r\n    // },\r\n  },\r\n  typography: {\r\n    h1: {\r\n      fontWeight: 700,\r\n      // lineHeight: 0.35,\r\n      fontSize: 30,\r\n      // color: '#FFFFFF',\r\n    },\r\n    h2: {\r\n      fontWeight: 500,\r\n      fontSize: 20,\r\n      // lineHeight: 0.23,\r\n    },\r\n    h3: {\r\n      fontWeight: 400,\r\n      fontSize: 18,\r\n      // lineHeight: 0.21,\r\n      // color: '#FFFFFF',\r\n    },\r\n    h4: {\r\n      fontWeight: 700,\r\n      // lineHeight: 0.35,\r\n      fontSize: 26,\r\n    },\r\n    body1: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 400,\r\n      // lineHeight: 1.18,\r\n      fontSize: 16,\r\n    },\r\n    caption: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 600,\r\n      // lineHeight: 0.18,\r\n      fontSize: 16,\r\n    },\r\n    subtitle1: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 400,\r\n      // lineHeight: 0.18,\r\n      fontSize: 16,\r\n    },\r\n    subtitle2: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 500,\r\n      // lineHeight: 0.18,\r\n      fontSize: 16,\r\n    },\r\n  },\r\n  //menu\r\n  overrides: {\r\n    MuiPaper: {\r\n      root: {\r\n        color: '#222222 !important',\r\n      },\r\n    },\r\n  },\r\n});\r\n","import * as React from 'react';\r\nimport { Alert } from 'reactstrap';\r\n\r\nexport interface KbAlertProps {\r\n  headerText: string;\r\n  bodyText: string;\r\n  handleToggle: any;\r\n  isOpen: boolean;\r\n  color: string;\r\n}\r\n\r\nclass KbAlert extends React.Component<KbAlertProps> {\r\n  public render() {\r\n    const { headerText, bodyText, handleToggle, isOpen, color } = this.props;\r\n    return (\r\n      <Alert color={color} isOpen={isOpen} toggle={handleToggle}>\r\n        <h4 className=\"alert-heading\">{headerText}</h4>\r\n        <p>{bodyText}</p>\r\n      </Alert>\r\n    );\r\n  }\r\n}\r\n\r\nexport default KbAlert;\r\n","import * as React from 'react';\r\nimport Select from 'react-select';\r\n\r\nexport interface DropDownProps {\r\n  languages: any;\r\n  onChangeSelect: any;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nclass DropDown extends React.Component<DropDownProps> {\r\n  public render() {\r\n    const options: Options[] = [];\r\n    const languageOptions = [...this.props.languages];\r\n    languageOptions.map((elem: any) => {\r\n      options.push({ label: elem.label, value: elem.value });\r\n    });\r\n\r\n    let selectedValue: any;\r\n    options.map(elem => {\r\n      if (elem.value === this.props.defaultLanguage) {\r\n        selectedValue = elem;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <Select\r\n        multi={false}\r\n        options={options}\r\n        className={'col-md-2 dropDown'}\r\n        placeholder=\"Language\"\r\n        onChange={this.onChangeHandler}\r\n        value={selectedValue || ''}\r\n      />\r\n    );\r\n  }\r\n\r\n  /** pass the selected value to the parent class\r\n   * @param {any} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: any) => {\r\n    this.props.onChangeSelect(event.value);\r\n  };\r\n}\r\n\r\nexport default DropDown;\r\n","// Field Types\r\nexport const GROUP_FIELD_TYPE = 'group';\r\nexport type GROUP_FIELD_TYPE = typeof GROUP_FIELD_TYPE;\r\nexport const REPEAT_FIELD_TYPE = 'repeat';\r\nexport type REPEAT_FIELD_TYPE = typeof REPEAT_FIELD_TYPE;\r\nexport const TEXT_FIELD_TYPE = 'text';\r\nexport type TEXT_FIELD_TYPE = typeof TEXT_FIELD_TYPE;\r\nexport const DATE_FIELD_TYPE = 'date';\r\nexport type DATE_FIELD_TYPE = typeof DATE_FIELD_TYPE;\r\nexport const DATE_TIME_FIELD_TYPE = 'dateTime';\r\nexport type TIME_FIELD_TYPE = typeof TIME_FIELD_TYPE;\r\nexport const TIME_FIELD_TYPE = 'time';\r\nexport type DATE_TIME_FIELD_TYPE = typeof DATE_TIME_FIELD_TYPE;\r\nexport const INTEGER_FIELD_TYPE = 'integer';\r\nexport type INTEGER_FIELD_TYPE = typeof INTEGER_FIELD_TYPE;\r\nexport const DECIMAL_FIELD_TYPE = 'decimal';\r\nexport type DECIMAL_FIELD_TYPE = typeof DECIMAL_FIELD_TYPE;\r\nexport const PHOTO_FIELD_TYPE = 'photo';\r\nexport type PHOTO_FIELD_TYPE = typeof PHOTO_FIELD_TYPE;\r\nexport const FILE_FIELD_TYPE = 'file';\r\nexport type FILE_FIELD_TYPE = typeof FILE_FIELD_TYPE;\r\nexport const NOTE_FIELD_TYPE = 'note';\r\nexport type NOTE_FIELD_TYPE = typeof NOTE_FIELD_TYPE;\r\nexport const SELECT_ONE_FIELD_TYPE = 'select one';\r\nexport type SELECT_ONE_FIELD_TYPE = typeof SELECT_ONE_FIELD_TYPE;\r\nexport const SELECT_ALL_FIELD_TYPE = 'select all that apply';\r\nexport type SELECT_ALL_FIELD_TYPE = typeof SELECT_ALL_FIELD_TYPE;\r\nexport const CALCULATE_FIELD_TYPE = 'calculate';\r\nexport type CALCULATE_FIELD_TYPE = typeof CALCULATE_FIELD_TYPE;\r\n\r\n// Required Properties\r\nexport const REQUIRED_FIELD_MSG = 'This field is required';\r\nexport type REQUIRED_FIELD_MSG = typeof REQUIRED_FIELD_MSG;\r\nexport const REQUIRED_SYMBOL = '*';\r\nexport type REQUIRED_SYMBOL = typeof REQUIRED_SYMBOL;\r\n","import { createStore, Store } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport reducer, { FormState } from './ducks/formState';\r\n\r\n/** The initial store */\r\nconst store: Store & FormState = createStore(reducer, composeWithDevTools());\r\n\r\nexport default store;\r\n","// import moment from 'moment';\r\nimport moment from 'moment';\r\nimport store from '../store';\r\n\r\nlet actualExpression: string;\r\nlet currentHierarchicalName: string = '';\r\nlet formItemProperty: any = {};\r\nlet userInput: any = {};\r\n\r\n/**\r\n * tokenizeCharacter is a type of util method\r\n * @param {any} type - the type that will be returned if matches\r\n * @param {any} value - the actual value of the tokenize character\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeCharacter(type: any, value: any, input: any, current: any) {\r\n  return value === input[current] ? [1, { type, value }] : [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeParenOpen returns tokenizeReturnObject for character (\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeParenOpen(input: any, current: any) {\r\n  return tokenizeCharacter('paren', '(', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeBrakeOpen returns tokenizeReturnObject for character [\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeBrakeOpen(input: any, current: any) {\r\n  return tokenizeCharacter('brac', '[', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeBrakeClose returns tokenizeReturnObject for character ]\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeBrakeClose(input: any, current: any) {\r\n  return tokenizeCharacter('brac', ']', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeParenClose returns tokenizeReturnObject for character )\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeParenClose(input: any, current: any) {\r\n  return tokenizeCharacter('paren', ')', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeEqual returns tokenizeReturnObject for character =\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeEqual(input: any, current: any) {\r\n  return tokenizeCharacter('equal', '=', input, current);\r\n}\r\n\r\n/**\r\n * tokenizePlus returns tokenizeReturnObject for character +\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizePlus(input: any, current: any) {\r\n  return tokenizeCharacter('plus', '+', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeMinus returns tokenizeReturnObject for character -\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeMinus(input: any, current: any) {\r\n  return tokenizeCharacter('minus', '-', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeMultiply returns tokenizeReturnObject for character *\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeMultiply(input: any, current: any) {\r\n  return tokenizeCharacter('multiply', '*', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeDivide returns tokenizeReturnObject for character /\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeDivide(input: any, current: any) {\r\n  return tokenizeCharacter('divide', '/', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeLessThan returns tokenizeReturnObject for character <\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeLessThan(input: any, current: any) {\r\n  return tokenizeCharacter('lessThan', '<', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeGreaterThan returns tokenizeReturnObject for character >\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeGreaterThan(input: any, current: any) {\r\n  return tokenizeCharacter('greaterThan', '>', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeNot returns tokenizeReturnObject for character !\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeNot(input: any, current: any) {\r\n  if (input[current] == '!') {\r\n    return tokenizeCharacter('not', '!', input, current);\r\n  } else if (input[current] == 'n') {\r\n    if (\r\n      input[current + 1] &&\r\n      input[current + 1] == 'o' &&\r\n      (input[current + 2] && input[current + 2] == 't')\r\n    ) {\r\n      const type = 'not';\r\n      const value = '!';\r\n      return [3, { type, value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeComma returns tokenizeReturnObject for character ,\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeComma(input: any, current: any) {\r\n  return tokenizeCharacter('comma', ',', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeDot returns tokenizeReturnObject for character .\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeDot(input: any, current: any) {\r\n  return tokenizeCharacter('dot', '.', input, current);\r\n}\r\n\r\n/**\r\n * tokenizePattern is a type of util method\r\n * @param {any} type - the type that will be returned if matches\r\n * @param {any} pattern - the pattern that will be matched for tokenization\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizePattern(type: any, pattern: any, input: any, current: any) {\r\n  let char = input[current];\r\n  let consumedChars = 0;\r\n  if (pattern.test(char)) {\r\n    let value = '';\r\n    while (char && pattern.test(char)) {\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    return [consumedChars, { type, value }];\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeString returns tokenizeReturnObject for strings. example: 'abc12' , \"test1\", \"afgkj dafgk\"\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeString(input: any, current: any) {\r\n  if (input[current] === '\"' || input[current] === \"'\") {\r\n    const matchQuote = input[current];\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    consumedChars += 1;\r\n    let char = input[current + consumedChars];\r\n    while (char !== matchQuote) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    return [consumedChars + 1, { type: 'string', value }];\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeFunction returns tokenizeReturnObject for functions. Example: round( , substring(\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject; value contains function name if matched\r\n */\r\nfunction tokenizeFunction(input: any, current: any) {\r\n  if (/[a-z_]/i.test(input[current])) {\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    // consumedChars ++;\r\n    let char = input[current + consumedChars];\r\n    while (char && /[:a-z0-9_-]/i.test(char)) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    while (char && /\\s/.test(char)) {\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    if (value == 'not') {\r\n      return [0, null];\r\n    }\r\n    if (char && char === '(') {\r\n      return [consumedChars, { type: 'function', value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeNumber returns tokenizeReturnObject for discrete numbers. Example: 123 , 02113\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeNumber(input: any, current: any) {\r\n  if (/[0-9]/i.test(input[current])) {\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    // consumedChars ++;\r\n    let char = input[current + consumedChars];\r\n    while (/[0-9]/i.test(char)) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    if (char !== '.') {\r\n      return [consumedChars, { type: 'number', value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeDecimal returns tokenizeReturnObject for decimal numbers. Example: 12.3 , 0.2113\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeDecimal(input: any, current: any) {\r\n  if (/[0-9.]/i.test(input[current])) {\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    // consumedChars ++;\r\n    let char = input[current + consumedChars];\r\n    while (/[0-9]/i.test(char)) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    if (char === '.') {\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n      if (/[0-9]/i.test(char)) {\r\n        while (/[0-9]/i.test(char)) {\r\n          if (char === undefined) {\r\n            throw new TypeError('unterminated string ');\r\n          }\r\n          value += char;\r\n          consumedChars += 1;\r\n          char = input[current + consumedChars];\r\n        }\r\n        return [consumedChars, { type: 'decimal', value }];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeVariable returns tokenizeReturnObject for variables. Example syntax: ${Iamvariable} , #{urvariable}\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeVariable(input: any, current: any) {\r\n  if (input[current] === '#' || input[current] === '$') {\r\n    if (input[current + 1] && input[current + 1] === '{') {\r\n      let value = '';\r\n      let consumedChars = 1;\r\n      consumedChars += 1;\r\n      let char = input[current + consumedChars];\r\n      while (char !== '}') {\r\n        if (char === undefined) {\r\n          throw new TypeError('unterminated string ');\r\n        }\r\n        value += char;\r\n        consumedChars += 1;\r\n        char = input[current + consumedChars];\r\n      }\r\n      return [consumedChars + 1, { type: 'variable', value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeOr returns tokenizeReturnObject for syntax or\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeOr(input: any, current: any) {\r\n  if (input[current] === 'o') {\r\n    if (input[current + 1] && input[current + 1] === 'r') {\r\n      if (\r\n        input[current + 2] === undefined ||\r\n        /[0-9\\s]/.test(input[current + 2])\r\n      ) {\r\n        return [2, { type: 'or', value: 'or' }];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeIf returns tokenizeReturnObject for word if\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeIf(input: any, current: any) {\r\n  if (input[current] === 'i') {\r\n    if (input[current + 1] && input[current + 1] === 'f') {\r\n      if (\r\n        input[current + 2] === undefined ||\r\n        !/[a-z]i/.test(input[current + 2])\r\n      ) {\r\n        return [2, { type: 'if', value: 'if' }];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeAnd returns tokenizeReturnObject for word and\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeAnd(input: any, current: any) {\r\n  if (input[current] === 'a') {\r\n    if (input[current + 1] && input[current + 1] === 'n') {\r\n      if (input[current + 2] && input[current + 2] === 'd') {\r\n        if (\r\n          input[current + 3] === undefined ||\r\n          /[0-9\\s]/.test(input[current + 3])\r\n        ) {\r\n          return [3, { type: 'and', value: 'and' }];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeDiv returns tokenizeReturnObject of type divide for word div\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeDiv(input: any, current: any) {\r\n  if (input[current] === 'd') {\r\n    if (input[current + 1] && input[current + 1] === 'i') {\r\n      if (input[current + 2] && input[current + 2] === 'v') {\r\n        if (\r\n          input[current + 3] === undefined ||\r\n          /[0-9\\s]/.test(input[current + 3])\r\n        ) {\r\n          return [3, { type: 'divide', value: '/' }];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeName returns tokenizeReturnObject of type name for regex [a-z_]+\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeName(input: any, current: any) {\r\n  return tokenizePattern('name', /[a-z_]/i, input, current);\r\n}\r\n\r\n/**\r\n * skipWhiteSpace removes space and iterates the position of compiler\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject that consumes characters without returning type\r\n */\r\nfunction skipWhiteSpace(input: any, current: any) {\r\n  return /\\s/.test(input[current]) ? [1, null] : [0, null];\r\n}\r\n\r\n/**\r\n * Precedence of the tokenizer methods\r\n * If new tokenizer method is created, please add inside tokenizers with correct precedence\r\n */\r\nconst tokenizers = [\r\n  skipWhiteSpace,\r\n  tokenizeParenOpen,\r\n  tokenizeParenClose,\r\n  tokenizeIf,\r\n  tokenizeOr,\r\n  tokenizeAnd,\r\n  tokenizeVariable,\r\n  tokenizeString,\r\n  tokenizeFunction,\r\n  tokenizeEqual,\r\n  tokenizePlus,\r\n  tokenizeMinus,\r\n  tokenizeMultiply,\r\n  tokenizeDivide,\r\n  tokenizeDiv,\r\n  tokenizeLessThan,\r\n  tokenizeGreaterThan,\r\n  tokenizeNot,\r\n  tokenizeBrakeOpen,\r\n  tokenizeBrakeClose,\r\n  tokenizeDot,\r\n  tokenizeComma,\r\n  tokenizeNumber,\r\n  tokenizeDecimal,\r\n  tokenizeName,\r\n];\r\n\r\n/**\r\n * tokenizer is primary method that takes the expression and convert them to appropiate tokens.\r\n * Throws syntax error if expression is not appropiate or could not be tokenized properly\r\n * @param {string} input - should be of string for valid cases\r\n * @returns array of tokens\r\n */\r\nfunction tokenizer(input: any) {\r\n  let current: number = 0;\r\n  const tokens: any = [];\r\n  while (current < input.length) {\r\n    let tokenized = false;\r\n    tokenizers.forEach(tokenizerFn => {\r\n      if (tokenized) {\r\n        return;\r\n      }\r\n      const [consumedChars, token]: any = tokenizerFn(input, current);\r\n      if (consumedChars !== 0) {\r\n        tokenized = true;\r\n        current += consumedChars;\r\n      }\r\n      if (token) {\r\n        tokens.push(token);\r\n      }\r\n    });\r\n    if (!tokenized) {\r\n      throw new TypeError(\r\n        `I dont know what this character is: ${input[current]}`\r\n      );\r\n    }\r\n  }\r\n  return tokens;\r\n}\r\n\r\n/**\r\n * kbSelected parses the function selected and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbSelected(funcName: any, params: any, _paramsTokens: any) {\r\n  if (funcName === 'selected') {\r\n    let tmp = false;\r\n    if (Array.isArray(params[0])) {\r\n      params[0].forEach((element: any) => {\r\n        // tslint:disable-next-line: triple-equals\r\n        tmp = tmp || element == params[1];\r\n      });\r\n      return [true, tmp];\r\n    }\r\n    // tslint:disable-next-line: triple-equals\r\n    return [true, params[0] == params[1]];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n// tslint:disable-next-line: variable-name\r\nfunction kbChoice(funcName: any, params: any, _paramsTokens: any) {\r\n  if (funcName === 'jr:choice-name') {\r\n    const tmpHierchicalName = currentHierarchicalName.split('/');\r\n    let i;\r\n    let parent = '';\r\n    for (i = 0; i < tmpHierchicalName.length - 1; ) {\r\n      // tslint:disable-next-line: triple-equals\r\n      if (tmpHierchicalName[i] == 'repeat') {\r\n        i += 3;\r\n      } else {\r\n        // path.push(parent + tmpHierchicalName[i + 1]);\r\n        parent = parent + tmpHierchicalName[i + 1] + '/';\r\n        i += 2;\r\n      }\r\n    }\r\n    const state = store.getState();\r\n    const variableName =\r\n      parent + params[params.length - 1].replace(/[^a-zA-Z ]/g, '');\r\n    if (variableName in state.optionList) {\r\n      for (const key in state.optionList[variableName]) {\r\n        if (state.optionList[variableName][key].name === params[0]) {\r\n          return [\r\n            true,\r\n            state.optionList[variableName][key].label[state.language],\r\n          ];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n// tslint:disable-next-line: variable-name\r\nfunction kbPullData(funcName: any, params: any, _paramsTokens: any) {\r\n  if (funcName === 'pulldata') {\r\n    const state = store.getState();\r\n    const csv = state.csvList[params[0] + '.csv'];\r\n    if (params[3]) {\r\n      const item = csv.find((obj: any) => obj[params[2]] == params[3]);\r\n      console.log(csv, item);\r\n      if (item != undefined && item != null) {\r\n        return [true, item[params[1]]];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbToday parses the function today and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbToday(funcName: any, _params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'today') {\r\n    const d = new Date();\r\n    d.setHours(0, 0, 0, 0);\r\n    return [true, d];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbToday parses the function today and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbFormatDate(funcName: any, _params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'format-date') {\r\n    const format = _params.length == 2 ? _params[1].replace(\"%d\", \"DD\").replace(\"%m\", \"MM\").replace(\"%Y\", \"YYYY\"): 'MM-DD-YYYY';\r\n    const d = _params.length > 1 && _params[0] != null ? moment(_params[0]).format(format) : null ;\r\n    return [true, d];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbRound parses the function round and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbRound(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'round') {\r\n    if (params[0] && params[1]) {\r\n      if (typeof params[0] === 'number' && typeof params[1] === 'number') {\r\n        return [true, params[0].toFixed(params[1])];\r\n      }\r\n      if (typeof params[0] === 'string' && typeof params[1] === 'number') {\r\n        return [true, parseFloat(params[0]).toFixed(params[1])];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbRegex parses the function regex and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbRegex(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'regex') {\r\n    const regex = RegExp(params[1]);\r\n    return [true, regex.test(params[0])];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbCountSelected parses the function count-selected and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbCountSelected(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'count-selected') {\r\n    if (params[0] && Array.isArray(params[0])) {\r\n      return [true, params[0].length];\r\n    }\r\n    if (params[0] && typeof params[0] !== 'object') {\r\n      return [true, 1];\r\n    }\r\n    return [true, 0];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbInt parses the function int and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbInt(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'int') {\r\n    if (typeof params[0] === 'string') {\r\n      return [true, parseInt(params[0], 10)];\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbCoalesce parses the function coalesce and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbCoalesce(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'coalesce') {\r\n    if (!params[0] && params[0] !== 0) {\r\n      return [true, params[1]];\r\n    }\r\n    return [true, params[0]];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbPosition parses the function position and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbPosition(funcName: any, _params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'position') {\r\n    if (currentHierarchicalName) {\r\n      const tmpName = currentHierarchicalName.split('/');\r\n      if (tmpName.length > 2) {\r\n        return [true, parseInt(tmpName[tmpName.length - 2], 10) + 1];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * sumValuesOverJsn is a utility method for kbSum\r\n * @param sum - initial sum value\r\n * @param jsnObj - variable name and value in json object\r\n * @param variableName - variable name\r\n * @returns the calculated sum\r\n */\r\nfunction sumValuesOverJsn(sum: any, jsnObj: any, variableName: any) {\r\n  if (Array.isArray(jsnObj)) {\r\n    let i;\r\n    for (i = 0; i < jsnObj.length; i += 1) {\r\n      sum = sumValuesOverJsn(sum, jsnObj[i], variableName);\r\n    }\r\n  } else if (typeof jsnObj === 'object') {\r\n    for (const key in jsnObj) {\r\n      if (typeof jsnObj[key] === 'object') {\r\n        sum = sumValuesOverJsn(sum, jsnObj[key], variableName);\r\n      } else if (key === variableName) {\r\n        if (typeof jsnObj[key] === 'string') {\r\n          sum += parseFloat(jsnObj[key]);\r\n        }\r\n        if (typeof jsnObj[key] === 'number') {\r\n          sum += jsnObj[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return sum;\r\n}\r\n\r\n/**\r\n * kbSum parses the function sum and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbSum(funcName: any, _params: any, paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'sum') {\r\n    let sumValue = null;\r\n    if (\r\n      paramsTokens &&\r\n      paramsTokens.length > 0 &&\r\n      paramsTokens[0] &&\r\n      paramsTokens[0].length > 0 &&\r\n      paramsTokens[0][0].type === 'variable'\r\n    ) {\r\n      sumValue = sumValuesOverJsn(0, userInput, paramsTokens[0][0].value);\r\n    }\r\n    return [true, sumValue];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbConcat parses the function concat and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbConcat(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'concat') {\r\n    if (params && params.length > 0) {\r\n      let concatStr = '';\r\n      // tslint:disable-next-line: prefer-for-of\r\n      for (let i = 0; i < params.length; i += 1) {\r\n        if (params[i] == null) {\r\n          // continue;\r\n          // return [false, null];\r\n          concatStr += '';\r\n        } else {\r\n          concatStr += params[i];\r\n        }\r\n      }\r\n      return [true, concatStr];\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbSubstr parses the function substr and returns functionParseReturnObject\r\n * @param {any} funcName - the function name of the token\r\n * @param {any} params - calculated value of the params tokens\r\n * @param {any} _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbSubstr(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'substr') {\r\n    if (params && params.length > 0) {\r\n      if (params[0] && params[1] !== null) {\r\n        if (params[2] !== null && params[2] < params[0].length) {\r\n          const subStr = params[0].substring(params[1], params[2]);\r\n          return [true, subStr];\r\n        }\r\n        return [true, params[0].substring(params[1])];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * outerScopedVariables is a utility method that returns same variable values based on outerscope\r\n * @param {any} variableName - variable name\r\n * @param {any} variableValue - variable value upto now\r\n * @param {any} tmpUserInput - variable key-value storage\r\n * @returns parsed scoped variable value\r\n */\r\nfunction outerScopedVariables(\r\n  variableName: any,\r\n  variableValue: any,\r\n  tmpUserInput: any\r\n): any {\r\n  // tslint:disable-next-line: forin\r\n  for (const key in tmpUserInput) {\r\n    const nodeNames = key.split('/');\r\n    const variableNameFromKey = nodeNames[nodeNames.length - 1];\r\n    if (variableNameFromKey === variableName) {\r\n      return tmpUserInput[key];\r\n    }\r\n    if (typeof tmpUserInput[key] === 'object') {\r\n      if (variableValue == null) {\r\n        variableValue = outerScopedVariables(\r\n          variableName,\r\n          variableValue,\r\n          tmpUserInput[key]\r\n        );\r\n      }\r\n    }\r\n  }\r\n  return variableValue;\r\n}\r\n\r\n/**\r\n * parseMostClosestScopedVariable returns the closest scoped parsed variable value\r\n * @param {any} variableName - the variable name\r\n * @returns the parsed variable value\r\n */\r\nfunction parseMostClosestScopedVariable(variableName: any) {\r\n  const tmpHierchicalName = currentHierarchicalName.split('/');\r\n  let i;\r\n  const tmpUserInput = userInput;\r\n  let variableValue = null;\r\n  variableValue = outerScopedVariables(\r\n    variableName,\r\n    variableValue,\r\n    tmpUserInput\r\n  );\r\n  let parent = '';\r\n  for (i = 0; i < tmpHierchicalName.length - 1; ) {\r\n    // tslint:disable-next-line: triple-equals\r\n    if (tmpHierchicalName[i] == 'repeat') {\r\n      i += 1;\r\n      const index = parseInt(tmpHierchicalName[i + 1], 10);\r\n      variableValue = outerScopedVariables(\r\n        variableName,\r\n        variableValue,\r\n        tmpUserInput[parent + tmpHierchicalName[i]][index]\r\n      );\r\n      i += 2;\r\n    } else {\r\n      parent = parent + tmpHierchicalName[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  return variableValue;\r\n}\r\n\r\n/**\r\n * parseDot parses the dot\r\n * @returns parsed value\r\n */\r\nfunction parseDot() {\r\n  const tmpHierchicalName = currentHierarchicalName.split('/');\r\n  let i;\r\n  let tmpUserInput = userInput;\r\n  let parent = '';\r\n  const path = [];\r\n  for (i = 0; i < tmpHierchicalName.length - 1; ) {\r\n    // tslint:disable-next-line: triple-equals\r\n    if (tmpHierchicalName[i] == 'repeat') {\r\n      i += 1;\r\n      path.push(parent + tmpHierchicalName[i]);\r\n      path.push(parseInt(tmpHierchicalName[i + 1], 10));\r\n      parent = parent + tmpHierchicalName[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      // path.push(parent + tmpHierchicalName[i + 1]);\r\n      parent = parent + tmpHierchicalName[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  path.push(parent + tmpHierchicalName[tmpHierchicalName.length - 1]);\r\n  tmpUserInput = userInput.getIn(path);\r\n  return tmpUserInput;\r\n}\r\n\r\n/**\r\n * parseLiterals parse a set of tokens, starting from number, string, decimal, variable, name, dot\r\n * @param {any} _tmpOutput - the parsed value of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the position of parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseLiterals(_tmpOutput: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'number') {\r\n    return [1, parseInt(tokens[current].value, 10)];\r\n  }\r\n  if (tokens[current].type === 'string') {\r\n    return [1, tokens[current].value];\r\n  }\r\n  if (tokens[current].type === 'decimal') {\r\n    return [1, parseFloat(tokens[current].value)];\r\n  }\r\n  if (tokens[current].type === 'variable') {\r\n    return [1, parseMostClosestScopedVariable(tokens[current].value)];\r\n  }\r\n  if (tokens[current].type === 'name') {\r\n    if (tokens[current].value.toLowerCase() === 'true') {\r\n      return [1, true];\r\n    }\r\n    if (tokens[current].value.toLowerCase() === 'false') {\r\n      return [1, false];\r\n    }\r\n    if (formItemProperty && tokens[current].value in formItemProperty) {\r\n      return [1, formItemProperty[tokens[current].value]];\r\n    }\r\n    return [1, null];\r\n  }\r\n  if (tokens[current].type === 'dot') {\r\n    return [1, parseDot()];\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseFuntion parses the functions present in expression\r\n * @param {any} _output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseFunction(_output: any, tokens: any, current: any) {\r\n  // precedence of functions\r\n  const possibleFunctions = [\r\n    kbSelected,\r\n    kbCountSelected,\r\n    kbChoice,\r\n    kbToday,\r\n    kbRegex,\r\n    kbInt,\r\n    kbCoalesce,\r\n    kbPosition,\r\n    kbSum,\r\n    kbConcat,\r\n    kbSubstr,\r\n    kbRound,\r\n    kbFormatDate,\r\n    kbPullData,\r\n  ];\r\n  if (tokens[current].type === 'function') {\r\n    const funcName = tokens[current].value;\r\n    const arrayOfParams: any = [];\r\n    const arrayOfOriginalTokens: any = [];\r\n    let i = 1;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      const tmpQueue = [];\r\n      tmpQueue.push(1);\r\n      i += 1;\r\n      let tmpTokens = [];\r\n      while (tokens[current + i] && tmpQueue.length) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === ')'\r\n        ) {\r\n          tmpQueue.pop();\r\n        }\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === '('\r\n        ) {\r\n          tmpQueue.push(1);\r\n        }\r\n        if (tokens[current + i].type === 'comma' && tmpQueue.length === 1) {\r\n          tmpTokens.pop();\r\n          const tmpVal = parser(null, tmpTokens, 0);\r\n          arrayOfParams.push(tmpVal);\r\n          arrayOfOriginalTokens.push(tmpTokens);\r\n          tmpTokens = [];\r\n        }\r\n        i += 1;\r\n      }\r\n      i -= 1;\r\n\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === ')'\r\n      ) {\r\n        tmpTokens.pop();\r\n        const tmpVal = parser(null, tmpTokens, 0);\r\n        arrayOfParams.push(tmpVal);\r\n        arrayOfOriginalTokens.push(tmpTokens);\r\n        let parsedFn = false;\r\n        let parsedVal = null;\r\n        possibleFunctions.forEach(functionFn => {\r\n          if (parsedFn) {\r\n            return;\r\n          }\r\n          [parsedFn, parsedVal] = functionFn(\r\n            funcName,\r\n            arrayOfParams,\r\n            arrayOfOriginalTokens\r\n          );\r\n        });\r\n        if (parsedFn) {\r\n          return [i + 1, parsedVal];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseIf parses the if present in expression\r\n * @param {any} _output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseIf(_output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'if') {\r\n    const arrayOfParams = [];\r\n    let i = 1;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      const tmpQueue = [];\r\n      tmpQueue.push(1);\r\n      i += 1;\r\n      let tmpTokens = [];\r\n      while (tokens[current + i] && tmpQueue.length) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === ')'\r\n        ) {\r\n          tmpQueue.pop();\r\n        }\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === '('\r\n        ) {\r\n          tmpQueue.push(1);\r\n        }\r\n        if (tokens[current + i].type === 'comma' && tmpQueue.length === 1) {\r\n          tmpTokens.pop();\r\n          const tmpVal = parser(null, tmpTokens, 0);\r\n          arrayOfParams.push(tmpVal);\r\n          tmpTokens = [];\r\n        }\r\n        i += 1;\r\n      }\r\n      i -= 1;\r\n\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === ')'\r\n      ) {\r\n        tmpTokens.pop();\r\n        const tmpVal = parser(null, tmpTokens, 0);\r\n        arrayOfParams.push(tmpVal);\r\n        if (arrayOfParams.length % 2 === 0) {\r\n          let j;\r\n          for (j = 0; j < arrayOfParams.length; j += 2) {\r\n            if (arrayOfParams[j]) {\r\n              return [i + 1, arrayOfParams[j + 1]];\r\n            }\r\n          }\r\n        } else {\r\n          let j;\r\n          for (j = 0; j < arrayOfParams.length - 1; j += 2) {\r\n            if (arrayOfParams[j]) {\r\n              return [i + 1, arrayOfParams[j + 1]];\r\n            }\r\n          }\r\n          return [i + 1, arrayOfParams[arrayOfParams.length - 1]];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseNot parses the not present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseNot(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'not') {\r\n    let tmpTokens;\r\n    let i = 1;\r\n    if (tokens[current + i].type === 'equal' && output != null) {\r\n      tmpTokens = [];\r\n      i += 1;\r\n      const terminatingTokens = ['and', 'or'];\r\n      while (\r\n        tokens[current + i] &&\r\n        terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n      ) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        i += 1;\r\n      }\r\n      let newOutput;\r\n      if (tmpTokens.length) {\r\n        newOutput = parser(null, tmpTokens, 0);\r\n        // tslint:disable-next-line: triple-equals\r\n        return [i, output != newOutput];\r\n      }\r\n    } else {\r\n      let parsed = false;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      let consumedTokens;\r\n      let newOutput;\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          i += consumedTokens;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [i, !newOutput];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseAnd parses the and present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseAnd(output: any, tokens: any, current: any): any {\r\n  if (tokens[current].type === 'and' && output != null) {\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    let newOutput = null;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      let consumedChars;\r\n      [consumedChars, newOutput] = parseParen(null, tokens, current + i);\r\n      i += consumedChars;\r\n    } else {\r\n      const terminatingTokens = ['and', 'or'];\r\n      while (\r\n        tokens[current + i] &&\r\n        terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n      ) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        i += 1;\r\n      }\r\n      if (tmpTokens.length) {\r\n        newOutput = parser(null, tmpTokens, 0);\r\n      }\r\n    }\r\n    if (newOutput != null) {\r\n      newOutput = output && newOutput;\r\n      if (tokens[current + i] && tokens[current + i].type === 'and') {\r\n        let consumedChars = 0;\r\n        [consumedChars, newOutput] = parseAnd(newOutput, tokens, current + i);\r\n        i += consumedChars;\r\n      }\r\n      return [i, newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseOr parses the or present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseOr(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'or' && output != null) {\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    let newOutput = null;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      let consumedChars;\r\n      [consumedChars, newOutput] = parseParen(null, tokens, current + i);\r\n      i += consumedChars;\r\n    } else {\r\n      const terminatingTokens = ['and', 'or'];\r\n      while (\r\n        tokens[current + i] &&\r\n        terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n      ) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        i += 1;\r\n      }\r\n      if (tmpTokens.length) {\r\n        newOutput = parser(null, tmpTokens, 0);\r\n      }\r\n    }\r\n    if (newOutput != null || output != null) {\r\n      if (tokens[current + i] && tokens[current + i].type === 'and') {\r\n        let consumedChars = 0;\r\n        [consumedChars, newOutput] = parseAnd(newOutput, tokens, current + i);\r\n        i += consumedChars;\r\n      }\r\n      return [i, output || newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseEqual parses the equal present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseEqual(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'equal' && output != null) {\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    const terminatingTokens = ['and', 'or'];\r\n    while (\r\n      tokens[current + i] &&\r\n      terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n    ) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      i += 1;\r\n    }\r\n    let newOutput;\r\n    if (tmpTokens.length) {\r\n      newOutput = parser(null, tmpTokens, 0);\r\n      // tslint:disable-next-line: triple-equals\r\n      return [i, output == newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseLessThan parses the less than or equal present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseLessThan(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'lessThan' && output != null) {\r\n    let flagLessThanOrEqual = false;\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    if (tokens[current + i].type === 'equal') {\r\n      i += 1;\r\n      flagLessThanOrEqual = true;\r\n    }\r\n    const terminatingTokens = ['and', 'or'];\r\n    while (\r\n      tokens[current + i] &&\r\n      terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n    ) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      i += 1;\r\n    }\r\n    let newOutput;\r\n    if (tmpTokens.length) {\r\n      newOutput = parser(null, tmpTokens, 0);\r\n      if (flagLessThanOrEqual) {\r\n        return [i, output <= newOutput];\r\n      }\r\n      return [i, output < newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseGreaterThan parses the greater than or equal present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseGreaterThan(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'greaterThan' && output != null) {\r\n    let flagGreaterThanOrEqual = false;\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    if (tokens[current + i].type === 'equal') {\r\n      i += 1;\r\n      flagGreaterThanOrEqual = true;\r\n    }\r\n    const terminatingTokens = ['and', 'or'];\r\n    while (\r\n      tokens[current + i] &&\r\n      terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n    ) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      i += 1;\r\n    }\r\n    let newOutput;\r\n    if (tmpTokens.length) {\r\n      newOutput = parser(null, tmpTokens, 0);\r\n\r\n      if (flagGreaterThanOrEqual) {\r\n        return [i, output >= newOutput];\r\n      }\r\n      return [i, output > newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseParen parses the paren present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseParen(_output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'paren' && tokens[current].value === '(') {\r\n    const tmpQueue = [];\r\n    tmpQueue.push(1);\r\n    let i = 1;\r\n    const tmpTokens = [];\r\n    while (tokens[current + i] && tmpQueue.length) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === ')'\r\n      ) {\r\n        tmpQueue.pop();\r\n      }\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === '('\r\n      ) {\r\n        tmpQueue.push(1);\r\n      }\r\n      i += 1;\r\n    }\r\n    i -= 1;\r\n\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === ')'\r\n    ) {\r\n      tmpTokens.pop();\r\n      const tmpVal = parser(null, tmpTokens, 0);\r\n      return [i + 1, tmpVal];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseDivide parses the divide present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseDivide(output: any, tokens: any, current: any) {\r\n  if (output != null && tokens[current].type === 'divide') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'minus',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let consumedTokens;\r\n        let newOutput: any;\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n        }\r\n        const precedentParsers = [parseDivide, parseMultiply];\r\n        let preParsed = false;\r\n        let preOutput;\r\n        precedentParsers.forEach(preParseFn => {\r\n          if (preParsed) {\r\n            return;\r\n          }\r\n          if (tokens[current]) {\r\n            [consumedTokens, preOutput] = preParseFn(\r\n              newOutput,\r\n              tokens,\r\n              current\r\n            );\r\n            ct += consumedTokens;\r\n            if (consumedTokens !== 0) {\r\n              preParsed = true;\r\n              newOutput = preOutput;\r\n            }\r\n          }\r\n        });\r\n\r\n        if (newOutput != null) {\r\n          output /= newOutput;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseMultiply parses the multiply present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseMultiply(output: any, tokens: any, current: any) {\r\n  if (output != null && tokens[current].type === 'multiply') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'minus',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let consumedTokens;\r\n        let newOutput: any;\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n        }\r\n        const precedentParsers = [parseDivide, parseMultiply];\r\n        let preParsed = false;\r\n        let preOutput;\r\n        precedentParsers.forEach(preParseFn => {\r\n          if (preParsed) {\r\n            return;\r\n          }\r\n          if (tokens[current]) {\r\n            [consumedTokens, preOutput] = preParseFn(\r\n              newOutput,\r\n              tokens,\r\n              current\r\n            );\r\n            ct += consumedTokens;\r\n            if (consumedTokens !== 0) {\r\n              preParsed = true;\r\n              newOutput = preOutput;\r\n            }\r\n          }\r\n        });\r\n\r\n        if (newOutput != null) {\r\n          output *= newOutput;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parsePlus parses the addition present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parsePlus(output: any, tokens: any, current: any) {\r\n  if (output != null && tokens[current].type === 'plus') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'string',\r\n      'minus',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let consumedTokens;\r\n        let newOutput: any;\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n          const precedentParsers = [parseDivide, parseMultiply];\r\n          let preParsed = false;\r\n          let preOutput;\r\n          precedentParsers.forEach(preParseFn => {\r\n            if (preParsed) {\r\n              return;\r\n            }\r\n            if (tokens[current]) {\r\n              [consumedTokens, preOutput] = preParseFn(\r\n                newOutput,\r\n                tokens,\r\n                current\r\n              );\r\n              ct += consumedTokens;\r\n              if (consumedTokens !== 0) {\r\n                preParsed = true;\r\n                newOutput = preOutput;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        if (newOutput != null) {\r\n          output += newOutput;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseMinus parses the minus present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseMinus(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'minus') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [parseLiterals, parseParen, parseFunction];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n          const precedentParsers = [parseDivide, parseMultiply];\r\n          let preParsed = false;\r\n          let preOutput;\r\n          precedentParsers.forEach(preParseFn => {\r\n            if (preParsed) {\r\n              return;\r\n            }\r\n            if (tokens[current]) {\r\n              [consumedTokens, preOutput] = preParseFn(\r\n                newOutput,\r\n                tokens,\r\n                current\r\n              );\r\n              ct += consumedTokens;\r\n              if (consumedTokens !== 0) {\r\n                preParsed = true;\r\n                newOutput = preOutput;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        if (newOutput) {\r\n          if (output) {\r\n            if (\r\n              Object.prototype.toString.call(newOutput) === '[object Date]' &&\r\n              Object.prototype.toString.call(output) === '[object Date]'\r\n            ) {\r\n              if (!isNaN(output.getTime()) && !isNaN(newOutput.getTime())) {\r\n                output -= newOutput;\r\n                output = Math.ceil(output / (1000 * 60 * 60 * 24));\r\n              } else {\r\n                output = NaN;\r\n              }\r\n            } else if (\r\n              Object.prototype.toString.call(newOutput) === '[object Date]' ||\r\n              Object.prototype.toString.call(output) === '[object Date]'\r\n            ) {\r\n              output = NaN;\r\n            } else if (newOutput === '' || output === '') {\r\n              output = NaN;\r\n            } else {\r\n              output -= newOutput;\r\n            }\r\n          } else {\r\n            if (Object.prototype.toString.call(newOutput) === '[object Date]') {\r\n              output = NaN;\r\n            } else {\r\n              output = -newOutput;\r\n            }\r\n          }\r\n        } else {\r\n          output = NaN;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        if (output === '') {\r\n          output = NaN;\r\n        }\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n// precedence of the parser methods\r\nconst parsers = [\r\n  parseIf,\r\n  parseParen,\r\n  parseLiterals,\r\n  parseDivide,\r\n  parseMultiply,\r\n  parsePlus,\r\n  parseMinus,\r\n  parseLessThan,\r\n  parseGreaterThan,\r\n  parseEqual,\r\n  parseAnd,\r\n  parseOr,\r\n  parseNot,\r\n  parseFunction,\r\n];\r\n\r\n/**\r\n * the main parser that parses the series of tokens generated by the tokenizer.\r\n * Throws syntax error if not parsed\r\n * @param {any} leftOutput - the initial output or output of previous left side tokens\r\n * @param {any} tokens - the set or array of tokens need to be parsed\r\n * @param {any} pos - the start position of the parser\r\n * @returns parsed value of the set of tokens\r\n */\r\nfunction parser(leftOutput: any, tokens: any, pos: any) {\r\n  let current = pos;\r\n  let output = leftOutput;\r\n  while (current < tokens.length) {\r\n    let parsed = false;\r\n    parsers.forEach(parserFn => {\r\n      if (parsed) {\r\n        return;\r\n      }\r\n      const [consumedTokens, newOutput] = parserFn(output, tokens, current);\r\n      if (consumedTokens !== 0) {\r\n        parsed = true;\r\n        current += consumedTokens;\r\n      }\r\n      if (newOutput != null) {\r\n        output = newOutput;\r\n      }\r\n    });\r\n    if (!parsed) {\r\n      // throw new TypeError('syntax error');\r\n      // tslint:disable-next-line: no-console\r\n      // tslint:disable-next-line: no-console\r\n      console.log(actualExpression);\r\n      return null;\r\n    }\r\n  }\r\n  return output;\r\n}\r\n\r\n/**\r\n * odk wrapper evaluator, default method that will be exported, parses expressions\r\n * @param {any} expression - expression that needs to be evaluated\r\n * @param {any} tmpUserInput - the variable key-value json, (current user input json)\r\n * @param {any} tmpFormItemProperty - the name key-value json (current option list)\r\n * @param {any} tmpCurrentHierarchicalName - the node at which the evaluater is called\r\n * @returns evaluated value\r\n */\r\nexport default function evaluater(\r\n  expression: string,\r\n  tmpUserInput: any,\r\n  tmpFormItemProperty: any,\r\n  tmpCurrentHierarchicalName: string\r\n) {\r\n  if (!tmpUserInput) {\r\n    tmpUserInput = {};\r\n  }\r\n  currentHierarchicalName = tmpCurrentHierarchicalName;\r\n  actualExpression = expression;\r\n  userInput = tmpUserInput;\r\n  formItemProperty = tmpFormItemProperty;\r\n  return parser(null, tokenizer(expression), 0);\r\n}\r\n","import { FieldElement } from '../components/typeEvalutors/Base';\r\n\r\n/**\r\n * get the text from multilang obj based on language identifier,\r\n * @param {FieldElement} property - field multilang property or string\r\n * @return {string} - text value of the property based on language identifier, empty if not present\r\n */\r\nexport default function getTextFromProperty(\r\n  property: string | { [key: string]: string },\r\n  languageIdentifier: string\r\n): string {\r\n  if (typeof property === 'string') {\r\n    return property || '';\r\n  }\r\n  return property[languageIdentifier] || '';\r\n}\r\n\r\n/**\r\n * get the label text of the fieldElement\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - field label text\r\n */\r\nexport function getFieldLabelText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.label) {\r\n    return getTextFromProperty(fieldElement.label, languageIdentifier);\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the label hint of the fieldElement\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - field label text\r\n */\r\nexport function getHintLabelText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.hint) {\r\n    return getTextFromProperty(fieldElement.hint, languageIdentifier);\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the customised label text with previous input of the fieldElement\r\n * @param {any} evaluator - the getEvaluatedExpressionSelector Function\r\n * @param {string} labelText - the current Label Text\r\n * @param {string} fieldTreeName - the field tree name\r\n * @return {string | null} - field label text or null\r\n */\r\nexport function customizeLabelsWithPreviousInputs(\r\n  evaluator: any,\r\n  labelText: string,\r\n  fieldTreeName: string\r\n): string | null {\r\n  if (labelText === null || labelText === undefined) {\r\n    return null;\r\n  }\r\n  const placesOfCustomizationsRequiredList = labelText.match(/\\[(.*?)\\]/g);\r\n\r\n  // to calculate - i.e, [${departure_date_from_bangladesh}]\r\n  if (placesOfCustomizationsRequiredList) {\r\n    placesOfCustomizationsRequiredList.forEach(tmpPlace => {\r\n      tmpPlace = tmpPlace.substring(1, tmpPlace.length - 1);\r\n      const customizedName = evaluator(tmpPlace, fieldTreeName);\r\n      const tmp = '[' + tmpPlace + ']';\r\n      if (customizedName != null && customizedName !== undefined) {\r\n        labelText = labelText.replace(tmp, customizedName);\r\n      } else {\r\n        labelText = labelText.replace(tmp, '');\r\n      }\r\n    });\r\n  } else {\r\n    // to calculate - i.e, ${departure_date_from_bangladesh}\r\n    const matchList = labelText.match(/\\${(.*[^}])[\\}?]$/g);\r\n    if (matchList) {\r\n      matchList.forEach(tmpPlace => {\r\n        const customizedName = evaluator(tmpPlace, fieldTreeName);\r\n        if (customizedName != null && customizedName !== undefined) {\r\n          labelText = labelText.replace(tmpPlace, customizedName);\r\n        } else {\r\n          labelText = labelText.replace(tmpPlace, '');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return labelText;\r\n}\r\n\r\n/**\r\n * get the hint text of the fieldElement\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - field hint text\r\n */\r\nexport function getFieldHintText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.hint) {\r\n    return getTextFromProperty(fieldElement.hint, languageIdentifier);\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the label text of the fieldElement constraint msg\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - constraint label text\r\n */\r\nexport function getConstraintLabelText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.bind && fieldElement.bind['jr:constraintMsg']) {\r\n    return getTextFromProperty(\r\n      fieldElement.bind['jr:constraintMsg'],\r\n      languageIdentifier\r\n    );\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the boolean result depending on the expression\r\n * @param {string} - required string\r\n * @returns {boolean} - true if required, otherwise false\r\n */\r\nfunction requiredEvaluator(expression: string): boolean {\r\n  if (\r\n    expression.toLowerCase() === 'yes' ||\r\n    expression === '1' ||\r\n    expression.toLowerCase() === 'true'\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * get the boolean result of fieldElement string\r\n * @param fieldElement\r\n * @return {boolean} - boolean value by calculating fieldElement required properties\r\n */\r\nexport function isInputRequired(fieldElement: FieldElement): boolean {\r\n  let isRequired = false;\r\n  if (fieldElement.bind) {\r\n    if (fieldElement.bind.required) {\r\n      if (\r\n        typeof fieldElement.bind.required === 'string' &&\r\n        requiredEvaluator(fieldElement.bind.required)\r\n      ) {\r\n        isRequired = true;\r\n      }\r\n    }\r\n  }\r\n  return isRequired;\r\n}\r\n\r\n/** interface for EvaluateExpression\r\n * @param {string} expression - the expression that needs to be evaluated\r\n * @param {fieldTreeName} - the field Tree name\r\n * @returns {any} - evaluated value\r\n */\r\nexport type EvaluateExpression = (\r\n  expression: string,\r\n  fieldTreeName: string\r\n) => any;\r\n\r\n/** evaluates whether a component be relevant or not\r\n * @param {FieldElement} fieldElement - the expression that needs to be evaluated\r\n * @param {string} fieldParentTreeName- the field Parent Tree name\r\n * @param {EvaluateExpression} evaluateExpression- an handler to evaluate the relevant expression\r\n * @returns {boolean} - true if relevant; otherwise, false;\r\n */\r\nexport function shouldComponentBeRelevant(\r\n  fieldElement: FieldElement,\r\n  fieldParentTreeName: string,\r\n  evaluateExpression: EvaluateExpression\r\n): boolean {\r\n  if (fieldElement && fieldElement.bind && fieldElement.bind.relevant) {\r\n    const isRelevant = evaluateExpression(\r\n      fieldElement.bind.relevant,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isRelevant) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n/** evaluates whether a component be readonly or not\r\n * @param {FieldElement} fieldElement - the expression that needs to be evaluated\r\n * @param {string} fieldParentTreeName- the field Parent Tree name\r\n * @param {EvaluateExpression} evaluateExpression- an handler to evaluate the readonly expression\r\n * @returns {boolean} - true if readonly; otherwise, false;\r\n */\r\nexport function shouldComponentBeReadOnly(\r\n  fieldElement: FieldElement,\r\n  fieldParentTreeName: string,\r\n  evaluateExpression: EvaluateExpression\r\n): boolean {\r\n  if (fieldElement && fieldElement.bind && fieldElement.bind.readonly) {\r\n    const isReadOnly = evaluateExpression(\r\n      fieldElement.bind.readonly,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isReadOnly) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return false;\r\n}\r\n\r\n/** evaluates whether the input violates constraint or not\r\n * @param {FieldElement} fieldElement - the constraint expression\r\n * @param {string} fieldParentTreeName- the field Parent Tree name\r\n * @param {EvaluateExpression} evaluateExpression- an handler to evaluate the expression\r\n * @returns {boolean} - true if violates; otherwise, false;\r\n */\r\nexport function shouldInputViolatesConstraint(\r\n  fieldElement: FieldElement,\r\n  fieldParentTreeName: string,\r\n  evaluateExpression: EvaluateExpression\r\n): boolean {\r\n  if (fieldElement && fieldElement.bind && fieldElement.bind.constraint) {\r\n    const isConstraintViolated = !evaluateExpression(\r\n      fieldElement.bind.constraint,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isConstraintViolated) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return false;\r\n}\r\n\r\n/** returns the new user input object after assigning value of passed fieldTreeName\r\n * @param {any} userInputObj - the current user input object\r\n * @param {string} fieldTreeName - the field Tree name\r\n * @param {any} fieldValue - the value that needs to be assigned\r\n * @returns {any} - the new user input object after assignment\r\n */\r\nexport function getModifiedUserInputObject(\r\n  userInputObj: any,\r\n  fieldTreeName: string,\r\n  fieldValue: any\r\n): any {\r\n  const treeNodes = fieldTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  modifiedObj[parent + treeNodes[treeNodes.length - 1]] = fieldValue;\r\n  return userInputObj;\r\n}\r\n\r\n/** Returns the filtered option list Array For Repeat property\r\n * @param {any} userInputObj - the current option list object\r\n * @param {string} fieldTreeName - the field Tree name\r\n * @param {any} repeatIndex - the repeat index to remove\r\n * @returns {any} - the new user filredred repear array after assignment\r\n */\r\nexport function getModifiedOptionListForRepeat(\r\n  userInputObj: any,\r\n  fieldTreeName: string,\r\n  repeatIndex: number\r\n): any {\r\n  const filteredRepeatArray: any = [];\r\n  const optionListobj: any = userInputObj;\r\n\r\n  Object.entries(optionListobj).forEach(key => {\r\n    const keyNameOptionListobj: any = key[0];\r\n    const keyValueOptionListobj: any = key[1];\r\n    if (keyNameOptionListobj === fieldTreeName) {\r\n      const repeatIndexString: string = String(repeatIndex);\r\n      Object.entries(keyValueOptionListobj).map(keyRepeat => {\r\n        const keyNameRepeatObject: any = keyRepeat[0];\r\n        const keyValueRepeatValue: any = keyRepeat[1];\r\n        if (keyNameRepeatObject !== repeatIndexString) {\r\n          filteredRepeatArray.push(keyValueRepeatValue);\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return filteredRepeatArray;\r\n}\r\n\r\n/** returns the value from the user input object\r\n * @param {any} userInputObj - the user input object\r\n * @param {string} fieldTreeName - the field Tree name\r\n * @returns {any} - the value, present in user input object, of the fieldTreeName\r\n */\r\nexport function getValueFromUserInputObj(\r\n  userInputObj: any,\r\n  fieldTreeName: string\r\n): any {\r\n  const treeNodes = fieldTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  return modifiedObj[parent + treeNodes[treeNodes.length - 1]];\r\n}\r\n\r\n/** evaluates whether the component is minimal or not\r\n * @param {FieldElement} fieldElement - the constraint expression\r\n * @returns {boolean} - true if minimal; otherwise, false;\r\n */\r\nexport function shouldComponentBeMinimal(fieldElement: FieldElement): boolean {\r\n  let isMinimal = false;\r\n  if (fieldElement.control && fieldElement.control.appearance) {\r\n    fieldElement.control.appearance.toString().includes('minimal')\r\n      ? (isMinimal = true)\r\n      : (isMinimal = false);\r\n  }\r\n  return isMinimal;\r\n}\r\n\r\n/** returns the new user input object after emptying the desired grouped values\r\n * @param {any} userInputObj - the current user input object\r\n * @param {string} groupTreeName - the group Tree name\r\n * @returns {any} - the new user input object after emptying the grouped values\r\n */\r\nexport function emptyGroupedValues(\r\n  userInputObj: any,\r\n  groupTreeName: string\r\n): any {\r\n  const treeNodes = groupTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  Object.keys(modifiedObj).forEach(objKey => {\r\n    if (objKey.startsWith(parent + treeNodes[treeNodes.length - 1])) {\r\n      modifiedObj[objKey] = null;\r\n    }\r\n  });\r\n  return userInputObj;\r\n}\r\n\r\n/** returns whether the grouped values are empty or not\r\n * @param {any} userInputObj - the current user input object\r\n * @param {string} groupTreeName - the group Tree name\r\n * @returns {any} - true if empty; otherwise, false\r\n */\r\nexport function checkGroupedValuesForEmpty(\r\n  userInputObj: any,\r\n  groupTreeName: string\r\n): any {\r\n  const treeNodes = groupTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  let isEmpty: boolean = true;\r\n  Object.keys(modifiedObj).forEach(objKey => {\r\n    if (objKey.startsWith(parent + treeNodes[treeNodes.length - 1])) {\r\n      if (\r\n        modifiedObj[objKey] !== null &&\r\n        modifiedObj[objKey] !== undefined &&\r\n        isEmpty\r\n      ) {\r\n        isEmpty = false;\r\n      }\r\n    }\r\n  });\r\n  return isEmpty;\r\n}\r\n","import { AnyAction, Store } from 'redux';\r\nimport SeamlessImmutable from 'seamless-immutable';\r\nimport evaluater from '../../utils/compiler';\r\nimport {\r\n  checkGroupedValuesForEmpty,\r\n  emptyGroupedValues,\r\n  getModifiedOptionListForRepeat,\r\n  getModifiedUserInputObject,\r\n  getValueFromUserInputObj,\r\n} from '../../utils/helpers';\r\n\r\n/** interface for the store state */\r\nexport interface FormState {\r\n  userInput: object;\r\n  errors: string[];\r\n  optionList: object;\r\n  isFormSubmitted: boolean;\r\n  mediaList: object;\r\n  language: string;\r\n}\r\n\r\n// actions\r\n\r\n/** FIELD_VALUE_ASSIGNED action type */\r\nexport const FIELD_VALUE_ASSIGNED = 'odk/reducer/form/FIELD_VALUE_ASSIGNED';\r\n/** OPTION_LIST_ASSIGNED action type */\r\nexport const OPTION_LIST_ASSIGNED = 'odk/reducer/form/OPTION_LIST_ASSIGNED';\r\n/** MEDIA_LIST_ASSIGNED action type */\r\nexport const MEDIA_LIST_ADDED = 'odk/reducer/form/MEDIA_LIST_ADDED';\r\n/** REMOVE_FROM_MEDIA_LIST action type */\r\nexport const REMOVE_FROM_MEDIA_LIST = 'odk/reducer/form/REMOVE_FROM_MEDIA_LIST';\r\n/** REMOVE_FROM_OPTION_LIST action type */\r\nexport const REMOVE_FROM_OPTION_LIST_REPEAT =\r\n  'odk/reducer/form/REMOVE_FROM_OPTION_LIST_REPEAT';\r\n/** RESET_STORE action type */\r\nexport const RESET_STORE = 'odk/reducer/form/RESET_STORE';\r\n/** ADD_ERROR_INPUT_ID action type */\r\nexport const ADD_ERROR_INPUT_ID = 'odk/reducer/form/ADD_ERROR_INPUT_ID';\r\n/** REMOVE_ERROR_INPUT_ID action type */\r\nexport const REMOVE_ERROR_INPUT_ID = 'odk/reducer/form/REMOVE_ERROR_INPUT_ID';\r\n/** EMPTY_GROUP_FIELDS */\r\nexport const EMPTY_GROUP_FIELDS = 'odk/reducer/form/EMPTY_GROUP_FIELDS';\r\n/** REMOVE_GROUP_FIELDS_FROM_ERRORS */\r\nexport const REMOVE_GROUP_FIELDS_FROM_ERRORS =\r\n  'odk/reducer/form/REMOVE_GROUP_FIELDS_FROM_ERRORS';\r\nexport const SET_USER_INPUT_OBJ = 'odk/reducer/form/SET_USER_INPUT_OBJ';\r\nexport const SET_CSV_OBJ = 'odk/reducer/form/SET_CSV_OBJ';\r\nexport const SET_FORM_SUBMIT_STATUS = 'odk/reducer/form/SET_FORM_SUBMIT_STATUS';\r\nexport const SET_LANGUAGE = 'odk/reducer/form/SET_LANGUAGE';\r\n\r\n/** interface for ASSIGN_FIELD_VALUE action */\r\nexport interface AssignFieldValueAction extends AnyAction {\r\n  fieldTreeName: string;\r\n  fieldValue: any;\r\n  type: typeof FIELD_VALUE_ASSIGNED;\r\n}\r\n\r\n/** interface for OPTION_LIST_ASSIGNED action */\r\nexport interface AssignOptionListAction extends AnyAction {\r\n  fieldTreeName: string;\r\n  optionList: any;\r\n  type: typeof OPTION_LIST_ASSIGNED;\r\n}\r\n\r\n/** interface for MEDIA_LIST_ADDED action */\r\nexport interface AddMediaListAction extends AnyAction {\r\n  mediaObject: any;\r\n  type: typeof MEDIA_LIST_ADDED;\r\n}\r\n\r\n/** interface for REMOVE_FROM_MEDIA_LIST action */\r\nexport interface RemoveFromMediaListAction extends AnyAction {\r\n  fieldTreeName: string;\r\n  mediaList: any;\r\n  type: typeof REMOVE_FROM_MEDIA_LIST;\r\n}\r\n\r\n/** interface for REMOVE_FROM_OPTION_LIST action */\r\nexport interface RemoveFromOptionList extends AnyAction {\r\n  fieldTreeName: string;\r\n  repeatIndex: number;\r\n  type: typeof REMOVE_FROM_OPTION_LIST_REPEAT;\r\n}\r\n\r\n/** interface for RESET_STORE action */\r\nexport interface ResetStoreAction extends AnyAction {\r\n  type: typeof RESET_STORE;\r\n}\r\n\r\n/** interface for ADD_ERROR_INPUT_ID action */\r\nexport interface AddErrorInputId extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof ADD_ERROR_INPUT_ID;\r\n}\r\n\r\n/** interface for REMOVE_ERROR_INPUT_ID action */\r\nexport interface RemoveErrorInputId extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof REMOVE_ERROR_INPUT_ID;\r\n}\r\n\r\n/** interface for EMPTY_GROUP_FIELDS action */\r\nexport interface EmptyGroupFields extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof EMPTY_GROUP_FIELDS;\r\n}\r\n\r\n/** interface for REMOVE_GROUP_FIELDS_FROM_ERRORS action */\r\nexport interface RemoveGroupFieldsFromErrors extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof REMOVE_GROUP_FIELDS_FROM_ERRORS;\r\n}\r\n\r\n/** interface for SET_USER_INPUT_OBJ action */\r\nexport interface SetUserInputObj extends AnyAction {\r\n  userInputObj: any;\r\n  type: typeof SET_USER_INPUT_OBJ;\r\n}\r\n\r\n/** interface for SET_CSV_OBJ action */\r\nexport interface SetCSVObj extends AnyAction {\r\n  csvObj: any;\r\n  type: typeof SET_CSV_OBJ;\r\n}\r\n/** interface for SET_LANGUAGE action */\r\nexport interface SetLanguage extends AnyAction {\r\n  language: string;\r\n  type: typeof SET_LANGUAGE;\r\n}\r\n\r\n/** interface for SET_FORM_SUBMIT_STATUS action */\r\nexport interface SetFormSubmitStatus extends AnyAction {\r\n  isFormSubmitted: boolean;\r\n  type: typeof SET_FORM_SUBMIT_STATUS;\r\n}\r\n\r\n/** Assigns the value to the proper field name\r\n * @param {string} fieldTreeName - the extended field name\r\n * @param {any} fieldValue - the value that will be assigned\r\n * @return {AssignFieldValueAction} - an action to assign value to a field in the redux store\r\n */\r\nexport const assignFieldValueAction = (\r\n  fieldTreeName: string,\r\n  fieldValue: any\r\n): AssignFieldValueAction => ({\r\n  fieldTreeName,\r\n  fieldValue,\r\n  type: FIELD_VALUE_ASSIGNED,\r\n});\r\n\r\n/** Assigns option list to the proper field name\r\n * @param {string} fieldTreeName - the extended field name\r\n * @param {any} optionList - the option list that will be assigned\r\n * @return {AssignOptionListAction} - an action to assign option List to a field in the redux store\r\n */\r\nexport const assignOptionListAction = (\r\n  fieldTreeName: string,\r\n  optionList: any\r\n): AssignOptionListAction => ({\r\n  fieldTreeName,\r\n  optionList,\r\n  type: OPTION_LIST_ASSIGNED,\r\n});\r\n\r\n/** Remove option list from Redux Store\r\n * @param fieldTreeName - the field tree name\r\n * @returns {RemoveFromOptionList} - an action to remove input id for errors\r\n */\r\nexport const RemoveFromOptionList = (\r\n  fieldTreeName: string,\r\n  repeatIndex: number\r\n): RemoveFromOptionList => ({\r\n  fieldTreeName,\r\n  repeatIndex,\r\n  type: REMOVE_FROM_OPTION_LIST_REPEAT,\r\n});\r\n\r\n/** Adds media object to the proper field name\r\n * @param {any} mediaObject - the media object that will be added\r\n * @return {AddMediaListAction} - an action to assign media object to a field in the redux store\r\n */\r\nexport const addMediaListAction = (mediaObject: any): AddMediaListAction => ({\r\n  mediaObject,\r\n  type: MEDIA_LIST_ADDED,\r\n});\r\n\r\n/** Remove a media item in option list from Redux Store\r\n * @param fieldTreeName - the field tree name\r\n * @returns {RemoveFromMediaListAction} - an action to remove media info from redux store\r\n */\r\nexport const removeFromMediaListAction = (\r\n  fieldTreeName: string,\r\n  mediaList: any\r\n): RemoveFromMediaListAction => ({\r\n  fieldTreeName,\r\n  mediaList,\r\n  type: REMOVE_FROM_MEDIA_LIST,\r\n});\r\n\r\n/** Resets the redux store state to initial state\r\n * @return {ResetStoreAction} - an action to reset the redux store state\r\n */\r\nexport const resetStoreAction = (): ResetStoreAction => ({\r\n  type: RESET_STORE,\r\n});\r\n\r\n/** add the field tree name as error id to store in redux store that violates constraints\r\n * @param fieldTreeName - the field tree name\r\n * @returns {AddErrorInputId} - an action to add input id for errors\r\n */\r\nexport const addErrorInputId = (fieldTreeName: string): AddErrorInputId => ({\r\n  fieldTreeName,\r\n  type: ADD_ERROR_INPUT_ID,\r\n});\r\n\r\n/** remove the field tree name as error id to store in redux store that violates constraints\r\n * @param fieldTreeName - the field tree name\r\n * @returns {RemoveErrorInputId} - an action to remove input id for errors\r\n */\r\nexport const removeErrorInputId = (\r\n  fieldTreeName: string\r\n): RemoveErrorInputId => ({\r\n  fieldTreeName,\r\n  type: REMOVE_ERROR_INPUT_ID,\r\n});\r\n\r\n/** empties the values of the fields of the group\r\n * @param fieldTreeName - the group field tree name\r\n * @returns {RemoveErrorInputId} - an action to empty the group field values\r\n */\r\nexport const emptyGroupFields = (fieldTreeName: string): EmptyGroupFields => ({\r\n  fieldTreeName,\r\n  type: EMPTY_GROUP_FIELDS,\r\n});\r\n\r\n/** removes the group field names from store errors obj\r\n * @param {string} fieldTreeName - the group field tree name\r\n * @returns {RemoveGroupFieldsFromErrors} - an action to remove group field names from errors\r\n */\r\nexport const removeGroupFieldsFromErrors = (\r\n  fieldTreeName: string\r\n): RemoveGroupFieldsFromErrors => ({\r\n  fieldTreeName,\r\n  type: REMOVE_GROUP_FIELDS_FROM_ERRORS,\r\n});\r\n\r\n/** sets the user input object to redux store\r\n * @param {any} userInputObj - the user input obj\r\n * @returns {SetUserInputObj} - an action to set user input to redux store\r\n */\r\nexport const setUserInputObj = (userInputObj: any): SetUserInputObj => ({\r\n  type: SET_USER_INPUT_OBJ,\r\n  userInputObj,\r\n});\r\n\r\n/** sets the csv object to redux store\r\n * @param {any} userInputObj - the user input obj\r\n * @returns {SetUserInputObj} - an action to set user input to redux store\r\n */\r\n export const setCSVObj = (csvObj: any): SetCSVObj => ({\r\n  type: SET_CSV_OBJ,\r\n  csvObj,\r\n});\r\n\r\n/** sets the language to redux store\r\n * @param {string} language - the user input obj\r\n * @returns {SetLanguage} - an action to set user input to redux store\r\n */\r\nexport const setUserLanguage = (language: string): SetLanguage => ({\r\n  type: SET_LANGUAGE,\r\n  language,\r\n});\r\n\r\n/** sets the form submit info to redux store\r\n * @param {boolean} isFormSubmitted - the form submit info variable\r\n * @returns {SetFormSubmitInfo} - an action to set form submit info to redux store\r\n */\r\nexport const setFormSubmitStatus = (\r\n  isFormSubmitted: boolean\r\n): SetFormSubmitStatus => ({\r\n  isFormSubmitted,\r\n  type: SET_FORM_SUBMIT_STATUS,\r\n});\r\n\r\n/** Create type for forms reducer actions */\r\nexport type FormActionTypes =\r\n  | AssignFieldValueAction\r\n  | AssignOptionListAction\r\n  | RemoveFromOptionList\r\n  | AddMediaListAction\r\n  | RemoveFromMediaListAction\r\n  | ResetStoreAction\r\n  | AddErrorInputId\r\n  | RemoveErrorInputId\r\n  | EmptyGroupFields\r\n  | RemoveGroupFieldsFromErrors\r\n  | SetUserInputObj\r\n  | SetCSVObj\r\n  | SetFormSubmitStatus\r\n  | AnyAction;\r\n\r\n/** Create an immutable form state */\r\nexport type ImmutableFormState = SeamlessImmutable.ImmutableObject<FormState>;\r\n\r\n/** initial form state */\r\nexport const initialState: ImmutableFormState = SeamlessImmutable({\r\n  errors: [],\r\n  isFormSubmitted: false,\r\n  mediaList: {},\r\n  optionList: {},\r\n  userInput: {},\r\n  language: 'English',\r\n  csvList: {},\r\n});\r\n\r\n/** the form reducer function */\r\nexport default function reducer(\r\n  state: ImmutableFormState = initialState,\r\n  action: FormActionTypes\r\n): ImmutableFormState {\r\n  switch (action.type) {\r\n    case FIELD_VALUE_ASSIGNED:\r\n      const modifiedUserInputObj = getModifiedUserInputObject(\r\n        state.getIn(['userInput']).asMutable({ deep: true }),\r\n        action.fieldTreeName,\r\n        action.fieldValue\r\n      );\r\n      const stateM = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({ ...stateM, userInput: modifiedUserInputObj });\r\n\r\n    case OPTION_LIST_ASSIGNED:\r\n      const modifiedUserInputObjList = getModifiedUserInputObject(\r\n        state.getIn(['optionList']).asMutable({ deep: true }),\r\n        action.fieldTreeName,\r\n        action.optionList != null ? { ...action.optionList } : null\r\n      );\r\n      const newState = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({\r\n        ...newState,\r\n        optionList: modifiedUserInputObjList,\r\n      });\r\n\r\n    case REMOVE_FROM_OPTION_LIST_REPEAT:\r\n      let filteredRepeatArray: any = [];\r\n      if (\r\n        state\r\n          .getIn(['optionList'])\r\n          .asMutable({ deep: true })\r\n          .hasOwnProperty(action.fieldTreeName)\r\n      ) {\r\n        filteredRepeatArray = [\r\n          ...getModifiedOptionListForRepeat(\r\n            state.getIn(['optionList']).asMutable({ deep: true }),\r\n            action.fieldTreeName,\r\n            action.repeatIndex\r\n          ),\r\n        ];\r\n        const modifiedOptionListRepeat = getModifiedUserInputObject(\r\n          state.getIn(['optionList']).asMutable({ deep: true }),\r\n          action.fieldTreeName,\r\n          { ...filteredRepeatArray }\r\n        );\r\n        const newStateForRepeat = state.asMutable({ deep: true });\r\n        return SeamlessImmutable({\r\n          ...newStateForRepeat,\r\n          optionList: modifiedOptionListRepeat,\r\n        });\r\n      }\r\n      return state;\r\n\r\n    case MEDIA_LIST_ADDED:\r\n      const modifiedMediaList = {\r\n        ...state.getIn(['mediaList']).asMutable({ deep: true }),\r\n        [action.mediaObject.name]: action.mediaObject,\r\n      };\r\n      const newMediaState = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({\r\n        ...newMediaState,\r\n        mediaList: modifiedMediaList,\r\n      });\r\n\r\n    case REMOVE_FROM_MEDIA_LIST:\r\n      if (\r\n        state\r\n          .getIn(['mediaList'])\r\n          .asMutable({ deep: true })\r\n          .hasOwnProperty(action.fieldTreeName)\r\n      ) {\r\n        // const tempMediaState = state.asMutable({ deep: true });\r\n        // return SeamlessImmutable({\r\n        //   ...tempMediaState,\r\n        //   mediaList: modifiedMediaObject,\r\n        // });\r\n      }\r\n      return state;\r\n\r\n    case RESET_STORE:\r\n      return initialState;\r\n\r\n    case ADD_ERROR_INPUT_ID:\r\n      if (!state.errors.includes(action.fieldTreeName)) {\r\n        return state.updateIn(['errors'], arr =>\r\n          arr.concat([action.fieldTreeName])\r\n        );\r\n      }\r\n      return state;\r\n\r\n    case REMOVE_ERROR_INPUT_ID:\r\n      if (state.errors.includes(action.fieldTreeName)) {\r\n        return state.updateIn(['errors'], arr =>\r\n          arr.filter(elm => elm !== action.fieldTreeName)\r\n        );\r\n      }\r\n      return state;\r\n\r\n    case EMPTY_GROUP_FIELDS:\r\n      const mUserInputObj = emptyGroupedValues(\r\n        state.getIn(['userInput']).asMutable({ deep: true }),\r\n        action.fieldTreeName\r\n      );\r\n      const mState = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({ ...mState, userInput: mUserInputObj });\r\n\r\n    case REMOVE_GROUP_FIELDS_FROM_ERRORS:\r\n      return state.updateIn(['errors'], arr =>\r\n        arr.filter(elm => !elm.startsWith(action.fieldTreeName))\r\n      );\r\n\r\n    case SET_USER_INPUT_OBJ:\r\n      return SeamlessImmutable({\r\n        ...state,\r\n        userInput: (action as any).userInputObj,\r\n      });\r\n\r\n    case SET_CSV_OBJ:\r\n      return SeamlessImmutable({\r\n        ...state,\r\n        csvList: (action as any).csvObj,\r\n      });\r\n      \r\n    case SET_FORM_SUBMIT_STATUS:\r\n      return SeamlessImmutable({\r\n        ...state,\r\n        isFormSubmitted: (action as any).isFormSubmitted,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// selectors\r\n\r\n/** get the value by their respective element tree name\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} value if the element name is found else null\r\n */\r\nexport function getFieldValue(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return getValueFromUserInputObj(\r\n    (state as any) != undefined && (state as any).getIn(['userInput']).asMutable({ deep: true }),\r\n    fieldTreeName\r\n  );\r\n}\r\n\r\n/** get option list by their respective element tree name\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} value if the element name is found else null\r\n */\r\nexport function getOptionList(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return getValueFromUserInputObj(\r\n    (state as any) != undefined && (state as any).getIn(['optionList']).asMutable({ deep: true }),\r\n    fieldTreeName\r\n  );\r\n}\r\n\r\n/** get the value of the evaluated expression\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} expression - the expression that needs to be evaluated\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} - the evaluated value or null if syntax error\r\n */\r\nexport function getEvaluatedExpression(\r\n  state: Partial<Store>,\r\n  expression: string,\r\n  fieldTreeName: string\r\n): any {\r\n  return evaluater(expression, (state as any) != undefined && (state as any).userInput, null, fieldTreeName);\r\n}\r\n\r\n/** get the value of the evaluated expression for Select One and Select All\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} expression - the expression that needs to be evaluated\r\n * @param {any} options - the options that needs to be evaluated\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} - the evaluated value or null if syntax error\r\n */\r\nexport function getEvaluatedExpressionForSelect(\r\n  state: Partial<Store>,\r\n  expression: string,\r\n  options: any,\r\n  fieldTreeName: string\r\n): any {\r\n  return evaluater(\r\n    expression,\r\n    (state as any).userInput,\r\n    options,\r\n    fieldTreeName\r\n  );\r\n}\r\n\r\n/** check if the field element is present in the store\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {boolean} true if present; otherwise, false\r\n */\r\nexport function isPresentInError(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return  (state as any) != undefined && (state as any).errors.includes(fieldTreeName);\r\n}\r\n\r\n/** check if the field elements under group are empty or not\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the group field\r\n * @return {boolean} true if empty; otherwise, false\r\n */\r\nexport function isGroupFieldsEmpty(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return checkGroupedValuesForEmpty( (state as any) != undefined && (state as any).userInput, fieldTreeName);\r\n}\r\n\r\n/** check if the field elements under group are present in errors or not\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the group field\r\n * @return {boolean} true if present; otherwise, false\r\n */\r\nexport function isErrorsIncludeGroupFields(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  let isPresent = false;\r\n  (state as any).errors.forEach((fTName: string) => {\r\n    if (fTName.startsWith(fieldTreeName) && !isPresent) {\r\n      isPresent = true;\r\n    }\r\n  });\r\n  return isPresent;\r\n}\r\n\r\n/** check if the errors array in store empty or not\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} true if empty; otherwise, false\r\n */\r\nexport function isErrorsArrayEmpty(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).errors && (state as any).errors.length ? false : true;\r\n}\r\n\r\n/** get the userInput object from store\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} the current userInputObject\r\n */\r\nexport function getUserInputFromStore(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).getIn(['userInput']).asMutable({ deep: true });\r\n}\r\n\r\n/** get the userInput object from store\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} the current userInputObject\r\n */\r\n export function getCSVFromStore(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).getIn(['csvList']).asMutable({ deep: true });\r\n}\r\n\r\n\r\n/** get the userInput object from store\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} the current isFormSubmitted\r\n */\r\nexport function getFormSubmitStatus(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).isFormSubmitted;\r\n}\r\n\r\n/** get the file if present in store\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fileName - the fileName\r\n * @return {any} - the file or null\r\n */\r\nexport function getFileObject(state: Partial<Store>, fileName: string): any {\r\n  const fileObject = (state as any).getIn(['mediaList', fileName]);\r\n  return fileObject ? (state as any).getIn(['mediaList', fileName]) : null;\r\n}\r\n\r\n/** get all the files\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {any} - the files or empty object\r\n */\r\nexport function getAllFileObjects(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).getIn(['mediaList']);\r\n}\r\n","import { createStyles, Theme } from '@material-ui/core';\r\n\r\nconst GroupStyle = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      '&.MuiAccordionSummary-root': {\r\n        borderTop: `5px solid ${theme.palette.primary.dark}`,\r\n        color: `${theme.palette.primary.dark} !important`,\r\n        '&:hover': {\r\n          backgroundColor: `${theme.palette.primary.dark} !important`,\r\n          color: `${theme.palette.secondary.light} !important`,\r\n        },\r\n        '&.Mui-expanded': {\r\n          backgroundColor: `${theme.palette.primary.dark} !important`,\r\n          color: `${theme.palette.secondary.light} !important`,\r\n        },\r\n      },\r\n    },\r\n    backgroundProp: {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      display: 'block'\r\n    },\r\n    insideBackground: {\r\n      backgroundColor: 'white'\r\n    },\r\n    borderProp: {\r\n      boxShadow: `inset 0 0 2px ${theme.palette.primary.light}`,\r\n      backgroundColor: 'white',\r\n      marginTop: 10,\r\n      marginBottom: 5,\r\n      padding: 10,\r\n\r\n    },\r\n    toolbarIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end',\r\n      padding: '0 8px',\r\n      ...theme.mixins.toolbar,\r\n      '& button': {\r\n        color: '#FFF',\r\n      },\r\n    },\r\n    drawerPaperClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      width: theme.spacing(7),\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(9),\r\n      },\r\n      background: theme.palette.primary.dark,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    listItem: {\r\n      width: '94%',\r\n      background: theme.palette.primary.main,\r\n      color: '#FFF',\r\n      marginTop: '2px',\r\n      marginLeft: '8px',\r\n      marginRight: '2px',\r\n      borderRadius: '3px',\r\n      '&:hover': {\r\n        background: theme.palette.primary.light,\r\n      },\r\n    },\r\n    listItemIcon: {\r\n      color: '#FFF',\r\n    },\r\n    listItemActive: {\r\n      width: '94%',\r\n      background: theme.palette.primary.light,\r\n      color: '#FFF',\r\n      marginTop: '2px',\r\n      marginLeft: '8px',\r\n      marginRight: '2px',\r\n      borderRadius: '3px',\r\n      '&:hover': {\r\n        background: theme.palette.primary.light,\r\n      },\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(4),\r\n      color: '#FFF',\r\n    },\r\n    navlogo: {\r\n      width: '40%',\r\n      margin: '0 auto',\r\n      padding: 3,\r\n      backgroundColor: '#FFF',\r\n      borderRadius: 5,\r\n    },\r\n    listParent: {\r\n      color: theme.palette.common.white,\r\n      '&.MuiListItem-root': {\r\n        color: theme.palette.common.white,\r\n        '&.Mui-selected': { color: theme.palette.common.white, backgroundColor: theme.palette.primary.main },\r\n        '&:hover': {\r\n          color: theme.palette.common.white,\r\n          backgroundColor: theme.palette.primary.dark,\r\n        },\r\n      },\r\n    },\r\n    drawerClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        duration: theme.transitions.duration.leavingScreen,\r\n        easing: theme.transitions.easing.sharp,\r\n      }),\r\n      width: theme.spacing(7) + 1,\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(7) + 1,\r\n      },\r\n      background: theme.palette.primary.dark,\r\n    },\r\n    drawerOpen: {\r\n      '&:hover': {\r\n        overflowY: 'auto',\r\n      },\r\n      overflowY: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        duration: theme.transitions.duration.enteringScreen,\r\n        easing: theme.transitions.easing.sharp,\r\n      }),\r\n    },\r\n  });\r\n\r\nexport default GroupStyle;\r\n","import { Accordion, AccordionDetails, AccordionSummary } from '@material-ui/core';\r\nimport { useTheme } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport GroupTypeEvaluator from '../../../../components/typeEvalutors/Group';\r\nimport {\r\n  emptyGroupFields,\r\n  getEvaluatedExpression,\r\n  isErrorsIncludeGroupFields,\r\n  isGroupFieldsEmpty,\r\n  removeGroupFieldsFromErrors,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  getFieldLabelText,\r\n  shouldComponentBeRelevant,\r\n} from '../../../../utils/helpers';\r\nimport GroupStyle from './styles';\r\n\r\nexport interface GroupProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  emptyGroupFieldsActionCreator: typeof emptyGroupFields;\r\n  removeGroupFieldsFromErrorsActionCreator: typeof removeGroupFieldsFromErrors;\r\n}\r\n\r\nfunction Group(props: GroupProps) {\r\n  const {\r\n    choices,\r\n    csvList,\r\n    fieldElement,\r\n    fieldParentTreeName,\r\n    defaultLanguage,\r\n    isComponentRender,\r\n  } = props;\r\n  const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n  let isAppearanceApplicable = false;\r\n  if (fieldElement.control && fieldElement.control.appearance) {\r\n    if (/^w(\\d+)\\b/i.test(fieldElement.control.appearance)) {\r\n      isAppearanceApplicable = true;\r\n    }\r\n  }\r\n  const theme = useTheme();\r\n  const useStyles = makeStyles(GroupStyle(theme));\r\n  const classNames = useStyles();\r\n  if (\r\n    isComponentRender\r\n    && (fieldElement.control && fieldElement.control.bodyless\r\n      ? fieldElement.control.bodyless === false\r\n      : true)\r\n  ) {\r\n    return (\r\n      <Accordion defaultExpanded style={{ marginBottom: 10 }}>\r\n        <AccordionSummary\r\n          className={classNames.root}\r\n          expandIcon={<ExpandMoreIcon />}\r\n        >\r\n          <Typography>{fieldLabel}</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails className={classNames.backgroundProp}>\r\n          <FormGroup className={classNames.borderProp}>\r\n            {fieldElement.children && (\r\n              <GroupTypeEvaluator\r\n                choices={choices}\r\n                fieldElements={fieldElement.children}\r\n                fieldParentTreeName={`${fieldParentTreeName}group/${fieldElement.name}/`}\r\n                defaultLanguage={defaultLanguage}\r\n                csvList={csvList}\r\n                isAppearanceApplicable={isAppearanceApplicable}\r\n              />\r\n            )}\r\n          </FormGroup>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    );\r\n  }\r\n\r\n  if (\r\n    props.isErrorsIncludeGroupFieldsSelector(\r\n      `${fieldParentTreeName}group/${fieldElement.name}/`\r\n    )\r\n  ) {\r\n    props.removeGroupFieldsFromErrorsActionCreator(\r\n      `${fieldParentTreeName}group/${fieldElement.name}/`\r\n    );\r\n  }\r\n  if (\r\n    !props.isGroupFieldsEmptySelector(fieldParentTreeName + fieldElement.name)\r\n  ) {\r\n    props.emptyGroupFieldsActionCreator(\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isGroupFieldsEmptySelector = (fieldTreeName: string) =>\r\n    isGroupFieldsEmpty(state, fieldTreeName);\r\n  const isErrorsIncludeGroupFieldsSelector = (fieldTreeName: string) =>\r\n    isErrorsIncludeGroupFields(state, fieldTreeName);\r\n  const result = {\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isErrorsIncludeGroupFieldsSelector,\r\n    isGroupFieldsEmptySelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  emptyGroupFieldsActionCreator: emptyGroupFields,\r\n  removeGroupFieldsFromErrorsActionCreator: removeGroupFieldsFromErrors,\r\n};\r\n\r\n/** connect Group component to the redux store */\r\nconst ConnectedGroup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Group);\r\n\r\nexport default ConnectedGroup;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport GroupTypeEvaluator from '../../../../../components/typeEvalutors/Group';\r\n\r\nexport interface SingleRepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  defaultLanguage: string;\r\n  repeatIndex: number;\r\n  assignmentHandler: any;\r\n  removeHandler: any;\r\n  removeOptionHandler: any;\r\n  unControlFlag: boolean;\r\n}\r\n\r\nclass SingleRepeat extends React.Component<SingleRepeatProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      defaultLanguage,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      repeatIndex,\r\n      unControlFlag,\r\n    } = this.props;\r\n    let isAppearanceApplicable = false;\r\n    if (fieldElement.control && fieldElement.control.appearance) {\r\n      if (/^w(\\d+)\\b/i.test(fieldElement.control.appearance)) {\r\n        isAppearanceApplicable = true;\r\n      }\r\n    }\r\n    return (\r\n      <div className={'groupFormFieldBody'}>\r\n        {fieldElement.children && (\r\n          <GroupTypeEvaluator\r\n            choices={choices}\r\n            fieldElements={fieldElement.children}\r\n            fieldParentTreeName={\r\n              fieldParentTreeName +\r\n              'repeat/' +\r\n              fieldElement.name +\r\n              '/' +\r\n              repeatIndex +\r\n              '/'\r\n            }\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n            isAppearanceApplicable={isAppearanceApplicable}\r\n          />\r\n        )}\r\n\r\n        {unControlFlag === false ? (\r\n          <div className={'minusIconWrapper'}>\r\n            <span onClick={this.handleChange}>\r\n              <FontAwesomeIcon icon=\"minus-circle\" className={'minusIcon'} />\r\n            </span>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  private handleChange = (_event: React.MouseEvent<HTMLDivElement>) => {\r\n    const {\r\n      repeatIndex,\r\n      fieldValue,\r\n      assignmentHandler,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      removeHandler,\r\n      removeOptionHandler,\r\n    } = this.props;\r\n    let newFieldValue: any[] = [...fieldValue];\r\n    newFieldValue = newFieldValue.filter(\r\n      // tslint:disable-next-line: variable-name\r\n      (_elem, index) => index !== repeatIndex\r\n    );\r\n    assignmentHandler(fieldParentTreeName + fieldElement.name, newFieldValue);\r\n    removeHandler(fieldParentTreeName + 'repeat/' + fieldElement.name + '/');\r\n    removeOptionHandler(fieldParentTreeName + fieldElement.name, repeatIndex);\r\n  };\r\n}\r\n\r\nexport default SingleRepeat;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport {\r\n  assignFieldValueAction,\r\n  emptyGroupFields,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  isErrorsIncludeGroupFields,\r\n  isGroupFieldsEmpty,\r\n  RemoveFromOptionList,\r\n  removeGroupFieldsFromErrors,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  getFieldLabelText,\r\n  shouldComponentBeRelevant,\r\n} from '../../../../../utils/helpers';\r\nimport SingleRepeat from '.././Single Repeat';\r\n\r\nexport interface ControlledRepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldValue: any;\r\n  fieldParentTreeName: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  emptyGroupFieldsActionCreator: typeof emptyGroupFields;\r\n  removeGroupFieldsFromErrorsActionCreator: typeof removeGroupFieldsFromErrors;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  removeOptionListFromActionCreator: typeof RemoveFromOptionList;\r\n}\r\n\r\nclass ControlledRepeat extends React.Component<ControlledRepeatProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldValue,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n      isComponentRender,\r\n      assignFieldValueActionCreator,\r\n      removeGroupFieldsFromErrorsActionCreator,\r\n      removeOptionListFromActionCreator,\r\n    } = this.props;\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (!fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          [{}]\r\n        );\r\n      }\r\n\r\n      return (\r\n        <FormGroup className={'groupBody'}>\r\n          <Label>{fieldLabel}</Label>\r\n          {fieldValue &&\r\n            // tslint:disable-next-line: variable-name\r\n            fieldValue.map((_elm: any, index: any) => (\r\n              <div className=\"repeat-fields-body\" key={'repeat' + index}>\r\n                <SingleRepeat\r\n                  choices={choices}\r\n                  defaultLanguage={defaultLanguage}\r\n                  fieldElement={fieldElement}\r\n                  fieldParentTreeName={fieldParentTreeName}\r\n                  fieldValue={fieldValue}\r\n                  repeatIndex={index}\r\n                  assignmentHandler={assignFieldValueActionCreator}\r\n                  removeHandler={removeGroupFieldsFromErrorsActionCreator}\r\n                  removeOptionHandler={removeOptionListFromActionCreator}\r\n                  csvList={csvList}\r\n                  unControlFlag={false}\r\n                />\r\n              </div>\r\n            ))}\r\n          <div>\r\n            <span onClick={this.addAnotherRepeat}>\r\n              <FontAwesomeIcon icon=\"plus-circle\" className={'plusIcon'} />\r\n            </span>\r\n          </div>\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (\r\n        this.props.isErrorsIncludeGroupFieldsSelector(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        )\r\n      ) {\r\n        this.props.removeGroupFieldsFromErrorsActionCreator(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        );\r\n      }\r\n      if (fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  private addAnotherRepeat = (_event: React.MouseEvent<HTMLDivElement>) => {\r\n    const { fieldValue, fieldParentTreeName, fieldElement } = this.props;\r\n    const newFieldValue = [...fieldValue];\r\n    newFieldValue.push({});\r\n    this.props.assignFieldValueActionCreator(\r\n      fieldParentTreeName + fieldElement.name,\r\n      newFieldValue\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isGroupFieldsEmptySelector = (fieldTreeName: string) =>\r\n    isGroupFieldsEmpty(state, fieldTreeName);\r\n  const isErrorsIncludeGroupFieldsSelector = (fieldTreeName: string) =>\r\n    isErrorsIncludeGroupFields(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isErrorsIncludeGroupFieldsSelector,\r\n    isGroupFieldsEmptySelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  emptyGroupFieldsActionCreator: emptyGroupFields,\r\n  removeGroupFieldsFromErrorsActionCreator: removeGroupFieldsFromErrors,\r\n  removeOptionListFromActionCreator: RemoveFromOptionList,\r\n};\r\n\r\n/** connect Group component to the redux store */\r\nconst ConnectedControlledRepeat = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ControlledRepeat);\r\n\r\nexport default ConnectedControlledRepeat;\r\n","import _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport {\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  emptyGroupFields,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getOptionList,\r\n  isErrorsIncludeGroupFields,\r\n  isGroupFieldsEmpty,\r\n  RemoveFromOptionList,\r\n  removeGroupFieldsFromErrors,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  getFieldLabelText,\r\n  shouldComponentBeRelevant,\r\n} from '../../../../../utils/helpers';\r\nimport SingleRepeat from '.././Single Repeat';\r\n\r\nexport interface UncontrolledRepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldValue: any;\r\n  fieldParentTreeName: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  optionList: object;\r\n  emptyGroupFieldsActionCreator: typeof emptyGroupFields;\r\n  removeGroupFieldsFromErrorsActionCreator: typeof removeGroupFieldsFromErrors;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  removeOptionListFromActionCreator: typeof RemoveFromOptionList;\r\n}\r\n\r\nclass UncontrolledRepeat extends React.Component<UncontrolledRepeatProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldValue,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n      isComponentRender,\r\n      optionList,\r\n      assignFieldValueActionCreator,\r\n      removeGroupFieldsFromErrorsActionCreator,\r\n      removeOptionListFromActionCreator,\r\n    } = this.props;\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (!fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          []\r\n        );\r\n      }\r\n\r\n      let noOfJrCount: number = 0;\r\n\r\n      if (fieldElement.control) {\r\n        const jrCount: string = 'jr:count';\r\n        const res: any = fieldElement.control[jrCount];\r\n\r\n        if (/^[0-9]*$/i.test(res)) {\r\n          noOfJrCount = parseInt(res, 10);\r\n        } else {\r\n          const value: any = this.props.getEvaluatedExpressionSelector(\r\n            res,\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n          if (value) {\r\n            noOfJrCount = parseInt(value, 10);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (\r\n        fieldValue &&\r\n        fieldValue.length === 0 &&\r\n        noOfJrCount === 0 &&\r\n        this.props.isErrorsIncludeGroupFieldsSelector(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        )\r\n      ) {\r\n        this.props.removeGroupFieldsFromErrorsActionCreator(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        );\r\n      }\r\n\r\n      if (fieldValue && fieldValue.length > 0 && noOfJrCount === 0) {\r\n        this.removeFromError();\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          []\r\n        );\r\n      }\r\n\r\n      if (optionList && _.size(optionList) > noOfJrCount && noOfJrCount === 0) {\r\n        this.props.assignOptionListActionCreator(\r\n          this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n          []\r\n        );\r\n      }\r\n\r\n      if (noOfJrCount > 0) {\r\n        const newFieldValue = [...fieldValue];\r\n\r\n        if (fieldValue && fieldValue.length < noOfJrCount) {\r\n          const iterate = noOfJrCount - fieldValue.length;\r\n          for (let j = 0; j < iterate; j++) {\r\n            newFieldValue.push({});\r\n          }\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > noOfJrCount) {\r\n          const iterate = fieldValue.length - noOfJrCount;\r\n          for (let i = 0; i < iterate; i++) {\r\n            newFieldValue.pop();\r\n          }\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            newFieldValue\r\n          );\r\n          this.removeFromError();\r\n        }\r\n\r\n        if (optionList && _.size(optionList) > noOfJrCount) {\r\n          const iterate = _.size(optionList) - noOfJrCount;\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            Array.prototype.slice.call(optionList, iterate)\r\n          );\r\n          this.removeFromError();\r\n        }\r\n\r\n        return (\r\n          <FormGroup className={'groupBodyUnControlled'}>\r\n            <Label>{fieldLabel}</Label>\r\n            {newFieldValue &&\r\n              // tslint:disable-next-line: variable-name\r\n              newFieldValue.map((_elm: any, index: any) => (\r\n                <div className=\"repeat-fields-body\" key={'repeat' + index}>\r\n                  <SingleRepeat\r\n                    choices={choices}\r\n                    defaultLanguage={defaultLanguage}\r\n                    fieldElement={fieldElement}\r\n                    fieldParentTreeName={fieldParentTreeName}\r\n                    fieldValue={fieldValue}\r\n                    repeatIndex={index}\r\n                    assignmentHandler={assignFieldValueActionCreator}\r\n                    removeHandler={removeGroupFieldsFromErrorsActionCreator}\r\n                    removeOptionHandler={removeOptionListFromActionCreator}\r\n                    csvList={csvList}\r\n                    unControlFlag={true}\r\n                  />\r\n                </div>\r\n              ))}\r\n          </FormGroup>\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      this.removeFromError();\r\n      if (fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private removeFromError() {\r\n    if (\r\n      this.props.isErrorsIncludeGroupFieldsSelector(\r\n        this.props.fieldParentTreeName +\r\n          'repeat/' +\r\n          this.props.fieldElement.name +\r\n          '/'\r\n      )\r\n    ) {\r\n      this.props.removeGroupFieldsFromErrorsActionCreator(\r\n        this.props.fieldParentTreeName +\r\n          'repeat/' +\r\n          this.props.fieldElement.name +\r\n          '/'\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isGroupFieldsEmptySelector = (fieldTreeName: string) =>\r\n    isGroupFieldsEmpty(state, fieldTreeName);\r\n  const isErrorsIncludeGroupFieldsSelector = (fieldTreeName: string) =>\r\n    isErrorsIncludeGroupFields(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isErrorsIncludeGroupFieldsSelector,\r\n    isGroupFieldsEmptySelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  emptyGroupFieldsActionCreator: emptyGroupFields,\r\n  removeGroupFieldsFromErrorsActionCreator: removeGroupFieldsFromErrors,\r\n  removeOptionListFromActionCreator: RemoveFromOptionList,\r\n};\r\n\r\n/** connect Repeat component to the redux store */\r\nconst ConnectedUncontrolledRepeat = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(UncontrolledRepeat);\r\n\r\nexport default ConnectedUncontrolledRepeat;\r\n","import * as React from 'react';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport ControlledRepeat from './Controlled Repeat';\r\nimport UncontrolledRepeat from './Uncontrolled Repeat';\r\n\r\n/** props interface for the Repeat component */\r\nexport interface RepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass Repeat extends React.Component<RepeatProps> {\r\n  public render() {\r\n    const { fieldElement } = this.props;\r\n    if (fieldElement.control && fieldElement.control['jr:count']) {\r\n      return <UncontrolledRepeat {...this.props} />;\r\n    }\r\n    return <ControlledRepeat {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default Repeat;\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Input } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\n\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the calculate component */\r\nexport interface CalculateProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass Calculate extends React.Component<CalculateProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      isPresentInErrorSelector,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      \r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div>\r\n          <Input\r\n            type=\"hidden\"\r\n            name={fieldElement.name}\r\n            value={calculatedValue || ''}\r\n            readOnly={isReadonly}\r\n          />\r\n        </div>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Calculate component to the redux store */\r\nconst ConnectedCalculate = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Calculate);\r\n\r\nexport default ConnectedCalculate;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the KbDate component */\r\nexport interface DateProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass KbDate extends React.Component<DateProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      let defaultValue: string = '';\r\n      if (fieldValue && fieldValue !== '') {\r\n        const modifiedDate = new Date(fieldValue);\r\n        defaultValue = modifiedDate.toISOString().slice(0, 10);\r\n      }\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"date\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            value={defaultValue}\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== ''\r\n        ? new Date(event.currentTarget.value)\r\n        : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect KbDate component to the redux store */\r\nconst ConnectedDate = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(KbDate);\r\n\r\nexport default ConnectedDate;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\n/** props interface for the date Time component */\r\nexport interface DateTimeProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass DateTime extends React.Component<DateTimeProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      let modifiedDate: any = null;\r\n      if (fieldValue) {\r\n        modifiedDate = new Date(fieldValue);\r\n        const timeZoneOffset = modifiedDate.getTimezoneOffset() / 60;\r\n        modifiedDate.setHours(modifiedDate.getHours() - timeZoneOffset);\r\n      }\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <br />\r\n          <DatePicker\r\n            name={fieldElement.name}\r\n            selected={fieldValue ? modifiedDate : null}\r\n            onChange={this.handleChange(fieldElement.name)}\r\n            showTimeSelect={true}\r\n            timeFormat=\"h:m aa\"\r\n            timeIntervals={15}\r\n            timeCaption=\"time\"\r\n            dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n            placeholderText=\"mm/dd/yyyy h:m aa\"\r\n            className=\"form-control\"\r\n            readOnly={isReadonly}\r\n          />\r\n          <br />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private handleChange = (name: any) => (value: any) => {\r\n    const modifiedDate: any = new Date(value);\r\n    const timeZoneOffset = modifiedDate.getTimezoneOffset() / 60;\r\n    modifiedDate.setHours(modifiedDate.getHours() + timeZoneOffset);\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + name,\r\n      value !== '' ? modifiedDate : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Date Time component to the redux store */\r\nconst ConnectedDateTime = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DateTime);\r\n\r\nexport default ConnectedDateTime;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the decimal component */\r\nexport interface DecimalProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface DecimalState {\r\n  fieldValue: string;\r\n  isFocused: boolean;\r\n}\r\n\r\nclass Decimal extends React.Component<DecimalProps, DecimalState> {\r\n  constructor(props: DecimalProps) {\r\n    super(props);\r\n    this.state = { fieldValue: '', isFocused: false };\r\n  }\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated =\r\n      isRequired &&\r\n      (fieldValue === null || fieldValue === '' || fieldValue === undefined);\r\n    const isConstraintViolated =\r\n      fieldValue !== '' &&\r\n      fieldValue !== null &&\r\n      fieldValue !== undefined &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          parseFloat(this.props.fieldValue)\r\n        );\r\n      }\r\n\r\n      let modifiedValue: any;\r\n      {\r\n        fieldValue === 0 ? (modifiedValue = '0') : (modifiedValue = fieldValue);\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        let calculatedValue: any = '';\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n\r\n        if (fieldValue && calculatedValue !== fieldValue) {\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            calculatedValue\r\n          );\r\n        }\r\n        modifiedValue = calculatedValue;\r\n      }\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"number\"\r\n            step=\"any\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            onBlur={this.onBlurHandler}\r\n            value={\r\n              this.state.isFocused\r\n                ? this.state.fieldValue || ''\r\n                : modifiedValue || ''\r\n            }\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (this.state.isFocused) {\r\n        this.setState({ ...this.state, isFocused: false });\r\n      }\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: true,\r\n    });\r\n  };\r\n\r\n  private onBlurHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: false,\r\n    });\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== ''\r\n        ? parseFloat(event.currentTarget.value)\r\n        : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Decimal component to the redux store */\r\nconst ConnectedDecimal = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Decimal);\r\n\r\nexport default ConnectedDecimal;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  assignFieldValueAction,\r\n  getFileObject,\r\n} from '../../../../../store/ducks/formState';\r\n\r\ninterface FilePreviewProps {\r\n  fieldName: string;\r\n  fieldValue: any;\r\n  fileObject: any;\r\n  assignFieldValueActionCreator: any;\r\n}\r\n\r\nclass FilePreview extends React.Component<FilePreviewProps> {\r\n  public render() {\r\n    const { fieldName, fieldValue, assignFieldValueActionCreator } = this.props;\r\n    const removeHandler = () => {\r\n      assignFieldValueActionCreator(fieldName, null);\r\n    };\r\n    return (\r\n      <>\r\n        <p className=\"text-muted\">\r\n          Uploaded File Name: <strong className=\"text-primary\"> {fieldValue} </strong>\r\n        </p>\r\n        <Button size=\"sm\" color=\"danger\" onClick={removeHandler}>\r\n          Remove File\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fileObject: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldName: string;\r\n  fieldValue: any;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldValue } = parentProps;\r\n  const result = {\r\n    fileObject: getFileObject(state, fieldValue),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n};\r\n\r\n/** connect FilePreview component to the redux store */\r\nconst ConnectedFilePreview = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(FilePreview);\r\n\r\nexport default ConnectedFilePreview;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport { PHOTO_FIELD_TYPE } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  addMediaListAction,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\nimport FilePreview from './FilePreview/FilePreview';\r\n\r\n/** props interface for the file component */\r\nexport interface FileProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  addMediaListActionCreator: typeof addMediaListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass File extends React.Component<FileProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          {fieldValue ? (\r\n            <FilePreview\r\n              fieldName={fieldParentTreeName + fieldElement.name}\r\n              fieldValue={fieldValue}\r\n            />\r\n          ) : fieldElement.type === PHOTO_FIELD_TYPE ? (\r\n            <Input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              readOnly={isReadonly}\r\n            />\r\n          ) : (\r\n            <Input\r\n              type=\"file\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              readOnly={isReadonly}\r\n            />\r\n          )}\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: any) => {\r\n    if (event.target.files[0]) {\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + event.target.name,\r\n        event.target.files[0].name\r\n      );\r\n      this.props.addMediaListActionCreator(event.target.files[0]);\r\n    } else {\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + event.target.name,\r\n        null\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  addMediaListActionCreator: addMediaListAction,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect File component to the redux store */\r\nconst ConnectedFile = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(File);\r\n\r\nexport default ConnectedFile;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the integer component */\r\nexport interface IntegerProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\nexport interface IntegerState {\r\n  fieldValue: string;\r\n  isFocused: boolean;\r\n}\r\nclass Integer extends React.Component<IntegerProps, IntegerState> {\r\n  constructor(props: IntegerProps) {\r\n    super(props);\r\n    this.state = { fieldValue: '', isFocused: false };\r\n  }\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated =\r\n      isRequired &&\r\n      (fieldValue === null || fieldValue === '' || fieldValue === undefined);\r\n\r\n    const isConstraintViolated =\r\n      fieldValue !== '' &&\r\n      fieldValue !== null &&\r\n      fieldValue !== undefined &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel =\r\n      customizeLabelsWithPreviousInputs(\r\n        getEvaluatedExpressionSelector,\r\n        constraintLabel,\r\n        fieldParentTreeName + fieldElement.name\r\n      ) || '';\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          parseInt(this.props.fieldValue, 10)\r\n        );\r\n      }\r\n\r\n      let modifiedValue: any;\r\n      {\r\n        fieldValue === 0 ? (modifiedValue = '0') : (modifiedValue = fieldValue);\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        let calculatedValue: any = '';\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n\r\n        if (fieldValue && calculatedValue !== fieldValue) {\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            calculatedValue\r\n          );\r\n        }\r\n        modifiedValue = calculatedValue;\r\n      }\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"number\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            onBlur={this.onBlurHandler}\r\n            value={\r\n              this.state.isFocused\r\n                ? this.state.fieldValue || ''\r\n                : modifiedValue || ''\r\n            }\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (this.state.isFocused) {\r\n        this.setState({ ...this.state, isFocused: false });\r\n      }\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: true,\r\n    });\r\n  };\r\n\r\n  private onBlurHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: false,\r\n    });\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== ''\r\n        ? parseInt(event.currentTarget.value, 10)\r\n        : null\r\n    );\r\n  };\r\n}\r\n/** connect the component to the store */\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n/** connect Integer component to the redux store */\r\nconst ConnectedInteger = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Integer);\r\nexport default ConnectedInteger;\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, FormText, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the text component */\r\nexport interface NoteProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  isPresentInErrorSelector: any;\r\n  isComponentRender: boolean;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass Note extends React.Component<NoteProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const fieldHint = getHintLabelText(fieldElement, defaultLanguage);\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      return (\r\n        <FormGroup>\r\n          <Label>{fieldLabel}</Label>\r\n          {isRequired && (\r\n            <Label className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</Label>\r\n          )}\r\n          {fieldElement.hint && (\r\n            <FormText className=\"hintText\">{fieldHint}</FormText>\r\n          )}\r\n\r\n          {isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Note component to the redux store */\r\nconst ConnectedNote = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Note);\r\n\r\nexport default ConnectedNote;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Select from 'react-select';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n/** props interface for the SelectAll Dropdown component */\r\nexport interface SelectAllDropDownProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  optionList: object;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\n\r\nconst customStyles = {\r\n  // For the select itself (not the options)\r\n  control: (styles: any, { isDisabled }: any) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isDisabled ? 'white' : 'white',\r\n    }\r\n  },\r\n\r\n    // For the select itself (not the options)\r\n    container: (styles: any, { isDisabled }: any) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled ? 'white' : 'white',\r\n      }\r\n    },\r\n};\r\n\r\nclass SelectAllDropDown extends React.Component<SelectAllDropDownProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === []);\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== [] &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n      const options: Options[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        const updatedFieldElement: any = fieldElement.control.appearance\r\n          .toString()\r\n          .replace('minimal', '');\r\n        if (/search\\([^\\)|(]+\\)/i.test(updatedFieldElement)) {\r\n          const processedStringArray = updatedFieldElement.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        resultOptions.map(elem =>\r\n          options.push({ label: elem.label, value: elem.name })\r\n        );\r\n        this.setOptionList(resultOptions);\r\n      } else if (fieldElement.itemset) {\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              options.push({ label: childrenLabel, value: elem.name });\r\n            }\r\n          });\r\n\r\n          const optionsArray: any = [];\r\n          if (options) {\r\n            options.map(elem => {\r\n              const elemObj: any = {};\r\n              const name: string = 'name';\r\n              const label: string = 'label';\r\n              elemObj[name] = elem.value;\r\n              elemObj[label] = elem.label;\r\n              optionsArray.push(elemObj);\r\n            });\r\n          }\r\n          this.setOptionList(optionsArray);\r\n        }\r\n      } else {\r\n        if (fieldElement.children) {\r\n          fieldElement.children.map(elem => {\r\n            const childrenLabel: string = getFieldLabelText(\r\n              elem,\r\n              defaultLanguage\r\n            );\r\n\r\n            options.push({ label: childrenLabel, value: elem.name });\r\n          });\r\n          this.setOptionList(fieldElement.children);\r\n        }\r\n      }\r\n\r\n      const tmpValueArray: any = [];\r\n      let isNotIncluded: boolean = false;\r\n      if (fieldValue && fieldValue.length > 0) {\r\n        const optionsValueArray: any = [];\r\n        options.map(elem => {\r\n          if (elem.value) {\r\n            optionsValueArray.push(elem.value);\r\n          }\r\n        });\r\n\r\n        for (const row of fieldValue) {\r\n          if (!optionsValueArray.includes(row)) {\r\n            isNotIncluded = true;\r\n          } else {\r\n            tmpValueArray.push(row);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (fieldValue && fieldValue.length > 0 && isNotIncluded) {\r\n        this.props.assignFieldValueActionCreator(\r\n          this.props.fieldParentTreeName + fieldElement.name,\r\n          tmpValueArray || []\r\n        );\r\n      }\r\n\r\n      const selectedValues: any[] = [];\r\n      if (fieldValue && fieldValue.length > 0) {\r\n        options.map(elem => {\r\n          for (const row of fieldValue) {\r\n            if (elem.value === row) {\r\n              selectedValues.push(elem);\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        const seperatedValues: string[] = fieldValue.split(' ');\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          seperatedValues\r\n        );\r\n      }\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <div key={fieldElement.name} className=\"selectAllDropDown\">\r\n            <Select\r\n              styles={customStyles}\r\n              isDisabled={isReadonly}\r\n              isMulti={true}\r\n              name={fieldElement.name}\r\n              options={options}\r\n              onChange={this.onChangeHandler(fieldElement.name)}\r\n              value={selectedValues || calculatedValue || []}\r\n            />\r\n          </div>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      if (this.props.optionList != null) {\r\n        this.props.assignOptionListActionCreator(\r\n          this.props.fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** Sets the option list to the Redux Store\r\n   * @param {any} optionObject - the option object to be processed\r\n   */\r\n  private setOptionList = (optionObject: any) => {\r\n    const tempObjArray: any = [];\r\n    optionObject.map((elem: { name: any; label: any }) => {\r\n      const elemObj: any = {};\r\n      const name: string = 'name';\r\n      const label: string = 'label';\r\n      elemObj[name] = elem.name;\r\n      elemObj[label] = elem.label;\r\n      tempObjArray.push(elemObj);\r\n    });\r\n\r\n    if (!_.isEqual(this.props.optionList, { ...tempObjArray })) {\r\n      this.props.assignOptionListActionCreator(\r\n        this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n        tempObjArray\r\n      );\r\n    }\r\n  };\r\n\r\n  /** sets the value of field element in store\r\n   * @param {any} values - the onchange input values\r\n   * @param {any} fieldName - the input name\r\n   */\r\n  private onChangeHandler = (fieldName: any) => (values: any) => {\r\n    const selectedValues: any = [];\r\n    let i = 0;\r\n    if (values && values.length > 0) {\r\n      values.map(() => {\r\n        if (!selectedValues.includes(values[i].value)) {\r\n          selectedValues.push(values[i].value);\r\n        }\r\n        i++;\r\n      });\r\n\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + fieldName,\r\n        selectedValues\r\n      );\r\n    } else {\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + fieldName,\r\n        null\r\n      );\r\n    }\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique dropdown options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const finalRes: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n\r\n        let filterResult: any = [];\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n\r\n        let j = 0;\r\n        filterResult.map(() => {\r\n          options.map(option => {\r\n            if (option[nameOfKey] === filterResult[j]) {\r\n              finalRes.push(option);\r\n            }\r\n          });\r\n          j = j + 1;\r\n        });\r\n\r\n        i = i + 2;\r\n      }\r\n\r\n      options = [...Array.from(new Set(finalRes))];\r\n    }\r\n\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string[];\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne Dropdown component to the redux store */\r\nconst ConnectedSelectAllDropDown = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectAllDropDown);\r\n\r\nexport default ConnectedSelectAllDropDown;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n/** props interface for the SelectAll Radio component */\r\nexport interface SelectAllRadioProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n  optionList: object;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nclass SelectAllRadio extends React.Component<SelectAllRadioProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === []);\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== [] &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n      let options: Options[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        const updatedFieldElement: any = fieldElement.control.appearance\r\n          .toString()\r\n          .replace('minimal', '');\r\n        if (/search\\([^\\)|(]+\\)/i.test(updatedFieldElement)) {\r\n          const processedStringArray = updatedFieldElement.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      const childrenArray: any = [];\r\n      if (fieldElement.children) {\r\n        fieldElement.children.map(elem => {\r\n          const elemObj: any = {};\r\n          const name: string = 'name';\r\n          const label: string = 'label';\r\n          elemObj[name] = elem.name;\r\n          elemObj[label] = elem.label;\r\n          childrenArray.push(elemObj);\r\n        });\r\n      }\r\n\r\n      let values: any = [];\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        values = [];\r\n        options = [];\r\n        const tmpValueArray: any = [];\r\n        let isNotIncluded: boolean = false;\r\n\r\n        resultOptions.map(elem =>\r\n          options.push({ label: elem.label, value: elem.name })\r\n        );\r\n\r\n        if (fieldValue && fieldValue.length > 0) {\r\n          const optionsValueArray: any = [];\r\n          options.map(elem => {\r\n            if (elem.value) {\r\n              optionsValueArray.push(elem.value);\r\n            }\r\n          });\r\n\r\n          for (const row of fieldValue) {\r\n            if (!optionsValueArray.includes(row)) {\r\n              isNotIncluded = true;\r\n            } else {\r\n              tmpValueArray.push(row);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > 0 && isNotIncluded) {\r\n          this.props.assignFieldValueActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            tmpValueArray || []\r\n          );\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...resultOptions })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            resultOptions\r\n          );\r\n        }\r\n        values = [...resultOptions];\r\n      } else if (fieldElement.itemset) {\r\n        values = [];\r\n        options = [];\r\n        const tmpValueArray: any = [];\r\n        const optionsArray: any = [];\r\n        let isNotIncluded: boolean = false;\r\n\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              options.push({ label: childrenLabel, value: elem.name });\r\n            }\r\n          });\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > 0) {\r\n          const optionsValueArray: any = [];\r\n          options.map((elem: any) => {\r\n            if (elem.value) {\r\n              optionsValueArray.push(elem.value);\r\n            }\r\n          });\r\n\r\n          for (const row of fieldValue) {\r\n            if (!optionsValueArray.includes(row)) {\r\n              isNotIncluded = true;\r\n            } else {\r\n              tmpValueArray.push(row);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > 0 && isNotIncluded) {\r\n          this.props.assignFieldValueActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            tmpValueArray || []\r\n          );\r\n        }\r\n\r\n        if (options) {\r\n          options.map(elem => {\r\n            const elemObj: any = {};\r\n            const name: string = 'name';\r\n            const label: string = 'label';\r\n            elemObj[name] = elem.value;\r\n            elemObj[label] = elem.label;\r\n            optionsArray.push(elemObj);\r\n          });\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...optionsArray })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            optionsArray\r\n          );\r\n        }\r\n\r\n        values = [...optionsArray];\r\n      } else {\r\n        values = [];\r\n        options = [];\r\n        if (fieldElement.children) {\r\n          fieldElement.children.map(elem =>\r\n            options.push({ label: elem.label, value: elem.name })\r\n          );\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...childrenArray })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            childrenArray\r\n          );\r\n        }\r\n        values = [...childrenArray];\r\n      }\r\n\r\n      const selectedValues: any[] = [];\r\n      if (fieldValue && fieldValue.length > 0) {\r\n        options.map(elem => {\r\n          for (const row of fieldValue) {\r\n            if (elem.value === row) {\r\n              selectedValues.push(elem.value);\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      let flagInline = false;\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        fieldElement.control.appearance.split(' ').forEach((tmpStyle: any) => {\r\n          if (!flagInline && tmpStyle === 'horizontal-compact') {\r\n            flagInline = true;\r\n          }\r\n        });\r\n      }\r\n\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        const seperatedValues: string[] = fieldValue.split(' ');\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          seperatedValues\r\n        );\r\n      }\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <div>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Form key=\"selectAll\">\r\n            {values.map((elem: any, index: any) => (\r\n              <FormGroup key={index} check={true} inline={flagInline}>\r\n                <Label check={true}>\r\n                  <Input\r\n                    key={fieldElement.name + '-' + index}\r\n                    type=\"checkbox\"\r\n                    name={fieldElement.name}\r\n                    value={elem.name || []}\r\n                    onChange={this.onChangeHandlerCheckBox}\r\n                    readOnly={isReadonly}\r\n                    checked={selectedValues.includes(elem.name) || calculatedValue.includes(elem.name)}\r\n                  />{' '}\r\n                  {getFieldLabelText(elem, defaultLanguage)}\r\n                </Label>\r\n              </FormGroup>\r\n            ))}\r\n          </Form>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </div>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n\r\n      if (this.props.optionList != null) {\r\n        this.props.assignOptionListActionCreator(\r\n          this.props.fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {any} event - the onchange event\r\n   */\r\n\r\n  private onChangeHandlerCheckBox = (event: any) => {\r\n    const { fieldValue, fieldElement, fieldParentTreeName } = this.props;\r\n    const fieldName = fieldParentTreeName + fieldElement.name;\r\n    if (event.target.checked) {\r\n      if (\r\n        fieldValue &&\r\n        fieldValue.length > 0 &&\r\n        !fieldValue.includes(event.target.value)\r\n      ) {\r\n        this.props.assignFieldValueActionCreator(fieldName, [\r\n          ...fieldValue,\r\n          event.target.value,\r\n        ]);\r\n      } else {\r\n        this.props.assignFieldValueActionCreator(fieldName, [\r\n          event.target.value,\r\n        ]);\r\n      }\r\n    } else {\r\n      if (\r\n        fieldValue &&\r\n        fieldValue.length > 0 &&\r\n        fieldValue.includes(event.target.value)\r\n      ) {\r\n        const newValue = fieldValue.filter(\r\n          (elm: any) => elm !== event.target.value\r\n        );\r\n\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldName,\r\n          newValue.length ? newValue : null\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique dropdown options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const finalRes: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n\r\n        let filterResult: any = [];\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n\r\n        let j = 0;\r\n        filterResult.map(() => {\r\n          options.map(option => {\r\n            if (option[nameOfKey] === filterResult[j]) {\r\n              finalRes.push(option);\r\n            }\r\n          });\r\n          j = j + 1;\r\n        });\r\n\r\n        i = i + 2;\r\n      }\r\n\r\n      options = [...Array.from(new Set(finalRes))];\r\n    }\r\n\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string[];\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne Radio component to the redux store */\r\nconst ConnectedSelectAllRadio = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectAllRadio);\r\n\r\nexport default ConnectedSelectAllRadio;\r\n","import * as React from 'react';\r\nimport { shouldComponentBeMinimal } from '../../../../../src/utils/helpers';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport Dropdown from './Dropdown';\r\nimport Radio from './Radio';\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectAllProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass SelectAll extends React.Component<SelectAllProps> {\r\n  public render() {\r\n    const { fieldElement } = this.props;\r\n    if (shouldComponentBeMinimal(fieldElement)) {\r\n      return <Dropdown {...this.props} />;\r\n    }\r\n    return <Radio {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default SelectAll;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Select from 'react-select';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectOneDropDownProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  optionList: object;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nconst customStyles = {\r\n  // For the select itself (not the options)\r\n  control: (styles: any, { isDisabled }: any) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isDisabled ? 'white' : 'white',\r\n    }\r\n    \r\n  },\r\n\r\n    // For the select itself (not the options)\r\n    container: (styles: any, { isDisabled }: any) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled ? 'white' : 'white',\r\n      }\r\n    },\r\n};\r\n\r\nclass SelectOneDropDown extends React.Component<SelectOneDropDownProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n      const options: Options[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        const updatedFieldElement: any = fieldElement.control.appearance\r\n          .toString()\r\n          .replace('minimal', '');\r\n        if (/search\\([^\\)|(]+\\)/i.test(updatedFieldElement)) {\r\n          const processedStringArray = updatedFieldElement.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        resultOptions.map(elem =>\r\n          options.push({ label: elem.label, value: elem.name })\r\n        );\r\n\r\n        this.setOptionList(resultOptions);\r\n      } else if (fieldElement.itemset) {\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              options.push({ label: childrenLabel, value: elem.name });\r\n            }\r\n          });\r\n          this.setOptionList(choices[fieldElement.itemset.trim()]);\r\n        }\r\n      } else {\r\n        if (fieldElement.children) {\r\n          fieldElement.children.map(elem => {\r\n            const childrenLabel: string = getFieldLabelText(\r\n              elem,\r\n              defaultLanguage\r\n            );\r\n            options.push({ label: childrenLabel, value: elem.name });\r\n          });\r\n\r\n          this.setOptionList(fieldElement.children);\r\n        }\r\n      }\r\n\r\n      if (fieldValue) {\r\n        const optionsValueArray: any = [];\r\n        options.map(elem => {\r\n          if (elem.value) {\r\n            optionsValueArray.push(elem.value);\r\n          }\r\n        });\r\n\r\n        if (!optionsValueArray.includes(fieldValue)) {\r\n          this.props.assignFieldValueActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            ''\r\n          );\r\n        }\r\n      }\r\n\r\n      let selectedValue: any;\r\n      options.map(elem => {\r\n        if (elem.value === fieldValue) {\r\n          selectedValue = elem;\r\n        }\r\n      });\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <div key={fieldElement.name} className=\"selectOneDropDown\">\r\n            <Select\r\n              styles={customStyles}\r\n              isDisabled={isReadonly}\r\n              multi={false}\r\n              name={fieldElement.name}\r\n              options={options}\r\n              value={selectedValue || calculatedValue || ''}\r\n              onChange={this.onChangeHandler(fieldElement.name)}\r\n            />\r\n          </div>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** Sets the option list to the Redux Store\r\n   * @param {any} optionObject - the option object to be processed\r\n   */\r\n  private setOptionList = (optionObject: any) => {\r\n    const tempObjArray: any = [];\r\n    optionObject.map((elem: { name: any; label: any }) => {\r\n      const elemObj: any = {};\r\n      const name: string = 'name';\r\n      const label: string = 'label';\r\n      elemObj[name] = elem.name;\r\n      elemObj[label] = elem.label;\r\n      tempObjArray.push(elemObj);\r\n    });\r\n\r\n    if (!_.isEqual(this.props.optionList, { ...tempObjArray })) {\r\n      this.props.assignOptionListActionCreator(\r\n        this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n        tempObjArray\r\n      );\r\n    }\r\n  };\r\n\r\n  /** sets the value of field element in store\r\n   * @param {any} event - the onchange input event\r\n   * @param {any} fieldName - the input name\r\n   */\r\n  private onChangeHandler = (fieldName: any) => (event: any) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + fieldName,\r\n      event.value || ''\r\n    );\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique dropdown options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n        let filterResult: any = '';\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n        options = options.filter(option => option[nameOfKey] === filterResult);\r\n        i = i + 2;\r\n      }\r\n    }\r\n\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne component to the redux store */\r\nconst ConnectedSelectOneDropDown = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectOneDropDown);\r\n\r\nexport default ConnectedSelectOneDropDown;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectOneRadioProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  optionList: object;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nclass SelectOneRadio extends React.Component<SelectOneRadioProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        if (/search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)) {\r\n          const processedStringArray = fieldElement.control.appearance.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      const childrenArray: any = [];\r\n      if (fieldElement.children) {\r\n        fieldElement.children.map(elem => {\r\n          const elemObj: any = {};\r\n          const name: string = 'name';\r\n          const label: string = 'label';\r\n          elemObj[name] = elem.name;\r\n          elemObj[label] = elem.label;\r\n          childrenArray.push(elemObj);\r\n        });\r\n      }\r\n\r\n      let values: any = [];\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        values = [];\r\n        if (fieldValue) {\r\n          const optionsValueArray: any = [];\r\n          resultOptions.map(elem => {\r\n            if (elem.name) {\r\n              optionsValueArray.push(elem.name);\r\n            }\r\n          });\r\n\r\n          if (!optionsValueArray.includes(fieldValue)) {\r\n            this.props.assignFieldValueActionCreator(\r\n              this.props.fieldParentTreeName + fieldElement.name,\r\n              ''\r\n            );\r\n          }\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...resultOptions })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            resultOptions\r\n          );\r\n        }\r\n        values = [...resultOptions];\r\n      } else if (fieldElement.itemset) {\r\n        const choiceOptions: any = [];\r\n        values = [];\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              choiceOptions.push({ label: childrenLabel, name: elem.name });\r\n            }\r\n          });\r\n\r\n          if (fieldValue) {\r\n            const optionsValueArray: any = [];\r\n            choiceOptions.map((elem: any) => {\r\n              if (elem.name) {\r\n                optionsValueArray.push(elem.name);\r\n              }\r\n            });\r\n            if (!optionsValueArray.includes(fieldValue)) {\r\n              this.props.assignFieldValueActionCreator(\r\n                this.props.fieldParentTreeName + fieldElement.name,\r\n                ''\r\n              );\r\n            }\r\n          }\r\n          if (!_.isEqual(this.props.optionList, { ...choiceOptions })) {\r\n            this.props.assignOptionListActionCreator(\r\n              this.props.fieldParentTreeName + fieldElement.name,\r\n              choiceOptions\r\n            );\r\n          }\r\n          values = [...choiceOptions];\r\n        }\r\n      } else {\r\n        values = [];\r\n        if (!_.isEqual(this.props.optionList, { ...childrenArray })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            childrenArray\r\n          );\r\n        }\r\n        values = [...childrenArray];\r\n      }\r\n\r\n      let flagInline = false;\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        fieldElement.control.appearance.split(' ').forEach((tmpStyle: any) => {\r\n          if (!flagInline && tmpStyle === 'horizontal-compact') {\r\n            flagInline = true;\r\n          }\r\n        });\r\n      }\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <div>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Form key=\"selectOne\">\r\n            {values.map((elem: any, index: any) => (\r\n              <FormGroup key={index} check={true} inline={flagInline}>\r\n                <Label check={true}>\r\n                  <Input\r\n                    key={fieldElement.name + '-' + index}\r\n                    type=\"radio\"\r\n                    name={fieldElement.name}\r\n                    value={elem.name}\r\n                    onChange={this.onChangeHandlerRadio(fieldElement.name)}\r\n                    readOnly={isReadonly}\r\n                    checked={elem.name === fieldValue || elem.name === calculatedValue}\r\n                  />{' '}\r\n                  {getFieldLabelText(elem, defaultLanguage)}\r\n                </Label>\r\n              </FormGroup>\r\n            ))}\r\n          </Form>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </div>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n  /** sets the value of Radio Button field element in store\r\n   * @param {any} event - the onchange input event\r\n   * @param {any} fieldName - the input name\r\n   */\r\n  private onChangeHandlerRadio = (fieldName: any) => (event: any) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + fieldName,\r\n      event.target.value || ''\r\n    );\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique radio button options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n        let filterResult: any = '';\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n        options = options.filter(option => option[nameOfKey] === filterResult);\r\n        i = i + 2;\r\n      }\r\n    }\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne Radio component to the redux store */\r\nconst ConnectedSelectOneRadio = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectOneRadio);\r\n\r\nexport default ConnectedSelectOneRadio;\r\n","import * as React from 'react';\r\nimport { shouldComponentBeMinimal } from '../../../../../src/utils/helpers';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport Dropdown from './Dropdown';\r\nimport Radio from './Radio';\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectOneProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass SelectOne extends React.Component<SelectOneProps> {\r\n  public render() {\r\n    const { fieldElement } = this.props;\r\n    if (shouldComponentBeMinimal(fieldElement)) {\r\n      return <Dropdown {...this.props} />;\r\n    }\r\n    return <Radio {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default SelectOne;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the text component */\r\nexport interface TextProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isPresentInErrorSelector: any;\r\n  isComponentRender: boolean;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface TextState {\r\n  fieldValue: string;\r\n  isFocused: boolean;\r\n}\r\n\r\nclass Text extends React.Component<TextProps, TextState> {\r\n  constructor(props: TextProps) {\r\n    super(props);\r\n    this.state = { fieldValue: '', isFocused: false };\r\n  }\r\n\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        let calculatedValue: any = '';\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n\r\n        if (calculatedValue && calculatedValue !== fieldValue) {\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            calculatedValue\r\n          );\r\n        }\r\n\r\n        return (\r\n          <FormGroup>\r\n            <Label>\r\n              {modifiedFieldLabel}{' '}\r\n              {isRequired && (\r\n                <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n              )}\r\n            </Label>\r\n            <Input\r\n              type=\"text\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              onBlur={this.onBlurHandler}\r\n              value={\r\n                this.state.isFocused\r\n                  ? this.state.fieldValue || ''\r\n                  : calculatedValue || ''\r\n              }\r\n              readOnly={isReadonly}\r\n            />\r\n            {isFormSubmitted && isError && (\r\n              <FontAwesomeIcon\r\n                icon=\"exclamation-circle\"\r\n                className=\"errorSign\"\r\n              />\r\n            )}\r\n            {fieldElement.hint && (\r\n              <Label className=\"hintText\">{hintLabel}</Label>\r\n            )}\r\n            {isFormSubmitted && isRequiredViolated && (\r\n              <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n            )}\r\n            {isConstraintViolated && (\r\n              <Label className=\"constraintText\">\r\n                {modifiedConstraintLabel}\r\n              </Label>\r\n            )}\r\n          </FormGroup>\r\n        );\r\n      } else {\r\n        return (\r\n          <FormGroup>\r\n            <Label>\r\n              {modifiedFieldLabel}{' '}\r\n              {isRequired && (\r\n                <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n              )}\r\n            </Label>\r\n            <Input\r\n              type=\"text\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              onBlur={this.onBlurHandler}\r\n              value={\r\n                this.state.isFocused\r\n                  ? this.state.fieldValue || ''\r\n                  : fieldValue || ''\r\n              }\r\n              readOnly={isReadonly}\r\n            />\r\n            {isFormSubmitted && isError && (\r\n              <FontAwesomeIcon\r\n                icon=\"exclamation-circle\"\r\n                className=\"errorSign\"\r\n              />\r\n            )}\r\n            {fieldElement.hint && (\r\n              <Label className=\"hintText\">{hintLabel}</Label>\r\n            )}\r\n            {isFormSubmitted && isRequiredViolated && (\r\n              <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n            )}\r\n            {isConstraintViolated && (\r\n              <Label className=\"constraintText\">\r\n                {modifiedConstraintLabel}\r\n              </Label>\r\n            )}\r\n          </FormGroup>\r\n        );\r\n      }\r\n    } else {\r\n      if (this.state.isFocused) {\r\n        this.setState({ ...this.state, isFocused: false });\r\n      }\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: true,\r\n    });\r\n  };\r\n\r\n  private onBlurHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: false,\r\n    });\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value || ''\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Text component to the redux store */\r\nconst ConnectedText = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Text);\r\n\r\nexport default ConnectedText;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the KbTime component */\r\nexport interface TimeProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass KbTime extends React.Component<TimeProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"time\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            value={fieldValue || calculatedValue || ''}\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== '' ? event.currentTarget.value : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect KbTime component to the redux store */\r\nconst ConnectedTime = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(KbTime);\r\n\r\nexport default ConnectedTime;\r\n","import * as React from 'react';\r\nimport {\r\n  CALCULATE_FIELD_TYPE,\r\n  DATE_FIELD_TYPE,\r\n  DATE_TIME_FIELD_TYPE,\r\n  DECIMAL_FIELD_TYPE,\r\n  FILE_FIELD_TYPE,\r\n  INTEGER_FIELD_TYPE,\r\n  NOTE_FIELD_TYPE,\r\n  PHOTO_FIELD_TYPE,\r\n  SELECT_ALL_FIELD_TYPE,\r\n  SELECT_ONE_FIELD_TYPE,\r\n  TEXT_FIELD_TYPE,\r\n  TIME_FIELD_TYPE,\r\n} from '../../../constants';\r\nimport Calculate from '../../../containers/fields/base/Calculate';\r\nimport KbDate from '../../../containers/fields/base/Date';\r\nimport DateTime from '../../../containers/fields/base/Date Time';\r\nimport Decimal from '../../../containers/fields/base/Decimal';\r\nimport File from '../../../containers/fields/base/File';\r\nimport Integer from '../../../containers/fields/base/Integer';\r\nimport Note from '../../../containers/fields/base/Note';\r\nimport SelectAll from '../../../containers/fields/base/Select All';\r\nimport SelectOne from '../../../containers/fields/base/Select One';\r\nimport Text from '../../../containers/fields/base/Text';\r\nimport KbTime from '../../../containers/fields/base/Time';\r\n\r\n/** type of fieldParentTreeName */\r\nexport type FieldParentTreeName = string;\r\n\r\n/** interface for bind property */\r\ninterface BindProperty {\r\n  calculate?: string;\r\n  relevant?: string;\r\n  readonly?: string;\r\n  appearance?: string;\r\n  required?: string;\r\n  constraint?: string;\r\n  'jr:constraintMsg'?: { [key: string]: string } | string;\r\n}\r\n\r\n/** interface for kobo field element */\r\nexport interface FieldElement {\r\n  name: string;\r\n  type: string;\r\n  children?: any[];\r\n  bind?: BindProperty;\r\n  label?: { [key: string]: string } | string;\r\n  default?: any;\r\n  control?: any;\r\n  hint?: any;\r\n  itemset?: string;\r\n  choice_filter?: string;\r\n}\r\n\r\n/** props interface for BaseTypeEvaluator component */\r\nexport interface BaseTypeEvaluatorProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\nclass BaseTypeEvaluator extends React.Component<BaseTypeEvaluatorProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    return this.typeEvaluator(\r\n      choices,\r\n      csvList,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage\r\n    );\r\n  }\r\n\r\n  /** returns jsx components based on field types\r\n   * @param {any} choices - the choices of form definition\r\n   * @param {FieldElement} fieldElement - the field element object\r\n   * @param {FieldParentTreeName} fieldParentTreeName - the field parent hierchical name\r\n   * @return {React.ReactElement} - jsx base components\r\n   */\r\n  private typeEvaluator(\r\n    choices: any,\r\n    csvList: any,\r\n    fieldElement: FieldElement,\r\n    fieldParentTreeName: FieldParentTreeName,\r\n    defaultLanguage: string\r\n  ): React.ReactElement {\r\n    switch (fieldElement.type) {\r\n      case TEXT_FIELD_TYPE:\r\n        return (\r\n          <Text\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case DATE_FIELD_TYPE:\r\n        return (\r\n          <KbDate\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case TIME_FIELD_TYPE:\r\n        return (\r\n          <KbTime\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case DATE_TIME_FIELD_TYPE:\r\n        return (\r\n          <DateTime\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case INTEGER_FIELD_TYPE:\r\n        return (\r\n          <Integer\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case DECIMAL_FIELD_TYPE:\r\n        return (\r\n          <Decimal\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case NOTE_FIELD_TYPE:\r\n        return (\r\n          <Note\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case CALCULATE_FIELD_TYPE:\r\n        return (\r\n          <Calculate\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case SELECT_ONE_FIELD_TYPE:\r\n        return (\r\n          <SelectOne\r\n            choices={choices}\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n          />\r\n        );\r\n      case SELECT_ALL_FIELD_TYPE:\r\n        return (\r\n          <SelectAll\r\n            choices={choices}\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n          />\r\n        );\r\n      case PHOTO_FIELD_TYPE:\r\n        return (\r\n          <File\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case FILE_FIELD_TYPE:\r\n        return (\r\n          <File\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <div style={{ display: 'none' }}>\r\n            Other {fieldElement.type} {fieldElement.name}\r\n          </div>\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nexport default BaseTypeEvaluator;\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport { CALCULATE_FIELD_TYPE, GROUP_FIELD_TYPE, REPEAT_FIELD_TYPE } from '../../../constants';\r\nimport Group from '../../../containers/fields/group/Group';\r\nimport Repeat from '../../../containers/fields/group/Repeat';\r\nimport { getEvaluatedExpression } from '../../../store/ducks/formState';\r\nimport { shouldComponentBeRelevant } from '../../../utils/helpers';\r\nimport BaseTypeEvaluator, { FieldElement, FieldParentTreeName } from '../Base';\r\n\r\n/** props Interface for the GroupTypeEvaluator component */\r\nexport interface GroupTypeEvaluatorProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElements: FieldElement[];\r\n  fieldParentTreeName: string;\r\n  isAppearanceApplicable: boolean;\r\n  getEvaluatedExpressionSelector: any;\r\n}\r\n\r\nclass GroupTypeEvaluator extends React.Component<GroupTypeEvaluatorProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldElements,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n      isAppearanceApplicable,\r\n    } = this.props;\r\n    return (\r\n      <Row className=\"groupTypeEvaluatorRow\">\r\n        {fieldElements.map((fieldElement) => {\r\n          const value: number = this.getAppearanceValue(\r\n            fieldElement,\r\n            fieldParentTreeName,\r\n            isAppearanceApplicable,\r\n          );\r\n          return (\r\n            <Col\r\n              key={`group_${fieldElement.name}`}\r\n              className={ value === 0 || fieldElement.type === CALCULATE_FIELD_TYPE ? \"groupTypeEvaluator hideDiv\" : \"groupTypeEvaluator\"}\r\n              md={value}\r\n              // hidden={value === 0}\r\n            >\r\n              {this.typeEvaluator(\r\n                choices,\r\n                csvList,\r\n                fieldElement,\r\n                fieldParentTreeName,\r\n                defaultLanguage,\r\n              )}\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  /** returns jsx components based on field types\r\n   * @param {any} choices - the form choices\r\n   * @param {FieldElement} fieldElement - the field element object\r\n   * @param {FieldParentTreeName} - the field parent hierarchical name\r\n   * @return {React.ReactElement} - jsx group components/ base evaluator component\r\n   */\r\n  private typeEvaluator(\r\n    choices: any,\r\n    csvList: any,\r\n    fieldElement: FieldElement,\r\n    fieldParentTreeName: FieldParentTreeName,\r\n    defaultLanguage: string,\r\n  ): React.ReactElement {\r\n    switch (fieldElement.type) {\r\n      case GROUP_FIELD_TYPE:\r\n        return (\r\n          <div>\r\n            <Group\r\n              choices={choices}\r\n              fieldElement={fieldElement}\r\n              fieldParentTreeName={fieldParentTreeName}\r\n              defaultLanguage={defaultLanguage}\r\n              csvList={csvList}\r\n            />\r\n          </div>\r\n        );\r\n      case REPEAT_FIELD_TYPE:\r\n        return (\r\n          <div>\r\n            <Repeat\r\n              choices={choices}\r\n              fieldElement={fieldElement}\r\n              fieldParentTreeName={fieldParentTreeName}\r\n              defaultLanguage={defaultLanguage}\r\n              csvList={csvList}\r\n            />\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <BaseTypeEvaluator\r\n            choices={choices}\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n          />\r\n        );\r\n    }\r\n  }\r\n\r\n  private getAppearanceValue = (\r\n    fieldElement: FieldElement,\r\n    fieldParentTreeName: string,\r\n    isAppearanceApplicable: boolean,\r\n  ): number => {\r\n    const isRender: boolean = shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      this.props.getEvaluatedExpressionSelector,\r\n    );\r\n\r\n    if (!isRender) {\r\n      return 0;\r\n    } if (\r\n      isRender\r\n      && isAppearanceApplicable\r\n      && fieldElement.control\r\n      && fieldElement.control.appearance\r\n    ) {\r\n      if (/^w(\\d+)\\b/i.test(fieldElement.control.appearance)) {\r\n        const processedStringArray = fieldElement.control.appearance.match(\r\n          /^w(\\d+)\\b/i,\r\n        );\r\n        const processedString = processedStringArray[0].replace('w', '');\r\n        const result = isNaN(processedString)\r\n          ? 12\r\n          : parseInt(processedString, 10);\r\n        return result;\r\n      }\r\n    }\r\n    return 12;\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  getEvaluatedExpressionSelector: any;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (state: Partial<Store>): DispatchedStateProps => {\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n\r\n  const result = {\r\n    getEvaluatedExpressionSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** connect GroupTypeEvaluator component to the redux store */\r\nconst ConnectedGroupTypeEvaluator = connect(mapStateToProps)(\r\n  GroupTypeEvaluator,\r\n);\r\n\r\nexport default ConnectedGroupTypeEvaluator;\r\n","import { library } from '@fortawesome/fontawesome-svg-core';\r\nimport {\r\n  faExclamationCircle,\r\n  faMinusCircle,\r\n  faPlusCircle,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Col, Container, Row } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport KbAlert from '../components/Alert';\r\nimport DropDown from '../components/DropDown';\r\nimport GroupTypeEvaluator from '../components/typeEvalutors/Group';\r\nimport {\r\n  getAllFileObjects,\r\n  getCSVFromStore,\r\n  getUserInputFromStore,\r\n  isErrorsArrayEmpty,\r\n  resetStoreAction,\r\n  setCSVObj,\r\n  setFormSubmitStatus,\r\n  setUserInputObj,\r\n  setUserLanguage,\r\n} from '../store/ducks/formState';\r\n\r\nlibrary.add(faPlusCircle, faMinusCircle, faExclamationCircle);\r\n\r\nexport interface AppProps {\r\n  choices: any;\r\n  csvList: any;\r\n  csvObj: any;\r\n  isNoErrors: any;\r\n  userInputObj: any;\r\n  userInputJson: any;\r\n  defaultLanguage: string;\r\n  formTitle: string;\r\n  fieldElements: any;\r\n  setUserInputAction: typeof setUserInputObj;\r\n  setCSVAction: typeof setCSVObj;\r\n  setUserLanguageAction: typeof setUserLanguage;\r\n  languageOptions: any;\r\n  setFormSubmitStatusAction: typeof setFormSubmitStatus;\r\n  resetStoreActionCreator: typeof resetStoreAction;\r\n  mediaList: any;\r\n  handleSubmit(userInput: any, mediaList: any): any;\r\n}\r\n\r\nexport interface AppState {\r\n  defaultLanguage: string;\r\n  isSubmissionError: boolean;\r\n}\r\n\r\nclass App extends React.Component<AppProps, AppState> {\r\n  constructor(props: AppProps) {\r\n    super(props);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    const { userInputJson, userInputObj, csvList, csvObj } = this.props;\r\n    this.props.resetStoreActionCreator();\r\n    if (userInputJson && userInputJson !== userInputObj) {\r\n      this.props.setUserInputAction(userInputJson);\r\n    }\r\n    if (csvList && csvList !== csvObj) {\r\n      this.props.setCSVAction(csvList);\r\n    }\r\n    this.props.setUserLanguageAction(this.props.defaultLanguage);\r\n    this.setState({\r\n      defaultLanguage: this.props.defaultLanguage,\r\n      isSubmissionError: false,\r\n    });\r\n  }\r\n\r\n  public handleSelect = (languageName: string) => {\r\n    this.setState({ defaultLanguage: languageName });\r\n    this.props.setUserLanguageAction(this.props.defaultLanguage);\r\n  };\r\n\r\n  public render() {\r\n    const {\r\n      csvList,\r\n      fieldElements,\r\n      formTitle,\r\n      languageOptions,\r\n      choices,\r\n    } = this.props;\r\n    const { defaultLanguage } = this.state || this.props;\r\n\r\n    const props = {\r\n      choices,\r\n      csvList,\r\n      defaultLanguage,\r\n      fieldElements,\r\n      fieldParentTreeName: '',\r\n      isAppearanceApplicable: false,\r\n      languageOptions,\r\n    };\r\n\r\n    return (\r\n      <Container className=\"form-container\">\r\n        <Row className={'form-title formTitle'}>\r\n          <Col>\r\n            <h3 className=\"headerText\">{formTitle}</h3>\r\n          </Col>\r\n          <DropDown\r\n            languages={...languageOptions}\r\n            onChangeSelect={this.handleSelect}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        </Row>\r\n        {this.state && this.state.isSubmissionError && (\r\n          <KbAlert\r\n            color={'danger'}\r\n            isOpen={this.state.isSubmissionError}\r\n            handleToggle={this.toggleStateValue}\r\n            headerText={'Oh snap! You got an error!'}\r\n            bodyText={\r\n              'Please make sure the required fields are not missing and there are no errors'\r\n            }\r\n          />\r\n        )}\r\n        <Row>\r\n          <Col style={{ padding: 0}}>\r\n            <GroupTypeEvaluator {...props} />\r\n            <Row className=\"welcome-box\" style={{ padding: 10 }}>\r\n              <Col>\r\n                <Button className=\"btn btn-success\" onClick={this.handleClick}>\r\n                  Submit\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  private handleClick = (_event: React.MouseEvent<HTMLButtonElement>) => {\r\n    const { handleSubmit, isNoErrors, userInputObj, mediaList } = this.props;\r\n    if (isNoErrors) {\r\n      this.setState({ isSubmissionError: false });\r\n      handleSubmit(userInputObj, mediaList);\r\n    } else {\r\n      handleSubmit('Field Violated', mediaList);\r\n      this.setState({ isSubmissionError: true });\r\n      this.props.setFormSubmitStatusAction(true);\r\n      window.scrollTo(0, 0);\r\n    }\r\n  };\r\n\r\n  private toggleStateValue = () => {\r\n    this.setState({ isSubmissionError: false });\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  isNoErrors: any;\r\n  userInputObj: any;\r\n  mediaList: any;\r\n  csvObj: any;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (state: Partial<Store>): DispatchedStateProps => {\r\n  const result = {\r\n    isNoErrors: isErrorsArrayEmpty(state),\r\n    mediaList: getAllFileObjects(state),\r\n    userInputObj: getUserInputFromStore(state),\r\n    csvObj: getCSVFromStore(state),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  resetStoreActionCreator: resetStoreAction,\r\n  setFormSubmitStatusAction: setFormSubmitStatus,\r\n  setUserInputAction: setUserInputObj,\r\n  setUserLanguageAction: setUserLanguage,\r\n  setCSVAction: setCSVObj,\r\n};\r\n\r\n/** connect Decimal component to the redux store */\r\nconst ConnectedApp = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n\r\nexport default ConnectedApp;\r\n","import { MuiThemeProvider } from '@material-ui/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport * as React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { theme } from './utils/Theme';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nexport interface OdkFormRendererProps {\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  formDefinitionJson: any;\r\n  languageOptions: any;\r\n  userInputJson: any;\r\n  handleSubmit: (userInput: any, mediaList: any) => any;\r\n}\r\n\r\nclass OdkFormRenderer extends React.Component<OdkFormRendererProps> {\r\n  public render() {\r\n    const {\r\n      csvList,\r\n      defaultLanguage,\r\n      formDefinitionJson,\r\n      userInputJson,\r\n      languageOptions,\r\n      handleSubmit,\r\n    } = this.props;\r\n    const props = {\r\n      choices: formDefinitionJson.choices || {},\r\n      csvList,\r\n      defaultLanguage,\r\n      fieldElements: formDefinitionJson.children,\r\n      formTitle: formDefinitionJson.title,\r\n      handleSubmit,\r\n      languageOptions,\r\n      userInputJson,\r\n    };\r\n    return (\r\n      <Provider store={store}>\r\n        <MuiThemeProvider theme={theme}>\r\n        <App {...props} />\r\n      </MuiThemeProvider>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OdkFormRenderer;\r\n"],"names":["theme","createMuiTheme","palette","primary","main","dark","secondary","light","info","text","disabled","hint","typography","h1","fontWeight","fontSize","h2","h3","h4","body1","fontFamily","caption","subtitle1","subtitle2","overrides","MuiPaper","root","color","KbAlert","render","props","headerText","bodyText","handleToggle","isOpen","React","Alert","toggle","className","DropDown","event","onChangeSelect","value","options","languageOptions","languages","map","elem","push","label","selectedValue","defaultLanguage","Select","multi","placeholder","onChange","onChangeHandler","GROUP_FIELD_TYPE","REPEAT_FIELD_TYPE","TEXT_FIELD_TYPE","DATE_FIELD_TYPE","DATE_TIME_FIELD_TYPE","TIME_FIELD_TYPE","INTEGER_FIELD_TYPE","DECIMAL_FIELD_TYPE","PHOTO_FIELD_TYPE","FILE_FIELD_TYPE","NOTE_FIELD_TYPE","SELECT_ONE_FIELD_TYPE","SELECT_ALL_FIELD_TYPE","CALCULATE_FIELD_TYPE","REQUIRED_FIELD_MSG","REQUIRED_SYMBOL","store","createStore","reducer","composeWithDevTools","actualExpression","currentHierarchicalName","formItemProperty","userInput","tokenizeCharacter","type","input","current","tokenizeParenOpen","tokenizeBrakeOpen","tokenizeBrakeClose","tokenizeParenClose","tokenizeEqual","tokenizePlus","tokenizeMinus","tokenizeMultiply","tokenizeDivide","tokenizeLessThan","tokenizeGreaterThan","tokenizeNot","tokenizeComma","tokenizeDot","tokenizePattern","pattern","char","consumedChars","test","tokenizeString","matchQuote","undefined","TypeError","tokenizeFunction","tokenizeNumber","tokenizeDecimal","tokenizeVariable","tokenizeOr","tokenizeIf","tokenizeAnd","tokenizeDiv","tokenizeName","skipWhiteSpace","tokenizers","tokenizer","tokens","tokenized","forEach","tokenizerFn","token","length","kbSelected","funcName","params","_paramsTokens","tmp","Array","isArray","element","kbChoice","tmpHierchicalName","split","i","parent","state","getState","variableName","replace","optionList","key","name","language","kbPullData","csv","csvList","item","find","obj","console","log","kbToday","_params","d","Date","setHours","kbFormatDate","format","moment","kbRound","toFixed","parseFloat","kbRegex","regex","RegExp","kbCountSelected","kbInt","parseInt","kbCoalesce","kbPosition","tmpName","sumValuesOverJsn","sum","jsnObj","kbSum","paramsTokens","sumValue","kbConcat","concatStr","kbSubstr","subStr","substring","outerScopedVariables","variableValue","tmpUserInput","nodeNames","variableNameFromKey","parseMostClosestScopedVariable","index","parseDot","path","getIn","parseLiterals","_tmpOutput","toLowerCase","parseFunction","_output","possibleFunctions","arrayOfParams","arrayOfOriginalTokens","tmpQueue","tmpTokens","pop","tmpVal","parser","parsedFn","parsedVal","functionFn","parseIf","j","parseNot","output","terminatingTokens","indexOf","newOutput","parsed","possibleParsers","parseMinus","parseParen","consumedTokens","parserFn","parseAnd","parseOr","parseEqual","parseLessThan","flagLessThanOrEqual","parseGreaterThan","flagGreaterThanOrEqual","parseDivide","possibleTokens","ct","precedentParsers","parseMultiply","preParsed","preOutput","preParseFn","parsePlus","Object","prototype","toString","call","isNaN","getTime","Math","ceil","NaN","parsers","leftOutput","pos","evaluater","expression","tmpFormItemProperty","tmpCurrentHierarchicalName","getTextFromProperty","property","languageIdentifier","getFieldLabelText","fieldElement","getHintLabelText","customizeLabelsWithPreviousInputs","evaluator","labelText","fieldTreeName","placesOfCustomizationsRequiredList","match","tmpPlace","customizedName","matchList","getConstraintLabelText","bind","requiredEvaluator","isInputRequired","isRequired","required","shouldComponentBeRelevant","fieldParentTreeName","evaluateExpression","relevant","isRelevant","shouldComponentBeReadOnly","readonly","isReadOnly","shouldInputViolatesConstraint","constraint","isConstraintViolated","getModifiedUserInputObject","userInputObj","fieldValue","treeNodes","modifiedObj","getModifiedOptionListForRepeat","repeatIndex","filteredRepeatArray","optionListobj","entries","keyNameOptionListobj","keyValueOptionListobj","repeatIndexString","String","keyRepeat","keyNameRepeatObject","keyValueRepeatValue","getValueFromUserInputObj","shouldComponentBeMinimal","isMinimal","control","appearance","includes","emptyGroupedValues","groupTreeName","keys","objKey","startsWith","checkGroupedValuesForEmpty","isEmpty","FIELD_VALUE_ASSIGNED","OPTION_LIST_ASSIGNED","MEDIA_LIST_ADDED","REMOVE_FROM_MEDIA_LIST","REMOVE_FROM_OPTION_LIST_REPEAT","RESET_STORE","ADD_ERROR_INPUT_ID","REMOVE_ERROR_INPUT_ID","EMPTY_GROUP_FIELDS","REMOVE_GROUP_FIELDS_FROM_ERRORS","SET_USER_INPUT_OBJ","SET_CSV_OBJ","SET_FORM_SUBMIT_STATUS","SET_LANGUAGE","assignFieldValueAction","assignOptionListAction","RemoveFromOptionList","addMediaListAction","mediaObject","resetStoreAction","addErrorInputId","removeErrorInputId","emptyGroupFields","removeGroupFieldsFromErrors","setUserInputObj","setCSVObj","csvObj","setUserLanguage","setFormSubmitStatus","isFormSubmitted","initialState","SeamlessImmutable","errors","mediaList","action","modifiedUserInputObj","asMutable","deep","stateM","modifiedUserInputObjList","newState","hasOwnProperty","modifiedOptionListRepeat","newStateForRepeat","modifiedMediaList","newMediaState","updateIn","arr","concat","filter","elm","mUserInputObj","mState","getFieldValue","getOptionList","getEvaluatedExpression","getEvaluatedExpressionForSelect","isPresentInError","isGroupFieldsEmpty","isErrorsIncludeGroupFields","isPresent","fTName","isErrorsArrayEmpty","getUserInputFromStore","getCSVFromStore","getFormSubmitStatus","getFileObject","fileName","fileObject","getAllFileObjects","GroupStyle","createStyles","borderTop","backgroundColor","backgroundProp","display","insideBackground","borderProp","boxShadow","marginTop","marginBottom","padding","toolbarIcon","alignItems","justifyContent","mixins","toolbar","drawerPaperClose","overflowX","transition","transitions","create","easing","sharp","duration","leavingScreen","width","spacing","breakpoints","up","background","paper","overflow","flexDirection","listItem","marginLeft","marginRight","borderRadius","listItemIcon","listItemActive","nested","paddingLeft","navlogo","margin","listParent","common","white","drawerClose","drawerOpen","overflowY","enteringScreen","Group","choices","isComponentRender","fieldLabel","isAppearanceApplicable","useTheme","useStyles","makeStyles","classNames","bodyless","Accordion","defaultExpanded","style","AccordionSummary","expandIcon","ExpandMoreIcon","Typography","AccordionDetails","FormGroup","children","GroupTypeEvaluator","fieldElements","isErrorsIncludeGroupFieldsSelector","removeGroupFieldsFromErrorsActionCreator","isGroupFieldsEmptySelector","emptyGroupFieldsActionCreator","mapStateToProps","parentProps","getEvaluatedExpressionSelector","result","mapDispatchToProps","ConnectedGroup","connect","SingleRepeat","_event","assignmentHandler","removeHandler","removeOptionHandler","newFieldValue","_elem","unControlFlag","onClick","handleChange","FontAwesomeIcon","icon","Component","ControlledRepeat","assignFieldValueActionCreator","removeOptionListFromActionCreator","Label","_elm","addAnotherRepeat","ConnectedControlledRepeat","UncontrolledRepeat","noOfJrCount","jrCount","res","removeFromError","_","size","assignOptionListActionCreator","iterate","slice","ConnectedUncontrolledRepeat","Repeat","Calculate","isPresentInErrorSelector","isRequiredViolated","isReadonly","addErrorInputIdActionCreator","removeErrorInputIdActionCreator","calculatedValue","calculate","Input","readOnly","ConnectedCalculate","KbDate","currentTarget","getFormSubmitStatusSelector","modifiedFieldLabel","constraintLabel","modifiedConstraintLabel","hintLabel","defaultValue","modifiedDate","toISOString","isError","ConnectedDate","DateTime","timeZoneOffset","getTimezoneOffset","getHours","DatePicker","selected","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","placeholderText","ConnectedDateTime","Decimal","setState","isFocused","modifiedValue","step","onBlur","onBlurHandler","ConnectedDecimal","FilePreview","fieldName","Button","ConnectedFilePreview","File","target","files","addMediaListActionCreator","accept","ConnectedFile","Integer","ConnectedInteger","Note","fieldHint","FormText","ConnectedNote","customStyles","styles","isDisabled","container","SelectAllDropDown","optionObject","tempObjArray","elemObj","isEqual","values","selectedValues","stringWithSearchKeyWord","processedStringArray","resultArray","criteriaParams","splice","extractAndFilterOptions","csvName","criteriaType","filterCriterias","trim","distinctOptions","finalRes","modifiedName","nameOfKey","interConnectedValue","tempOptions","filterResult","getEvaluatedExpressionSelectorForSelect","option","from","Set","labelColumnName","valueColumnName","tmpOpt","uniqBy","resultOptions","updatedFieldElement","getProcessedString","setOptionList","itemset","choice_filter","childrenLabel","optionsArray","tmpValueArray","isNotIncluded","optionsValueArray","row","seperatedValues","isMulti","ConnectedSelectAllDropDown","SelectAllRadio","checked","newValue","childrenArray","flagInline","tmpStyle","Form","check","inline","onChangeHandlerCheckBox","ConnectedSelectAllRadio","SelectAll","Dropdown","Radio","SelectOneDropDown","ConnectedSelectOneDropDown","SelectOneRadio","choiceOptions","onChangeHandlerRadio","ConnectedSelectOneRadio","SelectOne","Text","ConnectedText","KbTime","ConnectedTime","BaseTypeEvaluator","typeEvaluator","isRender","processedString","Row","getAppearanceValue","Col","md","ConnectedGroupTypeEvaluator","library","add","faPlusCircle","faMinusCircle","faExclamationCircle","App","languageName","setUserLanguageAction","handleSubmit","isNoErrors","isSubmissionError","setFormSubmitStatusAction","window","scrollTo","componentDidMount","userInputJson","resetStoreActionCreator","setUserInputAction","setCSVAction","formTitle","Container","handleSelect","toggleStateValue","handleClick","ConnectedApp","OdkFormRenderer","formDefinitionJson","title","Provider","MuiThemeProvider"],"mappings":"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"}