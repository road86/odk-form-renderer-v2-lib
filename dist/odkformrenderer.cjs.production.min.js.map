{"version":3,"file":"odkformrenderer.cjs.production.min.js","sources":["../src/utils/Theme.ts","../src/utils/compiler.ts","../src/components/Alert/index.tsx","../src/components/DropDown/index.tsx","../src/constants.tsx","../src/store/index.tsx","../src/utils/helpers.ts","../src/store/ducks/formState.ts","../src/containers/fields/group/Group/styles.ts","../src/containers/fields/group/Group/index.tsx","../src/containers/fields/group/Repeat/Single Repeat/index.tsx","../src/containers/fields/group/Repeat/Controlled Repeat/index.tsx","../src/containers/fields/group/Repeat/Uncontrolled Repeat/index.tsx","../src/containers/fields/group/Repeat/index.tsx","../src/containers/fields/base/Calculate/index.tsx","../src/containers/fields/base/Date/index.tsx","../src/containers/fields/base/Date Time/index.tsx","../src/containers/fields/base/Decimal/index.tsx","../src/containers/fields/base/File/FilePreview/FilePreview.tsx","../src/containers/fields/base/File/index.tsx","../src/containers/fields/base/Integer/index.tsx","../src/containers/fields/base/Note/index.tsx","../src/containers/fields/base/Select All/Dropdown/index.tsx","../src/containers/fields/base/Select All/Radio/index.tsx","../src/containers/fields/base/Select All/index.tsx","../src/containers/fields/base/Select One/Dropdown/index.tsx","../src/containers/fields/base/Select One/Radio/index.tsx","../src/containers/fields/base/Select One/index.tsx","../src/containers/fields/base/Text/index.tsx","../src/containers/fields/base/Time/index.tsx","../src/components/typeEvalutors/Base/index.tsx","../src/components/typeEvalutors/Group/index.tsx","../src/App/index.tsx","../src/index.tsx"],"sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nexport const theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#649A6A',\r\n      dark: '#8ac390',\r\n    },\r\n    secondary: {\r\n      main: '#D2AB16',\r\n      light: '#EBFDED',\r\n      dark: '#AD8C0F',\r\n    },\r\n    // error: {\r\n    //   main: '#f44336',\r\n    // },\r\n    // warning: {\r\n    //   main: '#ff9800',\r\n    // },\r\n    //table stripe\r\n    info: {\r\n      dark: '#F5F4F4',\r\n      main: '#EBFDED',\r\n      light: '#F9F9F9',\r\n    },\r\n    // success: {\r\n    //   main: '#4caf50',\r\n    // },\r\n    text: {\r\n      primary: '#EBFDED',\r\n      secondary: '#000000',\r\n      disabled: 'rgba(0, 0, 0, 0.38)',\r\n      hint: 'rgba(0, 0, 0, 0.38)',\r\n    },\r\n    // divider: 'rgba(0, 0, 0, 0.12)',\r\n    // background: {\r\n    //   paper: '#fff',\r\n    //   default: '#fff',\r\n    // },\r\n    // action: {\r\n    //   active: '#EEEEEE',\r\n    //   hover: '#888888',\r\n    //   hoverOpacity: 0.04,\r\n    //   selected: '#FFFFFF',\r\n    //   disabled: '#666666',\r\n    // },\r\n  },\r\n  typography: {\r\n    h1: {\r\n      fontWeight: 700,\r\n      // lineHeight: 0.35,\r\n      fontSize: 30,\r\n      // color: '#FFFFFF',\r\n    },\r\n    h2: {\r\n      fontWeight: 500,\r\n      fontSize: 20,\r\n      // lineHeight: 0.23,\r\n    },\r\n    h3: {\r\n      fontWeight: 400,\r\n      fontSize: 18,\r\n      // lineHeight: 0.21,\r\n      // color: '#FFFFFF',\r\n    },\r\n    h4: {\r\n      fontWeight: 700,\r\n      // lineHeight: 0.35,\r\n      fontSize: 26,\r\n    },\r\n    body1: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 400,\r\n      // lineHeight: 1.18,\r\n      fontSize: 16,\r\n    },\r\n    caption: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 600,\r\n      // lineHeight: 0.18,\r\n      fontSize: 16,\r\n    },\r\n    subtitle1: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 400,\r\n      // lineHeight: 0.18,\r\n      fontSize: 16,\r\n    },\r\n    subtitle2: {\r\n      fontFamily: 'Roboto',\r\n      fontWeight: 500,\r\n      // lineHeight: 0.18,\r\n      fontSize: 16,\r\n    },\r\n  },\r\n  //menu\r\n  overrides: {\r\n    MuiPaper: {\r\n      root: {\r\n        color: '#222222 !important',\r\n      },\r\n    },\r\n  },\r\n});\r\n","// import moment from 'moment';\r\nimport moment from 'moment';\r\nimport store from '../store';\r\n\r\nlet actualExpression: string;\r\nlet currentHierarchicalName: string = '';\r\nlet formItemProperty: any = {};\r\nlet userInput: any = {};\r\n\r\n/**\r\n * tokenizeCharacter is a type of util method\r\n * @param {any} type - the type that will be returned if matches\r\n * @param {any} value - the actual value of the tokenize character\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeCharacter(type: any, value: any, input: any, current: any) {\r\n  return value === input[current] ? [1, { type, value }] : [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeParenOpen returns tokenizeReturnObject for character (\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeParenOpen(input: any, current: any) {\r\n  return tokenizeCharacter('paren', '(', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeBrakeOpen returns tokenizeReturnObject for character [\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeBrakeOpen(input: any, current: any) {\r\n  return tokenizeCharacter('brac', '[', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeBrakeClose returns tokenizeReturnObject for character ]\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeBrakeClose(input: any, current: any) {\r\n  return tokenizeCharacter('brac', ']', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeParenClose returns tokenizeReturnObject for character )\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeParenClose(input: any, current: any) {\r\n  return tokenizeCharacter('paren', ')', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeEqual returns tokenizeReturnObject for character =\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeEqual(input: any, current: any) {\r\n  return tokenizeCharacter('equal', '=', input, current);\r\n}\r\n\r\n/**\r\n * tokenizePlus returns tokenizeReturnObject for character +\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizePlus(input: any, current: any) {\r\n  return tokenizeCharacter('plus', '+', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeMinus returns tokenizeReturnObject for character -\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeMinus(input: any, current: any) {\r\n  return tokenizeCharacter('minus', '-', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeMultiply returns tokenizeReturnObject for character *\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeMultiply(input: any, current: any) {\r\n  return tokenizeCharacter('multiply', '*', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeDivide returns tokenizeReturnObject for character /\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeDivide(input: any, current: any) {\r\n  return tokenizeCharacter('divide', '/', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeLessThan returns tokenizeReturnObject for character <\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeLessThan(input: any, current: any) {\r\n  return tokenizeCharacter('lessThan', '<', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeGreaterThan returns tokenizeReturnObject for character >\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeGreaterThan(input: any, current: any) {\r\n  return tokenizeCharacter('greaterThan', '>', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeNot returns tokenizeReturnObject for character !\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeNot(input: any, current: any) {\r\n  if (input[current] == '!') {\r\n    return tokenizeCharacter('not', '!', input, current);\r\n  } else if (input[current] == 'n') {\r\n    if (\r\n      input[current + 1] &&\r\n      input[current + 1] == 'o' &&\r\n      (input[current + 2] && input[current + 2] == 't')\r\n    ) {\r\n      const type = 'not';\r\n      const value = '!';\r\n      return [3, { type, value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeComma returns tokenizeReturnObject for character ,\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeComma(input: any, current: any) {\r\n  return tokenizeCharacter('comma', ',', input, current);\r\n}\r\n\r\n/**\r\n * tokenizeDot returns tokenizeReturnObject for character .\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeDot(input: any, current: any) {\r\n  return tokenizeCharacter('dot', '.', input, current);\r\n}\r\n\r\n/**\r\n * tokenizePattern is a type of util method\r\n * @param {any} type - the type that will be returned if matches\r\n * @param {any} pattern - the pattern that will be matched for tokenization\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizePattern(type: any, pattern: any, input: any, current: any) {\r\n  let char = input[current];\r\n  let consumedChars = 0;\r\n  if (pattern.test(char)) {\r\n    let value = '';\r\n    while (char && pattern.test(char)) {\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    return [consumedChars, { type, value }];\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeString returns tokenizeReturnObject for strings. example: 'abc12' , \"test1\", \"afgkj dafgk\"\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns - tokenizeReturnObject\r\n */\r\nfunction tokenizeString(input: any, current: any) {\r\n  if (input[current] === '\"' || input[current] === \"'\") {\r\n    const matchQuote = input[current];\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    consumedChars += 1;\r\n    let char = input[current + consumedChars];\r\n    while (char !== matchQuote) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    return [consumedChars + 1, { type: 'string', value }];\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeFunction returns tokenizeReturnObject for functions. Example: round( , substring(\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject; value contains function name if matched\r\n */\r\nfunction tokenizeFunction(input: any, current: any) {\r\n  if (/[a-z_]/i.test(input[current])) {\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    // consumedChars ++;\r\n    let char = input[current + consumedChars];\r\n    while (char && /[:a-z0-9_-]/i.test(char)) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    while (char && /\\s/.test(char)) {\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    if (value == 'not') {\r\n      return [0, null];\r\n    }\r\n    if (char && char === '(') {\r\n      return [consumedChars, { type: 'function', value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeNumber returns tokenizeReturnObject for discrete numbers. Example: 123 , 02113\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeNumber(input: any, current: any) {\r\n  if (/[0-9]/i.test(input[current])) {\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    // consumedChars ++;\r\n    let char = input[current + consumedChars];\r\n    while (/[0-9]/i.test(char)) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    if (char !== '.') {\r\n      return [consumedChars, { type: 'number', value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeDecimal returns tokenizeReturnObject for decimal numbers. Example: 12.3 , 0.2113\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeDecimal(input: any, current: any) {\r\n  if (/[0-9.]/i.test(input[current])) {\r\n    let value = '';\r\n    let consumedChars = 0;\r\n    // consumedChars ++;\r\n    let char = input[current + consumedChars];\r\n    while (/[0-9]/i.test(char)) {\r\n      if (char === undefined) {\r\n        throw new TypeError('unterminated string ');\r\n      }\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n    }\r\n    if (char === '.') {\r\n      value += char;\r\n      consumedChars += 1;\r\n      char = input[current + consumedChars];\r\n      if (/[0-9]/i.test(char)) {\r\n        while (/[0-9]/i.test(char)) {\r\n          if (char === undefined) {\r\n            throw new TypeError('unterminated string ');\r\n          }\r\n          value += char;\r\n          consumedChars += 1;\r\n          char = input[current + consumedChars];\r\n        }\r\n        return [consumedChars, { type: 'decimal', value }];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeVariable returns tokenizeReturnObject for variables. Example syntax: ${Iamvariable} , #{urvariable}\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeVariable(input: any, current: any) {\r\n  if (input[current] === '#' || input[current] === '$') {\r\n    if (input[current + 1] && input[current + 1] === '{') {\r\n      let value = '';\r\n      let consumedChars = 1;\r\n      consumedChars += 1;\r\n      let char = input[current + consumedChars];\r\n      while (char !== '}') {\r\n        if (char === undefined) {\r\n          throw new TypeError('unterminated string ');\r\n        }\r\n        value += char;\r\n        consumedChars += 1;\r\n        char = input[current + consumedChars];\r\n      }\r\n      return [consumedChars + 1, { type: 'variable', value }];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeOr returns tokenizeReturnObject for syntax or\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeOr(input: any, current: any) {\r\n  if (input[current] === 'o') {\r\n    if (input[current + 1] && input[current + 1] === 'r') {\r\n      if (\r\n        input[current + 2] === undefined ||\r\n        /[0-9\\s]/.test(input[current + 2])\r\n      ) {\r\n        return [2, { type: 'or', value: 'or' }];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeIf returns tokenizeReturnObject for word if\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeIf(input: any, current: any) {\r\n  if (input[current] === 'i') {\r\n    if (input[current + 1] && input[current + 1] === 'f') {\r\n      if (\r\n        input[current + 2] === undefined ||\r\n        !/[a-z]i/.test(input[current + 2])\r\n      ) {\r\n        return [2, { type: 'if', value: 'if' }];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeAnd returns tokenizeReturnObject for word and\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeAnd(input: any, current: any) {\r\n  if (input[current] === 'a') {\r\n    if (input[current + 1] && input[current + 1] === 'n') {\r\n      if (input[current + 2] && input[current + 2] === 'd') {\r\n        if (\r\n          input[current + 3] === undefined ||\r\n          /[0-9\\s]/.test(input[current + 3])\r\n        ) {\r\n          return [3, { type: 'and', value: 'and' }];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeDiv returns tokenizeReturnObject of type divide for word div\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeDiv(input: any, current: any) {\r\n  if (input[current] === 'd') {\r\n    if (input[current + 1] && input[current + 1] === 'i') {\r\n      if (input[current + 2] && input[current + 2] === 'v') {\r\n        if (\r\n          input[current + 3] === undefined ||\r\n          /[0-9\\s]/.test(input[current + 3])\r\n        ) {\r\n          return [3, { type: 'divide', value: '/' }];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * tokenizeName returns tokenizeReturnObject of type name for regex [a-z_]+\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject\r\n */\r\nfunction tokenizeName(input: any, current: any) {\r\n  return tokenizePattern('name', /[a-z_]/i, input, current);\r\n}\r\n\r\n/**\r\n * skipWhiteSpace removes space and iterates the position of compiler\r\n * @param {any} input - the input expression, valid cases involve only string type\r\n * @param {any} current - the position of the compiler at the input expression\r\n * @returns tokenizeReturnObject that consumes characters without returning type\r\n */\r\nfunction skipWhiteSpace(input: any, current: any) {\r\n  return /\\s/.test(input[current]) ? [1, null] : [0, null];\r\n}\r\n\r\n/**\r\n * Precedence of the tokenizer methods\r\n * If new tokenizer method is created, please add inside tokenizers with correct precedence\r\n */\r\nconst tokenizers = [\r\n  skipWhiteSpace,\r\n  tokenizeParenOpen,\r\n  tokenizeParenClose,\r\n  tokenizeIf,\r\n  tokenizeOr,\r\n  tokenizeAnd,\r\n  tokenizeVariable,\r\n  tokenizeString,\r\n  tokenizeFunction,\r\n  tokenizeEqual,\r\n  tokenizePlus,\r\n  tokenizeMinus,\r\n  tokenizeMultiply,\r\n  tokenizeDivide,\r\n  tokenizeDiv,\r\n  tokenizeLessThan,\r\n  tokenizeGreaterThan,\r\n  tokenizeNot,\r\n  tokenizeBrakeOpen,\r\n  tokenizeBrakeClose,\r\n  tokenizeDot,\r\n  tokenizeComma,\r\n  tokenizeNumber,\r\n  tokenizeDecimal,\r\n  tokenizeName,\r\n];\r\n\r\n/**\r\n * tokenizer is primary method that takes the expression and convert them to appropiate tokens.\r\n * Throws syntax error if expression is not appropiate or could not be tokenized properly\r\n * @param {string} input - should be of string for valid cases\r\n * @returns array of tokens\r\n */\r\nfunction tokenizer(input: any) {\r\n  let current: number = 0;\r\n  const tokens: any = [];\r\n  while (current < input.length) {\r\n    let tokenized = false;\r\n    tokenizers.forEach(tokenizerFn => {\r\n      if (tokenized) {\r\n        return;\r\n      }\r\n      const [consumedChars, token]: any = tokenizerFn(input, current);\r\n      if (consumedChars !== 0) {\r\n        tokenized = true;\r\n        current += consumedChars;\r\n      }\r\n      if (token) {\r\n        tokens.push(token);\r\n      }\r\n    });\r\n    if (!tokenized) {\r\n      throw new TypeError(\r\n        `I dont know what this character is: ${input[current]}`\r\n      );\r\n    }\r\n  }\r\n  return tokens;\r\n}\r\n\r\n/**\r\n * kbSelected parses the function selected and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbSelected(funcName: any, params: any, _paramsTokens: any) {\r\n  if (funcName === 'selected') {\r\n    let tmp = false;\r\n    if (Array.isArray(params[0])) {\r\n      params[0].forEach((element: any) => {\r\n        // tslint:disable-next-line: triple-equals\r\n        tmp = tmp || element == params[1];\r\n      });\r\n      return [true, tmp];\r\n    }\r\n    // tslint:disable-next-line: triple-equals\r\n    return [true, params[0] == params[1]];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n// tslint:disable-next-line: variable-name\r\nfunction kbChoice(funcName: any, params: any, _paramsTokens: any) {\r\n  if (funcName === 'jr:choice-name') {\r\n    const tmpHierchicalName = currentHierarchicalName.split('/');\r\n    let i;\r\n    let parent = '';\r\n    for (i = 0; i < tmpHierchicalName.length - 1; ) {\r\n      // tslint:disable-next-line: triple-equals\r\n      if (tmpHierchicalName[i] == 'repeat') {\r\n        i += 3;\r\n      } else {\r\n        // path.push(parent + tmpHierchicalName[i + 1]);\r\n        parent = parent + tmpHierchicalName[i + 1] + '/';\r\n        i += 2;\r\n      }\r\n    }\r\n    const state = store.getState();\r\n    const variableName =\r\n      parent + params[params.length - 1].replace(/[^a-zA-Z ]/g, '');\r\n    if (variableName in state.optionList) {\r\n      for (const key in state.optionList[variableName]) {\r\n        if (state.optionList[variableName][key].name === params[0]) {\r\n          return [\r\n            true,\r\n            state.optionList[variableName][key].label[state.language],\r\n          ];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n// tslint:disable-next-line: variable-name\r\nfunction kbPullData(funcName: any, params: any, _paramsTokens: any) {\r\n  if (funcName === 'pulldata') {\r\n    const state = store.getState();\r\n    const csv = state.csvList[params[0] + '.csv'];\r\n    if (params[3]) {\r\n      const item = csv.find((obj: any) => obj[params[2]] == params[3]);\r\n      if (item != undefined && item != null) {\r\n        return [true, item[params[1]]];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbToday parses the function today and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbToday(funcName: any, _params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'today') {\r\n    const d = new Date();\r\n    d.setHours(0, 0, 0, 0);\r\n    return [true, d];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbToday parses the function today and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbFormatDate(funcName: any, _params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'format-date') {\r\n    const format = _params.length == 2 ? _params[1].replace(\"%d\", \"DD\").replace(\"%m\", \"MM\").replace(\"%Y\", \"YYYY\"): 'MM-DD-YYYY';\r\n    const d = _params.length > 1 && _params[0] != null ? moment(_params[0]).format(format) : null ;\r\n    return [true, d];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbRound parses the function round and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbRound(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'round') {\r\n    if (params[0] && params[1]) {\r\n      if (typeof params[0] === 'number' && typeof params[1] === 'number') {\r\n        return [true, params[0].toFixed(params[1])];\r\n      }\r\n      if (typeof params[0] === 'string' && typeof params[1] === 'number') {\r\n        return [true, parseFloat(params[0]).toFixed(params[1])];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbRegex parses the function regex and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbRegex(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'regex') {\r\n    const regex = RegExp(params[1]);\r\n    return [true, regex.test(params[0])];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbCountSelected parses the function count-selected and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbCountSelected(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'count-selected') {\r\n    if (params[0] && Array.isArray(params[0])) {\r\n      return [true, params[0].length];\r\n    }\r\n    if (params[0] && typeof params[0] !== 'object') {\r\n      return [true, 1];\r\n    }\r\n    return [true, 0];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbInt parses the function int and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbInt(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'int') {\r\n    if (typeof params[0] === 'string') {\r\n      return [true, parseInt(params[0], 10)];\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbCoalesce parses the function coalesce and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbCoalesce(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'coalesce') {\r\n    if (!params[0] && params[0] !== 0) {\r\n      return [true, params[1]];\r\n    }\r\n    return [true, params[0]];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbPosition parses the function position and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbPosition(funcName: any, _params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'position') {\r\n    if (currentHierarchicalName) {\r\n      const tmpName = currentHierarchicalName.split('/');\r\n      if (tmpName.length > 2) {\r\n        return [true, parseInt(tmpName[tmpName.length - 2], 10) + 1];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * sumValuesOverJsn is a utility method for kbSum\r\n * @param sum - initial sum value\r\n * @param jsnObj - variable name and value in json object\r\n * @param variableName - variable name\r\n * @returns the calculated sum\r\n */\r\nfunction sumValuesOverJsn(sum: any, jsnObj: any, variableName: any) {\r\n  if (Array.isArray(jsnObj)) {\r\n    let i;\r\n    for (i = 0; i < jsnObj.length; i += 1) {\r\n      sum = sumValuesOverJsn(sum, jsnObj[i], variableName);\r\n    }\r\n  } else if (typeof jsnObj === 'object') {\r\n    for (const key in jsnObj) {\r\n      if (typeof jsnObj[key] === 'object') {\r\n        sum = sumValuesOverJsn(sum, jsnObj[key], variableName);\r\n      } else if (key === variableName) {\r\n        if (typeof jsnObj[key] === 'string') {\r\n          sum += parseFloat(jsnObj[key]);\r\n        }\r\n        if (typeof jsnObj[key] === 'number') {\r\n          sum += jsnObj[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return sum;\r\n}\r\n\r\n/**\r\n * kbSum parses the function sum and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbSum(funcName: any, _params: any, paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'sum') {\r\n    let sumValue = null;\r\n    if (\r\n      paramsTokens &&\r\n      paramsTokens.length > 0 &&\r\n      paramsTokens[0] &&\r\n      paramsTokens[0].length > 0 &&\r\n      paramsTokens[0][0].type === 'variable'\r\n    ) {\r\n      sumValue = sumValuesOverJsn(0, userInput, paramsTokens[0][0].value);\r\n    }\r\n    return [true, sumValue];\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbConcat parses the function concat and returns functionParseReturnObject\r\n * @param funcName - the function name of the token\r\n * @param params - calculated value of the params tokens\r\n * @param _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbConcat(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'concat') {\r\n    if (params && params.length > 0) {\r\n      let concatStr = '';\r\n      // tslint:disable-next-line: prefer-for-of\r\n      for (let i = 0; i < params.length; i += 1) {\r\n        if (params[i] == null) {\r\n          // continue;\r\n          // return [false, null];\r\n          concatStr += '';\r\n        } else {\r\n          concatStr += params[i];\r\n        }\r\n      }\r\n      return [true, concatStr];\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * kbSubstr parses the function substr and returns functionParseReturnObject\r\n * @param {any} funcName - the function name of the token\r\n * @param {any} params - calculated value of the params tokens\r\n * @param {any} _paramsTokens - orginal param tokens\r\n * @returns functionParseReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction kbSubstr(funcName: any, params: any, _paramsTokens: any) {\r\n  // tslint:disable-next-line: triple-equals\r\n  if (funcName == 'substr') {\r\n    if (params && params.length > 0) {\r\n      if (params[0] && params[1] !== null) {\r\n        if (params[2] !== null && params[2] < params[0].length) {\r\n          const subStr = params[0].substring(params[1], params[2]);\r\n          return [true, subStr];\r\n        }\r\n        return [true, params[0].substring(params[1])];\r\n      }\r\n    }\r\n  }\r\n  return [false, null];\r\n}\r\n\r\n/**\r\n * outerScopedVariables is a utility method that returns same variable values based on outerscope\r\n * @param {any} variableName - variable name\r\n * @param {any} variableValue - variable value upto now\r\n * @param {any} tmpUserInput - variable key-value storage\r\n * @returns parsed scoped variable value\r\n */\r\nfunction outerScopedVariables(\r\n  variableName: any,\r\n  variableValue: any,\r\n  tmpUserInput: any\r\n): any {\r\n  // tslint:disable-next-line: forin\r\n  for (const key in tmpUserInput) {\r\n    const nodeNames = key.split('/');\r\n    const variableNameFromKey = nodeNames[nodeNames.length - 1];\r\n    if (variableNameFromKey === variableName) {\r\n      return tmpUserInput[key];\r\n    }\r\n    if (typeof tmpUserInput[key] === 'object') {\r\n      if (variableValue == null) {\r\n        variableValue = outerScopedVariables(\r\n          variableName,\r\n          variableValue,\r\n          tmpUserInput[key]\r\n        );\r\n      }\r\n    }\r\n  }\r\n  return variableValue;\r\n}\r\n\r\n/**\r\n * parseMostClosestScopedVariable returns the closest scoped parsed variable value\r\n * @param {any} variableName - the variable name\r\n * @returns the parsed variable value\r\n */\r\nfunction parseMostClosestScopedVariable(variableName: any) {\r\n  const tmpHierchicalName = currentHierarchicalName.split('/');\r\n  let i;\r\n  const tmpUserInput = userInput;\r\n  let variableValue = null;\r\n  variableValue = outerScopedVariables(\r\n    variableName,\r\n    variableValue,\r\n    tmpUserInput\r\n  );\r\n  let parent = '';\r\n  for (i = 0; i < tmpHierchicalName.length - 1; ) {\r\n    // tslint:disable-next-line: triple-equals\r\n    if (tmpHierchicalName[i] == 'repeat') {\r\n      i += 1;\r\n      const index = parseInt(tmpHierchicalName[i + 1], 10);\r\n      variableValue = outerScopedVariables(\r\n        variableName,\r\n        variableValue,\r\n        tmpUserInput[parent + tmpHierchicalName[i]][index]\r\n      );\r\n      i += 2;\r\n    } else {\r\n      parent = parent + tmpHierchicalName[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  return variableValue;\r\n}\r\n\r\n/**\r\n * parseDot parses the dot\r\n * @returns parsed value\r\n */\r\nfunction parseDot() {\r\n  const tmpHierchicalName = currentHierarchicalName.split('/');\r\n  let i;\r\n  let tmpUserInput = userInput;\r\n  let parent = '';\r\n  const path = [];\r\n  for (i = 0; i < tmpHierchicalName.length - 1; ) {\r\n    // tslint:disable-next-line: triple-equals\r\n    if (tmpHierchicalName[i] == 'repeat') {\r\n      i += 1;\r\n      path.push(parent + tmpHierchicalName[i]);\r\n      path.push(parseInt(tmpHierchicalName[i + 1], 10));\r\n      parent = parent + tmpHierchicalName[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      // path.push(parent + tmpHierchicalName[i + 1]);\r\n      parent = parent + tmpHierchicalName[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  path.push(parent + tmpHierchicalName[tmpHierchicalName.length - 1]);\r\n  tmpUserInput = userInput.getIn(path);\r\n  return tmpUserInput;\r\n}\r\n\r\n/**\r\n * parseLiterals parse a set of tokens, starting from number, string, decimal, variable, name, dot\r\n * @param {any} _tmpOutput - the parsed value of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the position of parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseLiterals(_tmpOutput: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'number') {\r\n    return [1, parseInt(tokens[current].value, 10)];\r\n  }\r\n  if (tokens[current].type === 'string') {\r\n    return [1, tokens[current].value];\r\n  }\r\n  if (tokens[current].type === 'decimal') {\r\n    return [1, parseFloat(tokens[current].value)];\r\n  }\r\n  if (tokens[current].type === 'variable') {\r\n    return [1, parseMostClosestScopedVariable(tokens[current].value)];\r\n  }\r\n  if (tokens[current].type === 'name') {\r\n    if (tokens[current].value.toLowerCase() === 'true') {\r\n      return [1, true];\r\n    }\r\n    if (tokens[current].value.toLowerCase() === 'false') {\r\n      return [1, false];\r\n    }\r\n    if (formItemProperty && tokens[current].value in formItemProperty) {\r\n      return [1, formItemProperty[tokens[current].value]];\r\n    }\r\n    return [1, null];\r\n  }\r\n  if (tokens[current].type === 'dot') {\r\n    return [1, parseDot()];\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseFuntion parses the functions present in expression\r\n * @param {any} _output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseFunction(_output: any, tokens: any, current: any) {\r\n  // precedence of functions\r\n  const possibleFunctions = [\r\n    kbSelected,\r\n    kbCountSelected,\r\n    kbChoice,\r\n    kbToday,\r\n    kbRegex,\r\n    kbInt,\r\n    kbCoalesce,\r\n    kbPosition,\r\n    kbSum,\r\n    kbConcat,\r\n    kbSubstr,\r\n    kbRound,\r\n    kbFormatDate,\r\n    kbPullData,\r\n  ];\r\n  if (tokens[current].type === 'function') {\r\n    const funcName = tokens[current].value;\r\n    const arrayOfParams: any = [];\r\n    const arrayOfOriginalTokens: any = [];\r\n    let i = 1;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      const tmpQueue = [];\r\n      tmpQueue.push(1);\r\n      i += 1;\r\n      let tmpTokens = [];\r\n      while (tokens[current + i] && tmpQueue.length) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === ')'\r\n        ) {\r\n          tmpQueue.pop();\r\n        }\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === '('\r\n        ) {\r\n          tmpQueue.push(1);\r\n        }\r\n        if (tokens[current + i].type === 'comma' && tmpQueue.length === 1) {\r\n          tmpTokens.pop();\r\n          const tmpVal = parser(null, tmpTokens, 0);\r\n          arrayOfParams.push(tmpVal);\r\n          arrayOfOriginalTokens.push(tmpTokens);\r\n          tmpTokens = [];\r\n        }\r\n        i += 1;\r\n      }\r\n      i -= 1;\r\n\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === ')'\r\n      ) {\r\n        tmpTokens.pop();\r\n        const tmpVal = parser(null, tmpTokens, 0);\r\n        arrayOfParams.push(tmpVal);\r\n        arrayOfOriginalTokens.push(tmpTokens);\r\n        let parsedFn = false;\r\n        let parsedVal = null;\r\n        possibleFunctions.forEach(functionFn => {\r\n          if (parsedFn) {\r\n            return;\r\n          }\r\n          [parsedFn, parsedVal] = functionFn(\r\n            funcName,\r\n            arrayOfParams,\r\n            arrayOfOriginalTokens\r\n          );\r\n        });\r\n        if (parsedFn) {\r\n          return [i + 1, parsedVal];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseIf parses the if present in expression\r\n * @param {any} _output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseIf(_output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'if') {\r\n    const arrayOfParams = [];\r\n    let i = 1;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      const tmpQueue = [];\r\n      tmpQueue.push(1);\r\n      i += 1;\r\n      let tmpTokens = [];\r\n      while (tokens[current + i] && tmpQueue.length) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === ')'\r\n        ) {\r\n          tmpQueue.pop();\r\n        }\r\n        if (\r\n          tokens[current + i].type === 'paren' &&\r\n          tokens[current + i].value === '('\r\n        ) {\r\n          tmpQueue.push(1);\r\n        }\r\n        if (tokens[current + i].type === 'comma' && tmpQueue.length === 1) {\r\n          tmpTokens.pop();\r\n          const tmpVal = parser(null, tmpTokens, 0);\r\n          // console.log(tmpTokens, tmpVal);\r\n          arrayOfParams.push(tmpVal);\r\n          tmpTokens = [];\r\n        }\r\n        i += 1;\r\n      }\r\n      i -= 1;\r\n\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === ')'\r\n      ) {\r\n        tmpTokens.pop();\r\n        const tmpVal = parser(null, tmpTokens, 0);\r\n        arrayOfParams.push(tmpVal);\r\n        if (arrayOfParams.length % 2 === 0) {\r\n          let j;\r\n          for (j = 0; j < arrayOfParams.length; j += 2) {\r\n            if (arrayOfParams[j]) {\r\n              return [i + 1, arrayOfParams[j + 1]];\r\n            }\r\n          }\r\n        } else {\r\n          let j;\r\n          for (j = 0; j < arrayOfParams.length - 1; j += 2) {\r\n            if (arrayOfParams[j]) {\r\n              return [i + 1, arrayOfParams[j + 1]];\r\n            }\r\n          }\r\n          return [i + 1, arrayOfParams[arrayOfParams.length - 1]];\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseNot parses the not present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseNot(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'not') {\r\n    let tmpTokens;\r\n    let i = 1;\r\n    if (tokens[current + i].type === 'equal' && output != null) {\r\n      tmpTokens = [];\r\n      i += 1;\r\n      const terminatingTokens = ['and', 'or'];\r\n      while (\r\n        tokens[current + i] &&\r\n        terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n      ) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        i += 1;\r\n      }\r\n      let newOutput;\r\n      if (tmpTokens.length) {\r\n        newOutput = parser(null, tmpTokens, 0);\r\n        // tslint:disable-next-line: triple-equals\r\n        return [i, output != newOutput];\r\n      }\r\n    } else {\r\n      let parsed = false;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      let consumedTokens;\r\n      let newOutput;\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          i += consumedTokens;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [i, !newOutput];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseAnd parses the and present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseAnd(output: any, tokens: any, current: any): any {\r\n  if (tokens[current].type === 'and' && output != null) {\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    let newOutput = null;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      let consumedChars;\r\n      [consumedChars, newOutput] = parseParen(null, tokens, current + i);\r\n      i += consumedChars;\r\n    } else {\r\n      const terminatingTokens = ['and', 'or'];\r\n      while (\r\n        tokens[current + i] &&\r\n        terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n      ) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        i += 1;\r\n      }\r\n      if (tmpTokens.length) {\r\n        newOutput = parser(null, tmpTokens, 0);\r\n      }\r\n    }\r\n    if (newOutput != null) {\r\n      newOutput = output && newOutput;\r\n      if (tokens[current + i] && tokens[current + i].type === 'and') {\r\n        let consumedChars = 0;\r\n        [consumedChars, newOutput] = parseAnd(newOutput, tokens, current + i);\r\n        i += consumedChars;\r\n      }\r\n      return [i, newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseOr parses the or present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseOr(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'or' && output != null) {\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    let newOutput = null;\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === '('\r\n    ) {\r\n      let consumedChars;\r\n      [consumedChars, newOutput] = parseParen(null, tokens, current + i);\r\n      i += consumedChars;\r\n    } else {\r\n      const terminatingTokens = ['and', 'or'];\r\n      while (\r\n        tokens[current + i] &&\r\n        terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n      ) {\r\n        tmpTokens.push(tokens[current + i]);\r\n        i += 1;\r\n      }\r\n      if (tmpTokens.length) {\r\n        newOutput = parser(null, tmpTokens, 0);\r\n      }\r\n    }\r\n    if (newOutput != null || output != null) {\r\n      if (tokens[current + i] && tokens[current + i].type === 'and') {\r\n        let consumedChars = 0;\r\n        [consumedChars, newOutput] = parseAnd(newOutput, tokens, current + i);\r\n        i += consumedChars;\r\n      }\r\n      return [i, output || newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseEqual parses the equal present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseEqual(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'equal' && output != null) {\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    const terminatingTokens = ['and', 'or'];\r\n    while (\r\n      tokens[current + i] &&\r\n      terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n    ) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      i += 1;\r\n    }\r\n    let newOutput;\r\n    if (tmpTokens.length) {\r\n      newOutput = parser(null, tmpTokens, 0);\r\n      // tslint:disable-next-line: triple-equals\r\n      return [i, output == newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseLessThan parses the less than or equal present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseLessThan(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'lessThan' && output != null) {\r\n    let flagLessThanOrEqual = false;\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    if (tokens[current + i].type === 'equal') {\r\n      i += 1;\r\n      flagLessThanOrEqual = true;\r\n    }\r\n    const terminatingTokens = ['and', 'or'];\r\n    while (\r\n      tokens[current + i] &&\r\n      terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n    ) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      i += 1;\r\n    }\r\n    let newOutput;\r\n    if (tmpTokens.length) {\r\n      newOutput = parser(null, tmpTokens, 0);\r\n      if (flagLessThanOrEqual) {\r\n        return [i, output <= newOutput];\r\n      }\r\n      return [i, output < newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseGreaterThan parses the greater than or equal present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseGreaterThan(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'greaterThan' && output != null) {\r\n    let flagGreaterThanOrEqual = false;\r\n    const tmpTokens = [];\r\n    let i = 1;\r\n    if (tokens[current + i].type === 'equal') {\r\n      i += 1;\r\n      flagGreaterThanOrEqual = true;\r\n    }\r\n    const terminatingTokens = ['and', 'or'];\r\n    while (\r\n      tokens[current + i] &&\r\n      terminatingTokens.indexOf(tokens[current + i].type) === -1\r\n    ) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      i += 1;\r\n    }\r\n    let newOutput;\r\n    if (tmpTokens.length) {\r\n      newOutput = parser(null, tmpTokens, 0);\r\n\r\n      if (flagGreaterThanOrEqual) {\r\n        return [i, output >= newOutput];\r\n      }\r\n      return [i, output > newOutput];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseParen parses the paren present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\n// tslint:disable-next-line: variable-name\r\nfunction parseParen(_output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'paren' && tokens[current].value === '(') {\r\n    const tmpQueue = [];\r\n    tmpQueue.push(1);\r\n    let i = 1;\r\n    const tmpTokens = [];\r\n    while (tokens[current + i] && tmpQueue.length) {\r\n      tmpTokens.push(tokens[current + i]);\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === ')'\r\n      ) {\r\n        tmpQueue.pop();\r\n      }\r\n      if (\r\n        tokens[current + i].type === 'paren' &&\r\n        tokens[current + i].value === '('\r\n      ) {\r\n        tmpQueue.push(1);\r\n      }\r\n      i += 1;\r\n    }\r\n    i -= 1;\r\n\r\n    if (\r\n      tokens[current + i].type === 'paren' &&\r\n      tokens[current + i].value === ')'\r\n    ) {\r\n      tmpTokens.pop();\r\n      const tmpVal = parser(null, tmpTokens, 0);\r\n      return [i + 1, tmpVal];\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseDivide parses the divide present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseDivide(output: any, tokens: any, current: any) {\r\n  if (output != null && tokens[current].type === 'divide') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'minus',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let consumedTokens;\r\n        let newOutput: any;\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n        }\r\n        const precedentParsers = [parseDivide, parseMultiply];\r\n        let preParsed = false;\r\n        let preOutput;\r\n        precedentParsers.forEach(preParseFn => {\r\n          if (preParsed) {\r\n            return;\r\n          }\r\n          if (tokens[current]) {\r\n            [consumedTokens, preOutput] = preParseFn(\r\n              newOutput,\r\n              tokens,\r\n              current\r\n            );\r\n            ct += consumedTokens;\r\n            if (consumedTokens !== 0) {\r\n              preParsed = true;\r\n              newOutput = preOutput;\r\n            }\r\n          }\r\n        });\r\n\r\n        if (newOutput != null) {\r\n          output /= newOutput;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseMultiply parses the multiply present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseMultiply(output: any, tokens: any, current: any) {\r\n  if (output != null && tokens[current].type === 'multiply') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'minus',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let consumedTokens;\r\n        let newOutput: any;\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n        }\r\n        const precedentParsers = [parseDivide, parseMultiply];\r\n        let preParsed = false;\r\n        let preOutput;\r\n        precedentParsers.forEach(preParseFn => {\r\n          if (preParsed) {\r\n            return;\r\n          }\r\n          if (tokens[current]) {\r\n            [consumedTokens, preOutput] = preParseFn(\r\n              newOutput,\r\n              tokens,\r\n              current\r\n            );\r\n            ct += consumedTokens;\r\n            if (consumedTokens !== 0) {\r\n              preParsed = true;\r\n              newOutput = preOutput;\r\n            }\r\n          }\r\n        });\r\n\r\n        if (newOutput != null) {\r\n          output *= newOutput;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parsePlus parses the addition present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parsePlus(output: any, tokens: any, current: any) {\r\n  if (output != null && tokens[current].type === 'plus') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'string',\r\n      'minus',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [\r\n        parseLiterals,\r\n        parseMinus,\r\n        parseParen,\r\n        parseFunction,\r\n      ];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let consumedTokens;\r\n        let newOutput: any;\r\n        if (parserFn === parseMinus) {\r\n          [consumedTokens, newOutput] = parserFn(null, tokens, current + 1);\r\n        } else {\r\n          [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        }\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n          const precedentParsers = [parseDivide, parseMultiply];\r\n          let preParsed = false;\r\n          let preOutput;\r\n          precedentParsers.forEach(preParseFn => {\r\n            if (preParsed) {\r\n              return;\r\n            }\r\n            if (tokens[current]) {\r\n              [consumedTokens, preOutput] = preParseFn(\r\n                newOutput,\r\n                tokens,\r\n                current\r\n              );\r\n              ct += consumedTokens;\r\n              if (consumedTokens !== 0) {\r\n                preParsed = true;\r\n                newOutput = preOutput;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        if (newOutput != null) {\r\n          output += newOutput;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n/**\r\n * parseMinus parses the minus present in expression\r\n * @param {any} output - the parsed output of previous tokens\r\n * @param {any} tokens - the array of tokens\r\n * @param {any} current - the current position of the parser\r\n * @returns parserReturnObject\r\n */\r\nfunction parseMinus(output: any, tokens: any, current: any) {\r\n  if (tokens[current].type === 'minus') {\r\n    const possibleTokens = [\r\n      'number',\r\n      'decimal',\r\n      'paren',\r\n      'variable',\r\n      'function',\r\n    ];\r\n    if (\r\n      current < tokens.length &&\r\n      possibleTokens.indexOf(tokens[current + 1].type) !== -1\r\n    ) {\r\n      let parsed = false;\r\n      let ct: any = null;\r\n      const possibleParsers = [parseLiterals, parseParen, parseFunction];\r\n      possibleParsers.forEach(parserFn => {\r\n        if (parsed) {\r\n          return;\r\n        }\r\n        let [consumedTokens, newOutput] = parserFn(output, tokens, current + 1);\r\n        if (consumedTokens !== 0) {\r\n          parsed = true;\r\n          consumedTokens += 1;\r\n          current += consumedTokens;\r\n          ct = consumedTokens;\r\n          const precedentParsers = [parseDivide, parseMultiply];\r\n          let preParsed = false;\r\n          let preOutput;\r\n          precedentParsers.forEach(preParseFn => {\r\n            if (preParsed) {\r\n              return;\r\n            }\r\n            if (tokens[current]) {\r\n              [consumedTokens, preOutput] = preParseFn(\r\n                newOutput,\r\n                tokens,\r\n                current\r\n              );\r\n              ct += consumedTokens;\r\n              if (consumedTokens !== 0) {\r\n                preParsed = true;\r\n                newOutput = preOutput;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        if (newOutput) {\r\n          if (output) {\r\n            if (\r\n              Object.prototype.toString.call(newOutput) === '[object Date]' &&\r\n              Object.prototype.toString.call(output) === '[object Date]'\r\n            ) {\r\n              if (!isNaN(output.getTime()) && !isNaN(newOutput.getTime())) {\r\n                output -= newOutput;\r\n                output = Math.ceil(output / (1000 * 60 * 60 * 24));\r\n              } else {\r\n                output = NaN;\r\n              }\r\n            } else if (\r\n              Object.prototype.toString.call(newOutput) === '[object Date]' ||\r\n              Object.prototype.toString.call(output) === '[object Date]'\r\n            ) {\r\n              output = NaN;\r\n            } else if (newOutput === '' || output === '') {\r\n              output = NaN;\r\n            } else {\r\n              output -= newOutput;\r\n            }\r\n          } else {\r\n            if (Object.prototype.toString.call(newOutput) === '[object Date]') {\r\n              output = NaN;\r\n            } else {\r\n              output = -newOutput;\r\n            }\r\n          }\r\n        } else {\r\n          output = NaN;\r\n        }\r\n      });\r\n      if (parsed) {\r\n        if (output === '') {\r\n          output = NaN;\r\n        }\r\n        return [ct, output];\r\n      }\r\n    }\r\n  }\r\n  return [0, null];\r\n}\r\n\r\n// precedence of the parser methods\r\nconst parsers = [\r\n  parseIf,\r\n  parseParen,\r\n  parseLiterals,\r\n  parseDivide,\r\n  parseMultiply,\r\n  parsePlus,\r\n  parseMinus,\r\n  parseLessThan,\r\n  parseGreaterThan,\r\n  parseEqual,\r\n  parseAnd,\r\n  parseOr,\r\n  parseNot,\r\n  parseFunction,\r\n];\r\n\r\n/**\r\n * the main parser that parses the series of tokens generated by the tokenizer.\r\n * Throws syntax error if not parsed\r\n * @param {any} leftOutput - the initial output or output of previous left side tokens\r\n * @param {any} tokens - the set or array of tokens need to be parsed\r\n * @param {any} pos - the start position of the parser\r\n * @returns parsed value of the set of tokens\r\n */\r\nfunction parser(leftOutput: any, tokens: any, pos: any) {\r\n  let current = pos;\r\n  let output = leftOutput;\r\n  while (current < tokens.length) {\r\n    let parsed = false;\r\n    parsers.forEach(parserFn => {\r\n      if (parsed) {\r\n        return;\r\n      }\r\n      const [consumedTokens, newOutput] = parserFn(output, tokens, current);\r\n      if (consumedTokens !== 0) {\r\n        parsed = true;\r\n        current += consumedTokens;\r\n      }\r\n      // console.log(current);\r\n      if (newOutput != null) {\r\n        output = newOutput;\r\n      }\r\n    });\r\n    if (!parsed) {\r\n      // throw new TypeError('syntax error');\r\n      // tslint:disable-next-line: no-console\r\n      console.log('syntax error');\r\n      // tslint:disable-next-line: no-console\r\n      console.log(actualExpression);\r\n      return null;\r\n    }\r\n  }\r\n  return output;\r\n}\r\n\r\n/**\r\n * odk wrapper evaluator, default method that will be exported, parses expressions\r\n * @param {any} expression - expression that needs to be evaluated\r\n * @param {any} tmpUserInput - the variable key-value json, (current user input json)\r\n * @param {any} tmpFormItemProperty - the name key-value json (current option list)\r\n * @param {any} tmpCurrentHierarchicalName - the node at which the evaluater is called\r\n * @returns evaluated value\r\n */\r\nexport default function evaluater(\r\n  expression: string,\r\n  tmpUserInput: any,\r\n  tmpFormItemProperty: any,\r\n  tmpCurrentHierarchicalName: string\r\n) {\r\n  if (!tmpUserInput) {\r\n    tmpUserInput = {};\r\n  }\r\n  currentHierarchicalName = tmpCurrentHierarchicalName;\r\n  actualExpression = expression;\r\n  userInput = tmpUserInput;\r\n  formItemProperty = tmpFormItemProperty;\r\n  return parser(null, tokenizer(expression), 0);\r\n}\r\n","import * as React from 'react';\r\nimport { Alert } from 'reactstrap';\r\n\r\nexport interface KbAlertProps {\r\n  headerText: string;\r\n  bodyText: string;\r\n  handleToggle: any;\r\n  isOpen: boolean;\r\n  color: string;\r\n}\r\n\r\nclass KbAlert extends React.Component<KbAlertProps> {\r\n  public render() {\r\n    const { headerText, bodyText, handleToggle, isOpen, color } = this.props;\r\n    return (\r\n      <Alert color={color} isOpen={isOpen} toggle={handleToggle}>\r\n        <h4 className=\"alert-heading\">{headerText}</h4>\r\n        <p>{bodyText}</p>\r\n      </Alert>\r\n    );\r\n  }\r\n}\r\n\r\nexport default KbAlert;\r\n","import * as React from 'react';\r\nimport Select from 'react-select';\r\n\r\nexport interface DropDownProps {\r\n  languages: any;\r\n  onChangeSelect: any;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nclass DropDown extends React.Component<DropDownProps> {\r\n  public render() {\r\n    const options: Options[] = [];\r\n    const languageOptions = [...this.props.languages];\r\n    languageOptions.map((elem: any) => {\r\n      options.push({ label: elem.label, value: elem.value });\r\n    });\r\n\r\n    let selectedValue: any;\r\n    options.map(elem => {\r\n      if (elem.value === this.props.defaultLanguage) {\r\n        selectedValue = elem;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <Select\r\n        multi={false}\r\n        options={options}\r\n        className={'col-md-2 dropDown'}\r\n        placeholder=\"Language\"\r\n        onChange={this.onChangeHandler}\r\n        value={selectedValue || ''}\r\n      />\r\n    );\r\n  }\r\n\r\n  /** pass the selected value to the parent class\r\n   * @param {any} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: any) => {\r\n    this.props.onChangeSelect(event.value);\r\n  };\r\n}\r\n\r\nexport default DropDown;\r\n","// Field Types\r\nexport const GROUP_FIELD_TYPE = 'group';\r\nexport type GROUP_FIELD_TYPE = typeof GROUP_FIELD_TYPE;\r\nexport const REPEAT_FIELD_TYPE = 'repeat';\r\nexport type REPEAT_FIELD_TYPE = typeof REPEAT_FIELD_TYPE;\r\nexport const TEXT_FIELD_TYPE = 'text';\r\nexport type TEXT_FIELD_TYPE = typeof TEXT_FIELD_TYPE;\r\nexport const DATE_FIELD_TYPE = 'date';\r\nexport type DATE_FIELD_TYPE = typeof DATE_FIELD_TYPE;\r\nexport const DATE_TIME_FIELD_TYPE = 'dateTime';\r\nexport type TIME_FIELD_TYPE = typeof TIME_FIELD_TYPE;\r\nexport const TIME_FIELD_TYPE = 'time';\r\nexport type DATE_TIME_FIELD_TYPE = typeof DATE_TIME_FIELD_TYPE;\r\nexport const INTEGER_FIELD_TYPE = 'integer';\r\nexport type INTEGER_FIELD_TYPE = typeof INTEGER_FIELD_TYPE;\r\nexport const DECIMAL_FIELD_TYPE = 'decimal';\r\nexport type DECIMAL_FIELD_TYPE = typeof DECIMAL_FIELD_TYPE;\r\nexport const PHOTO_FIELD_TYPE = 'photo';\r\nexport type PHOTO_FIELD_TYPE = typeof PHOTO_FIELD_TYPE;\r\nexport const FILE_FIELD_TYPE = 'file';\r\nexport type FILE_FIELD_TYPE = typeof FILE_FIELD_TYPE;\r\nexport const NOTE_FIELD_TYPE = 'note';\r\nexport type NOTE_FIELD_TYPE = typeof NOTE_FIELD_TYPE;\r\nexport const SELECT_ONE_FIELD_TYPE = 'select one';\r\nexport type SELECT_ONE_FIELD_TYPE = typeof SELECT_ONE_FIELD_TYPE;\r\nexport const SELECT_ALL_FIELD_TYPE = 'select all that apply';\r\nexport type SELECT_ALL_FIELD_TYPE = typeof SELECT_ALL_FIELD_TYPE;\r\nexport const CALCULATE_FIELD_TYPE = 'calculate';\r\nexport type CALCULATE_FIELD_TYPE = typeof CALCULATE_FIELD_TYPE;\r\n\r\n// Required Properties\r\nexport const REQUIRED_FIELD_MSG = 'This field is required';\r\nexport type REQUIRED_FIELD_MSG = typeof REQUIRED_FIELD_MSG;\r\nexport const REQUIRED_SYMBOL = '*';\r\nexport type REQUIRED_SYMBOL = typeof REQUIRED_SYMBOL;\r\n","import { createStore, Store } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport reducer, { FormState } from './ducks/formState';\r\n\r\n/** The initial store */\r\nconst store: Store & FormState = createStore(reducer, composeWithDevTools());\r\n\r\nexport default store;\r\n","import { FieldElement } from '../components/typeEvalutors/Base';\r\n\r\n/**\r\n * get the text from multilang obj based on language identifier,\r\n * @param {FieldElement} property - field multilang property or string\r\n * @return {string} - text value of the property based on language identifier, empty if not present\r\n */\r\nexport default function getTextFromProperty(\r\n  property: string | { [key: string]: string },\r\n  languageIdentifier: string\r\n): string {\r\n  if (typeof property === 'string') {\r\n    return property || '';\r\n  }\r\n  return property[languageIdentifier] || '';\r\n}\r\n\r\n/**\r\n * get the label text of the fieldElement\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - field label text\r\n */\r\nexport function getFieldLabelText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.label) {\r\n    return getTextFromProperty(fieldElement.label, languageIdentifier);\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the label hint of the fieldElement\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - field label text\r\n */\r\nexport function getHintLabelText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.hint) {\r\n    return getTextFromProperty(fieldElement.hint, languageIdentifier);\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the customised label text with previous input of the fieldElement\r\n * @param {any} evaluator - the getEvaluatedExpressionSelector Function\r\n * @param {string} labelText - the current Label Text\r\n * @param {string} fieldTreeName - the field tree name\r\n * @return {string | null} - field label text or null\r\n */\r\nexport function customizeLabelsWithPreviousInputs(\r\n  evaluator: any,\r\n  labelText: string,\r\n  fieldTreeName: string\r\n): string | null {\r\n  if (labelText === null || labelText === undefined) {\r\n    return null;\r\n  }\r\n  const placesOfCustomizationsRequiredList = labelText.match(/\\[(.*?)\\]/g);\r\n\r\n  // to calculate - i.e, [${departure_date_from_bangladesh}]\r\n  if (placesOfCustomizationsRequiredList) {\r\n    placesOfCustomizationsRequiredList.forEach(tmpPlace => {\r\n      tmpPlace = tmpPlace.substring(1, tmpPlace.length - 1);\r\n      const customizedName = evaluator(tmpPlace, fieldTreeName);\r\n      const tmp = '[' + tmpPlace + ']';\r\n      if (customizedName != null && customizedName !== undefined) {\r\n        labelText = labelText.replace(tmp, customizedName);\r\n      } else {\r\n        labelText = labelText.replace(tmp, '');\r\n      }\r\n    });\r\n  } else {\r\n    // to calculate - i.e, ${departure_date_from_bangladesh}\r\n    const matchList = labelText.match(/\\${(.*[^}])[\\}?]$/g);\r\n    if (matchList) {\r\n      matchList.forEach(tmpPlace => {\r\n        const customizedName = evaluator(tmpPlace, fieldTreeName);\r\n        if (customizedName != null && customizedName !== undefined) {\r\n          labelText = labelText.replace(tmpPlace, customizedName);\r\n        } else {\r\n          labelText = labelText.replace(tmpPlace, '');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return labelText;\r\n}\r\n\r\n/**\r\n * get the hint text of the fieldElement\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - field hint text\r\n */\r\nexport function getFieldHintText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.hint) {\r\n    return getTextFromProperty(fieldElement.hint, languageIdentifier);\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the label text of the fieldElement constraint msg\r\n * @param {FieldElement} fieldElement - the fieldElement Object\r\n * @return {string} - constraint label text\r\n */\r\nexport function getConstraintLabelText(\r\n  fieldElement: FieldElement,\r\n  languageIdentifier: string\r\n) {\r\n  if (fieldElement.bind && fieldElement.bind['jr:constraintMsg']) {\r\n    return getTextFromProperty(\r\n      fieldElement.bind['jr:constraintMsg'],\r\n      languageIdentifier\r\n    );\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * get the boolean result depending on the expression\r\n * @param {string} - required string\r\n * @returns {boolean} - true if required, otherwise false\r\n */\r\nfunction requiredEvaluator(expression: string): boolean {\r\n  if (\r\n    expression.toLowerCase() === 'yes' ||\r\n    expression === '1' ||\r\n    expression.toLowerCase() === 'true'\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * get the boolean result of fieldElement string\r\n * @param fieldElement\r\n * @return {boolean} - boolean value by calculating fieldElement required properties\r\n */\r\nexport function isInputRequired(fieldElement: FieldElement): boolean {\r\n  let isRequired = false;\r\n  if (fieldElement.bind) {\r\n    if (fieldElement.bind.required) {\r\n      if (\r\n        typeof fieldElement.bind.required === 'string' &&\r\n        requiredEvaluator(fieldElement.bind.required)\r\n      ) {\r\n        isRequired = true;\r\n      }\r\n    }\r\n  }\r\n  return isRequired;\r\n}\r\n\r\n/** interface for EvaluateExpression\r\n * @param {string} expression - the expression that needs to be evaluated\r\n * @param {fieldTreeName} - the field Tree name\r\n * @returns {any} - evaluated value\r\n */\r\nexport type EvaluateExpression = (\r\n  expression: string,\r\n  fieldTreeName: string\r\n) => any;\r\n\r\n/** evaluates whether a component be relevant or not\r\n * @param {FieldElement} fieldElement - the expression that needs to be evaluated\r\n * @param {string} fieldParentTreeName- the field Parent Tree name\r\n * @param {EvaluateExpression} evaluateExpression- an handler to evaluate the relevant expression\r\n * @returns {boolean} - true if relevant; otherwise, false;\r\n */\r\nexport function shouldComponentBeRelevant(\r\n  fieldElement: FieldElement,\r\n  fieldParentTreeName: string,\r\n  evaluateExpression: EvaluateExpression\r\n): boolean {\r\n  if (fieldElement && fieldElement.bind && fieldElement.bind.relevant) {\r\n    const isRelevant = evaluateExpression(\r\n      fieldElement.bind.relevant,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isRelevant) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n/** evaluates whether a component be readonly or not\r\n * @param {FieldElement} fieldElement - the expression that needs to be evaluated\r\n * @param {string} fieldParentTreeName- the field Parent Tree name\r\n * @param {EvaluateExpression} evaluateExpression- an handler to evaluate the readonly expression\r\n * @returns {boolean} - true if readonly; otherwise, false;\r\n */\r\nexport function shouldComponentBeReadOnly(\r\n  fieldElement: FieldElement,\r\n  fieldParentTreeName: string,\r\n  evaluateExpression: EvaluateExpression\r\n): boolean {\r\n  if (fieldElement && fieldElement.bind && fieldElement.bind.readonly) {\r\n    const isReadOnly = evaluateExpression(\r\n      fieldElement.bind.readonly,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isReadOnly) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return false;\r\n}\r\n\r\n/** evaluates whether the input violates constraint or not\r\n * @param {FieldElement} fieldElement - the constraint expression\r\n * @param {string} fieldParentTreeName- the field Parent Tree name\r\n * @param {EvaluateExpression} evaluateExpression- an handler to evaluate the expression\r\n * @returns {boolean} - true if violates; otherwise, false;\r\n */\r\nexport function shouldInputViolatesConstraint(\r\n  fieldElement: FieldElement,\r\n  fieldParentTreeName: string,\r\n  evaluateExpression: EvaluateExpression\r\n): boolean {\r\n  if (fieldElement && fieldElement.bind && fieldElement.bind.constraint) {\r\n    const isConstraintViolated = !evaluateExpression(\r\n      fieldElement.bind.constraint,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isConstraintViolated) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  return false;\r\n}\r\n\r\n/** returns the new user input object after assigning value of passed fieldTreeName\r\n * @param {any} userInputObj - the current user input object\r\n * @param {string} fieldTreeName - the field Tree name\r\n * @param {any} fieldValue - the value that needs to be assigned\r\n * @returns {any} - the new user input object after assignment\r\n */\r\nexport function getModifiedUserInputObject(\r\n  userInputObj: any,\r\n  fieldTreeName: string,\r\n  fieldValue: any\r\n): any {\r\n  const treeNodes = fieldTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  modifiedObj[parent + treeNodes[treeNodes.length - 1]] = fieldValue;\r\n  return userInputObj;\r\n}\r\n\r\n/** Returns the filtered option list Array For Repeat property\r\n * @param {any} userInputObj - the current option list object\r\n * @param {string} fieldTreeName - the field Tree name\r\n * @param {any} repeatIndex - the repeat index to remove\r\n * @returns {any} - the new user filredred repear array after assignment\r\n */\r\nexport function getModifiedOptionListForRepeat(\r\n  userInputObj: any,\r\n  fieldTreeName: string,\r\n  repeatIndex: number\r\n): any {\r\n  const filteredRepeatArray: any = [];\r\n  const optionListobj: any = userInputObj;\r\n\r\n  Object.entries(optionListobj).forEach(key => {\r\n    const keyNameOptionListobj: any = key[0];\r\n    const keyValueOptionListobj: any = key[1];\r\n    if (keyNameOptionListobj === fieldTreeName) {\r\n      const repeatIndexString: string = String(repeatIndex);\r\n      Object.entries(keyValueOptionListobj).map(keyRepeat => {\r\n        const keyNameRepeatObject: any = keyRepeat[0];\r\n        const keyValueRepeatValue: any = keyRepeat[1];\r\n        if (keyNameRepeatObject !== repeatIndexString) {\r\n          filteredRepeatArray.push(keyValueRepeatValue);\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return filteredRepeatArray;\r\n}\r\n\r\n/** returns the value from the user input object\r\n * @param {any} userInputObj - the user input object\r\n * @param {string} fieldTreeName - the field Tree name\r\n * @returns {any} - the value, present in user input object, of the fieldTreeName\r\n */\r\nexport function getValueFromUserInputObj(\r\n  userInputObj: any,\r\n  fieldTreeName: string\r\n): any {\r\n  const treeNodes = fieldTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  return modifiedObj[parent + treeNodes[treeNodes.length - 1]];\r\n}\r\n\r\n/** evaluates whether the component is minimal or not\r\n * @param {FieldElement} fieldElement - the constraint expression\r\n * @returns {boolean} - true if minimal; otherwise, false;\r\n */\r\nexport function shouldComponentBeMinimal(fieldElement: FieldElement): boolean {\r\n  let isMinimal = false;\r\n  if (fieldElement.control && fieldElement.control.appearance) {\r\n    fieldElement.control.appearance.toString().includes('minimal')\r\n      ? (isMinimal = true)\r\n      : (isMinimal = false);\r\n  }\r\n  return isMinimal;\r\n}\r\n\r\n/** returns the new user input object after emptying the desired grouped values\r\n * @param {any} userInputObj - the current user input object\r\n * @param {string} groupTreeName - the group Tree name\r\n * @returns {any} - the new user input object after emptying the grouped values\r\n */\r\nexport function emptyGroupedValues(\r\n  userInputObj: any,\r\n  groupTreeName: string\r\n): any {\r\n  const treeNodes = groupTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  Object.keys(modifiedObj).forEach(objKey => {\r\n    if (objKey.startsWith(parent + treeNodes[treeNodes.length - 1])) {\r\n      modifiedObj[objKey] = null;\r\n    }\r\n  });\r\n  return userInputObj;\r\n}\r\n\r\n/** returns whether the grouped values are empty or not\r\n * @param {any} userInputObj - the current user input object\r\n * @param {string} groupTreeName - the group Tree name\r\n * @returns {any} - true if empty; otherwise, false\r\n */\r\nexport function checkGroupedValuesForEmpty(\r\n  userInputObj: any,\r\n  groupTreeName: string\r\n): any {\r\n  const treeNodes = groupTreeName.split('/');\r\n  let i;\r\n  let parent = '';\r\n  let modifiedObj = userInputObj;\r\n  for (i = 0; i < treeNodes.length - 1; ) {\r\n    if (treeNodes[i] === 'repeat') {\r\n      i += 1;\r\n      if (parent + treeNodes[i] in modifiedObj) {\r\n        modifiedObj = modifiedObj[parent + treeNodes[i]];\r\n      } else {\r\n        modifiedObj[parent + treeNodes[i]] = [];\r\n      }\r\n      const index = parseInt(treeNodes[i + 1], 10);\r\n      if (modifiedObj[index]) {\r\n        modifiedObj = modifiedObj[index];\r\n      } else {\r\n        modifiedObj[index] = {};\r\n        modifiedObj = modifiedObj[index];\r\n      }\r\n      parent = parent + treeNodes[i] + '/';\r\n      i += 2;\r\n    } else {\r\n      parent = parent + treeNodes[i + 1] + '/';\r\n      i += 2;\r\n    }\r\n  }\r\n  let isEmpty: boolean = true;\r\n  Object.keys(modifiedObj).forEach(objKey => {\r\n    if (objKey.startsWith(parent + treeNodes[treeNodes.length - 1])) {\r\n      if (\r\n        modifiedObj[objKey] !== null &&\r\n        modifiedObj[objKey] !== undefined &&\r\n        isEmpty\r\n      ) {\r\n        isEmpty = false;\r\n      }\r\n    }\r\n  });\r\n  return isEmpty;\r\n}\r\n","import { AnyAction, Store } from 'redux';\r\nimport SeamlessImmutable from 'seamless-immutable';\r\nimport evaluater from '../../utils/compiler';\r\nimport {\r\n  checkGroupedValuesForEmpty,\r\n  emptyGroupedValues,\r\n  getModifiedOptionListForRepeat,\r\n  getModifiedUserInputObject,\r\n  getValueFromUserInputObj,\r\n} from '../../utils/helpers';\r\n\r\n/** interface for the store state */\r\nexport interface FormState {\r\n  userInput: object;\r\n  errors: string[];\r\n  optionList: object;\r\n  isFormSubmitted: boolean;\r\n  mediaList: object;\r\n  language: string;\r\n}\r\n\r\n// actions\r\n\r\n/** FIELD_VALUE_ASSIGNED action type */\r\nexport const FIELD_VALUE_ASSIGNED = 'odk/reducer/form/FIELD_VALUE_ASSIGNED';\r\n/** OPTION_LIST_ASSIGNED action type */\r\nexport const OPTION_LIST_ASSIGNED = 'odk/reducer/form/OPTION_LIST_ASSIGNED';\r\n/** MEDIA_LIST_ASSIGNED action type */\r\nexport const MEDIA_LIST_ADDED = 'odk/reducer/form/MEDIA_LIST_ADDED';\r\n/** REMOVE_FROM_MEDIA_LIST action type */\r\nexport const REMOVE_FROM_MEDIA_LIST = 'odk/reducer/form/REMOVE_FROM_MEDIA_LIST';\r\n/** REMOVE_FROM_OPTION_LIST action type */\r\nexport const REMOVE_FROM_OPTION_LIST_REPEAT =\r\n  'odk/reducer/form/REMOVE_FROM_OPTION_LIST_REPEAT';\r\n/** RESET_STORE action type */\r\nexport const RESET_STORE = 'odk/reducer/form/RESET_STORE';\r\n/** ADD_ERROR_INPUT_ID action type */\r\nexport const ADD_ERROR_INPUT_ID = 'odk/reducer/form/ADD_ERROR_INPUT_ID';\r\n/** REMOVE_ERROR_INPUT_ID action type */\r\nexport const REMOVE_ERROR_INPUT_ID = 'odk/reducer/form/REMOVE_ERROR_INPUT_ID';\r\n/** EMPTY_GROUP_FIELDS */\r\nexport const EMPTY_GROUP_FIELDS = 'odk/reducer/form/EMPTY_GROUP_FIELDS';\r\n/** REMOVE_GROUP_FIELDS_FROM_ERRORS */\r\nexport const REMOVE_GROUP_FIELDS_FROM_ERRORS =\r\n  'odk/reducer/form/REMOVE_GROUP_FIELDS_FROM_ERRORS';\r\nexport const SET_USER_INPUT_OBJ = 'odk/reducer/form/SET_USER_INPUT_OBJ';\r\nexport const SET_CSV_OBJ = 'odk/reducer/form/SET_CSV_OBJ';\r\nexport const SET_FORM_SUBMIT_STATUS = 'odk/reducer/form/SET_FORM_SUBMIT_STATUS';\r\nexport const SET_LANGUAGE = 'odk/reducer/form/SET_LANGUAGE';\r\n\r\n/** interface for ASSIGN_FIELD_VALUE action */\r\nexport interface AssignFieldValueAction extends AnyAction {\r\n  fieldTreeName: string;\r\n  fieldValue: any;\r\n  type: typeof FIELD_VALUE_ASSIGNED;\r\n}\r\n\r\n/** interface for OPTION_LIST_ASSIGNED action */\r\nexport interface AssignOptionListAction extends AnyAction {\r\n  fieldTreeName: string;\r\n  optionList: any;\r\n  type: typeof OPTION_LIST_ASSIGNED;\r\n}\r\n\r\n/** interface for MEDIA_LIST_ADDED action */\r\nexport interface AddMediaListAction extends AnyAction {\r\n  mediaObject: any;\r\n  type: typeof MEDIA_LIST_ADDED;\r\n}\r\n\r\n/** interface for REMOVE_FROM_MEDIA_LIST action */\r\nexport interface RemoveFromMediaListAction extends AnyAction {\r\n  fieldTreeName: string;\r\n  mediaList: any;\r\n  type: typeof REMOVE_FROM_MEDIA_LIST;\r\n}\r\n\r\n/** interface for REMOVE_FROM_OPTION_LIST action */\r\nexport interface RemoveFromOptionList extends AnyAction {\r\n  fieldTreeName: string;\r\n  repeatIndex: number;\r\n  type: typeof REMOVE_FROM_OPTION_LIST_REPEAT;\r\n}\r\n\r\n/** interface for RESET_STORE action */\r\nexport interface ResetStoreAction extends AnyAction {\r\n  type: typeof RESET_STORE;\r\n}\r\n\r\n/** interface for ADD_ERROR_INPUT_ID action */\r\nexport interface AddErrorInputId extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof ADD_ERROR_INPUT_ID;\r\n}\r\n\r\n/** interface for REMOVE_ERROR_INPUT_ID action */\r\nexport interface RemoveErrorInputId extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof REMOVE_ERROR_INPUT_ID;\r\n}\r\n\r\n/** interface for EMPTY_GROUP_FIELDS action */\r\nexport interface EmptyGroupFields extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof EMPTY_GROUP_FIELDS;\r\n}\r\n\r\n/** interface for REMOVE_GROUP_FIELDS_FROM_ERRORS action */\r\nexport interface RemoveGroupFieldsFromErrors extends AnyAction {\r\n  fieldTreeName: string;\r\n  type: typeof REMOVE_GROUP_FIELDS_FROM_ERRORS;\r\n}\r\n\r\n/** interface for SET_USER_INPUT_OBJ action */\r\nexport interface SetUserInputObj extends AnyAction {\r\n  userInputObj: any;\r\n  type: typeof SET_USER_INPUT_OBJ;\r\n}\r\n\r\n/** interface for SET_CSV_OBJ action */\r\nexport interface SetCSVObj extends AnyAction {\r\n  csvObj: any;\r\n  type: typeof SET_CSV_OBJ;\r\n}\r\n/** interface for SET_LANGUAGE action */\r\nexport interface SetLanguage extends AnyAction {\r\n  language: string;\r\n  type: typeof SET_LANGUAGE;\r\n}\r\n\r\n/** interface for SET_FORM_SUBMIT_STATUS action */\r\nexport interface SetFormSubmitStatus extends AnyAction {\r\n  isFormSubmitted: boolean;\r\n  type: typeof SET_FORM_SUBMIT_STATUS;\r\n}\r\n\r\n/** Assigns the value to the proper field name\r\n * @param {string} fieldTreeName - the extended field name\r\n * @param {any} fieldValue - the value that will be assigned\r\n * @return {AssignFieldValueAction} - an action to assign value to a field in the redux store\r\n */\r\nexport const assignFieldValueAction = (\r\n  fieldTreeName: string,\r\n  fieldValue: any\r\n): AssignFieldValueAction => ({\r\n  fieldTreeName,\r\n  fieldValue,\r\n  type: FIELD_VALUE_ASSIGNED,\r\n});\r\n\r\n/** Assigns option list to the proper field name\r\n * @param {string} fieldTreeName - the extended field name\r\n * @param {any} optionList - the option list that will be assigned\r\n * @return {AssignOptionListAction} - an action to assign option List to a field in the redux store\r\n */\r\nexport const assignOptionListAction = (\r\n  fieldTreeName: string,\r\n  optionList: any\r\n): AssignOptionListAction => ({\r\n  fieldTreeName,\r\n  optionList,\r\n  type: OPTION_LIST_ASSIGNED,\r\n});\r\n\r\n/** Remove option list from Redux Store\r\n * @param fieldTreeName - the field tree name\r\n * @returns {RemoveFromOptionList} - an action to remove input id for errors\r\n */\r\nexport const RemoveFromOptionList = (\r\n  fieldTreeName: string,\r\n  repeatIndex: number\r\n): RemoveFromOptionList => ({\r\n  fieldTreeName,\r\n  repeatIndex,\r\n  type: REMOVE_FROM_OPTION_LIST_REPEAT,\r\n});\r\n\r\n/** Adds media object to the proper field name\r\n * @param {any} mediaObject - the media object that will be added\r\n * @return {AddMediaListAction} - an action to assign media object to a field in the redux store\r\n */\r\nexport const addMediaListAction = (mediaObject: any): AddMediaListAction => ({\r\n  mediaObject,\r\n  type: MEDIA_LIST_ADDED,\r\n});\r\n\r\n/** Remove a media item in option list from Redux Store\r\n * @param fieldTreeName - the field tree name\r\n * @returns {RemoveFromMediaListAction} - an action to remove media info from redux store\r\n */\r\nexport const removeFromMediaListAction = (\r\n  fieldTreeName: string,\r\n  mediaList: any\r\n): RemoveFromMediaListAction => ({\r\n  fieldTreeName,\r\n  mediaList,\r\n  type: REMOVE_FROM_MEDIA_LIST,\r\n});\r\n\r\n/** Resets the redux store state to initial state\r\n * @return {ResetStoreAction} - an action to reset the redux store state\r\n */\r\nexport const resetStoreAction = (): ResetStoreAction => ({\r\n  type: RESET_STORE,\r\n});\r\n\r\n/** add the field tree name as error id to store in redux store that violates constraints\r\n * @param fieldTreeName - the field tree name\r\n * @returns {AddErrorInputId} - an action to add input id for errors\r\n */\r\nexport const addErrorInputId = (fieldTreeName: string): AddErrorInputId => ({\r\n  fieldTreeName,\r\n  type: ADD_ERROR_INPUT_ID,\r\n});\r\n\r\n/** remove the field tree name as error id to store in redux store that violates constraints\r\n * @param fieldTreeName - the field tree name\r\n * @returns {RemoveErrorInputId} - an action to remove input id for errors\r\n */\r\nexport const removeErrorInputId = (\r\n  fieldTreeName: string\r\n): RemoveErrorInputId => ({\r\n  fieldTreeName,\r\n  type: REMOVE_ERROR_INPUT_ID,\r\n});\r\n\r\n/** empties the values of the fields of the group\r\n * @param fieldTreeName - the group field tree name\r\n * @returns {RemoveErrorInputId} - an action to empty the group field values\r\n */\r\nexport const emptyGroupFields = (fieldTreeName: string): EmptyGroupFields => ({\r\n  fieldTreeName,\r\n  type: EMPTY_GROUP_FIELDS,\r\n});\r\n\r\n/** removes the group field names from store errors obj\r\n * @param {string} fieldTreeName - the group field tree name\r\n * @returns {RemoveGroupFieldsFromErrors} - an action to remove group field names from errors\r\n */\r\nexport const removeGroupFieldsFromErrors = (\r\n  fieldTreeName: string\r\n): RemoveGroupFieldsFromErrors => ({\r\n  fieldTreeName,\r\n  type: REMOVE_GROUP_FIELDS_FROM_ERRORS,\r\n});\r\n\r\n/** sets the user input object to redux store\r\n * @param {any} userInputObj - the user input obj\r\n * @returns {SetUserInputObj} - an action to set user input to redux store\r\n */\r\nexport const setUserInputObj = (userInputObj: any): SetUserInputObj => ({\r\n  type: SET_USER_INPUT_OBJ,\r\n  userInputObj,\r\n});\r\n\r\n/** sets the csv object to redux store\r\n * @param {any} userInputObj - the user input obj\r\n * @returns {SetUserInputObj} - an action to set user input to redux store\r\n */\r\n export const setCSVObj = (csvObj: any): SetCSVObj => ({\r\n  type: SET_CSV_OBJ,\r\n  csvObj,\r\n});\r\n\r\n/** sets the language to redux store\r\n * @param {string} language - the user input obj\r\n * @returns {SetLanguage} - an action to set user input to redux store\r\n */\r\nexport const setUserLanguage = (language: string): SetLanguage => ({\r\n  type: SET_LANGUAGE,\r\n  language,\r\n});\r\n\r\n/** sets the form submit info to redux store\r\n * @param {boolean} isFormSubmitted - the form submit info variable\r\n * @returns {SetFormSubmitInfo} - an action to set form submit info to redux store\r\n */\r\nexport const setFormSubmitStatus = (\r\n  isFormSubmitted: boolean\r\n): SetFormSubmitStatus => ({\r\n  isFormSubmitted,\r\n  type: SET_FORM_SUBMIT_STATUS,\r\n});\r\n\r\n/** Create type for forms reducer actions */\r\nexport type FormActionTypes =\r\n  | AssignFieldValueAction\r\n  | AssignOptionListAction\r\n  | RemoveFromOptionList\r\n  | AddMediaListAction\r\n  | RemoveFromMediaListAction\r\n  | ResetStoreAction\r\n  | AddErrorInputId\r\n  | RemoveErrorInputId\r\n  | EmptyGroupFields\r\n  | RemoveGroupFieldsFromErrors\r\n  | SetUserInputObj\r\n  | SetCSVObj\r\n  | SetFormSubmitStatus\r\n  | AnyAction;\r\n\r\n/** Create an immutable form state */\r\nexport type ImmutableFormState = SeamlessImmutable.ImmutableObject<FormState>;\r\n\r\n/** initial form state */\r\nexport const initialState: ImmutableFormState = SeamlessImmutable({\r\n  errors: [],\r\n  isFormSubmitted: false,\r\n  mediaList: {},\r\n  optionList: {},\r\n  userInput: {},\r\n  language: 'English',\r\n  csvList: {},\r\n});\r\n\r\n/** the form reducer function */\r\nexport default function reducer(\r\n  state: ImmutableFormState = initialState,\r\n  action: FormActionTypes\r\n): ImmutableFormState {\r\n  switch (action.type) {\r\n    case FIELD_VALUE_ASSIGNED:\r\n      const modifiedUserInputObj = getModifiedUserInputObject(\r\n        state.getIn(['userInput']).asMutable({ deep: true }),\r\n        action.fieldTreeName,\r\n        action.fieldValue\r\n      );\r\n      const stateM = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({ ...stateM, userInput: modifiedUserInputObj });\r\n\r\n    case OPTION_LIST_ASSIGNED:\r\n      const modifiedUserInputObjList = getModifiedUserInputObject(\r\n        state.getIn(['optionList']).asMutable({ deep: true }),\r\n        action.fieldTreeName,\r\n        action.optionList != null ? { ...action.optionList } : null\r\n      );\r\n      const newState = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({\r\n        ...newState,\r\n        optionList: modifiedUserInputObjList,\r\n      });\r\n\r\n    case REMOVE_FROM_OPTION_LIST_REPEAT:\r\n      let filteredRepeatArray: any = [];\r\n      if (\r\n        state\r\n          .getIn(['optionList'])\r\n          .asMutable({ deep: true })\r\n          .hasOwnProperty(action.fieldTreeName)\r\n      ) {\r\n        filteredRepeatArray = [\r\n          ...getModifiedOptionListForRepeat(\r\n            state.getIn(['optionList']).asMutable({ deep: true }),\r\n            action.fieldTreeName,\r\n            action.repeatIndex\r\n          ),\r\n        ];\r\n        const modifiedOptionListRepeat = getModifiedUserInputObject(\r\n          state.getIn(['optionList']).asMutable({ deep: true }),\r\n          action.fieldTreeName,\r\n          { ...filteredRepeatArray }\r\n        );\r\n        const newStateForRepeat = state.asMutable({ deep: true });\r\n        return SeamlessImmutable({\r\n          ...newStateForRepeat,\r\n          optionList: modifiedOptionListRepeat,\r\n        });\r\n      }\r\n      return state;\r\n\r\n    case MEDIA_LIST_ADDED:\r\n      const modifiedMediaList = {\r\n        ...state.getIn(['mediaList']).asMutable({ deep: true }),\r\n        [action.mediaObject.name]: action.mediaObject,\r\n      };\r\n      const newMediaState = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({\r\n        ...newMediaState,\r\n        mediaList: modifiedMediaList,\r\n      });\r\n\r\n    case REMOVE_FROM_MEDIA_LIST:\r\n      if (\r\n        state\r\n          .getIn(['mediaList'])\r\n          .asMutable({ deep: true })\r\n          .hasOwnProperty(action.fieldTreeName)\r\n      ) {\r\n        // const tempMediaState = state.asMutable({ deep: true });\r\n        // return SeamlessImmutable({\r\n        //   ...tempMediaState,\r\n        //   mediaList: modifiedMediaObject,\r\n        // });\r\n      }\r\n      return state;\r\n\r\n    case RESET_STORE:\r\n      return initialState;\r\n\r\n    case ADD_ERROR_INPUT_ID:\r\n      if (!state.errors.includes(action.fieldTreeName)) {\r\n        return state.updateIn(['errors'], arr =>\r\n          arr.concat([action.fieldTreeName])\r\n        );\r\n      }\r\n      return state;\r\n\r\n    case REMOVE_ERROR_INPUT_ID:\r\n      if (state.errors.includes(action.fieldTreeName)) {\r\n        return state.updateIn(['errors'], arr =>\r\n          arr.filter(elm => elm !== action.fieldTreeName)\r\n        );\r\n      }\r\n      return state;\r\n\r\n    case EMPTY_GROUP_FIELDS:\r\n      const mUserInputObj = emptyGroupedValues(\r\n        state.getIn(['userInput']).asMutable({ deep: true }),\r\n        action.fieldTreeName\r\n      );\r\n      const mState = state.asMutable({ deep: true });\r\n      return SeamlessImmutable({ ...mState, userInput: mUserInputObj });\r\n\r\n    case REMOVE_GROUP_FIELDS_FROM_ERRORS:\r\n      return state.updateIn(['errors'], arr =>\r\n        arr.filter(elm => !elm.startsWith(action.fieldTreeName))\r\n      );\r\n\r\n    case SET_USER_INPUT_OBJ:\r\n      return SeamlessImmutable({\r\n        ...state,\r\n        userInput: (action as any).userInputObj,\r\n      });\r\n\r\n    case SET_CSV_OBJ:\r\n      return SeamlessImmutable({\r\n        ...state,\r\n        csvList: (action as any).csvObj,\r\n      });\r\n      \r\n    case SET_FORM_SUBMIT_STATUS:\r\n      return SeamlessImmutable({\r\n        ...state,\r\n        isFormSubmitted: (action as any).isFormSubmitted,\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// selectors\r\n\r\n/** get the value by their respective element tree name\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} value if the element name is found else null\r\n */\r\nexport function getFieldValue(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return getValueFromUserInputObj(\r\n    (state as any) != undefined && (state as any).getIn(['userInput']).asMutable({ deep: true }),\r\n    fieldTreeName\r\n  );\r\n}\r\n\r\n/** get option list by their respective element tree name\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} value if the element name is found else null\r\n */\r\nexport function getOptionList(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return getValueFromUserInputObj(\r\n    (state as any) != undefined && (state as any).getIn(['optionList']).asMutable({ deep: true }),\r\n    fieldTreeName\r\n  );\r\n}\r\n\r\n/** get the value of the evaluated expression\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} expression - the expression that needs to be evaluated\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} - the evaluated value or null if syntax error\r\n */\r\nexport function getEvaluatedExpression(\r\n  state: Partial<Store>,\r\n  expression: string,\r\n  fieldTreeName: string\r\n): any {\r\n  return evaluater(expression, (state as any) != undefined && (state as any).userInput, null, fieldTreeName);\r\n}\r\n\r\n/** get the value of the evaluated expression for Select One and Select All\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} expression - the expression that needs to be evaluated\r\n * @param {any} options - the options that needs to be evaluated\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {any | null} - the evaluated value or null if syntax error\r\n */\r\nexport function getEvaluatedExpressionForSelect(\r\n  state: Partial<Store>,\r\n  expression: string,\r\n  options: any,\r\n  fieldTreeName: string\r\n): any {\r\n  return evaluater(\r\n    expression,\r\n    (state as any).userInput,\r\n    options,\r\n    fieldTreeName\r\n  );\r\n}\r\n\r\n/** check if the field element is present in the store\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the field\r\n * @return {boolean} true if present; otherwise, false\r\n */\r\nexport function isPresentInError(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return  (state as any) != undefined && (state as any).errors.includes(fieldTreeName);\r\n}\r\n\r\n/** check if the field elements under group are empty or not\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the group field\r\n * @return {boolean} true if empty; otherwise, false\r\n */\r\nexport function isGroupFieldsEmpty(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  return checkGroupedValuesForEmpty( (state as any) != undefined && (state as any).userInput, fieldTreeName);\r\n}\r\n\r\n/** check if the field elements under group are present in errors or not\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fieldTreeName - the hierchical tree name of the group field\r\n * @return {boolean} true if present; otherwise, false\r\n */\r\nexport function isErrorsIncludeGroupFields(\r\n  state: Partial<Store>,\r\n  fieldTreeName: string\r\n): any {\r\n  let isPresent = false;\r\n  (state as any).errors.forEach((fTName: string) => {\r\n    if (fTName.startsWith(fieldTreeName) && !isPresent) {\r\n      isPresent = true;\r\n    }\r\n  });\r\n  return isPresent;\r\n}\r\n\r\n/** check if the errors array in store empty or not\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} true if empty; otherwise, false\r\n */\r\nexport function isErrorsArrayEmpty(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).errors && (state as any).errors.length ? false : true;\r\n}\r\n\r\n/** get the userInput object from store\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} the current userInputObject\r\n */\r\nexport function getUserInputFromStore(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).getIn(['userInput']).asMutable({ deep: true });\r\n}\r\n\r\n/** get the userInput object from store\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} the current userInputObject\r\n */\r\n export function getCSVFromStore(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).getIn(['csvList']).asMutable({ deep: true });\r\n}\r\n\r\n\r\n/** get the userInput object from store\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {boolean} the current isFormSubmitted\r\n */\r\nexport function getFormSubmitStatus(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).isFormSubmitted;\r\n}\r\n\r\n/** get the file if present in store\r\n * @param {Partial<Store>} state - the redux store\r\n * @param {string} fileName - the fileName\r\n * @return {any} - the file or null\r\n */\r\nexport function getFileObject(state: Partial<Store>, fileName: string): any {\r\n  const fileObject = (state as any).getIn(['mediaList', fileName]);\r\n  return fileObject ? (state as any).getIn(['mediaList', fileName]) : null;\r\n}\r\n\r\n/** get all the files\r\n * @param {Partial<Store>} state - the redux store\r\n * @return {any} - the files or empty object\r\n */\r\nexport function getAllFileObjects(state: Partial<Store>): any {\r\n  return (state as any) != undefined && (state as any).getIn(['mediaList']);\r\n}\r\n","import { createStyles, Theme } from '@material-ui/core';\r\n\r\nconst GroupStyle = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      '&.MuiAccordionSummary-root': {\r\n        borderTop: `5px solid ${theme.palette.primary.dark}`,\r\n        color: `${theme.palette.primary.dark} !important`,\r\n        '&:hover': {\r\n          backgroundColor: `${theme.palette.primary.dark} !important`,\r\n          color: `${theme.palette.secondary.light} !important`,\r\n        },\r\n        '&.Mui-expanded': {\r\n          backgroundColor: `${theme.palette.primary.dark} !important`,\r\n          color: `${theme.palette.secondary.light} !important`,\r\n        },\r\n      },\r\n    },\r\n    backgroundProp: {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      display: 'block'\r\n    },\r\n    insideBackground: {\r\n      backgroundColor: 'white'\r\n    },\r\n    borderProp: {\r\n      boxShadow: `inset 0 0 2px ${theme.palette.primary.light}`,\r\n      backgroundColor: 'white',\r\n      marginTop: 10,\r\n      marginBottom: 5,\r\n      padding: 10,\r\n\r\n    },\r\n    toolbarIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end',\r\n      padding: '0 8px',\r\n      ...theme.mixins.toolbar,\r\n      '& button': {\r\n        color: '#FFF',\r\n      },\r\n    },\r\n    drawerPaperClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      width: theme.spacing(7),\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(9),\r\n      },\r\n      background: theme.palette.primary.dark,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    listItem: {\r\n      width: '94%',\r\n      background: theme.palette.primary.main,\r\n      color: '#FFF',\r\n      marginTop: '2px',\r\n      marginLeft: '8px',\r\n      marginRight: '2px',\r\n      borderRadius: '3px',\r\n      '&:hover': {\r\n        background: theme.palette.primary.light,\r\n      },\r\n    },\r\n    listItemIcon: {\r\n      color: '#FFF',\r\n    },\r\n    listItemActive: {\r\n      width: '94%',\r\n      background: theme.palette.primary.light,\r\n      color: '#FFF',\r\n      marginTop: '2px',\r\n      marginLeft: '8px',\r\n      marginRight: '2px',\r\n      borderRadius: '3px',\r\n      '&:hover': {\r\n        background: theme.palette.primary.light,\r\n      },\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(4),\r\n      color: '#FFF',\r\n    },\r\n    navlogo: {\r\n      width: '40%',\r\n      margin: '0 auto',\r\n      padding: 3,\r\n      backgroundColor: '#FFF',\r\n      borderRadius: 5,\r\n    },\r\n    listParent: {\r\n      color: theme.palette.common.white,\r\n      '&.MuiListItem-root': {\r\n        color: theme.palette.common.white,\r\n        '&.Mui-selected': { color: theme.palette.common.white, backgroundColor: theme.palette.primary.main },\r\n        '&:hover': {\r\n          color: theme.palette.common.white,\r\n          backgroundColor: theme.palette.primary.dark,\r\n        },\r\n      },\r\n    },\r\n    drawerClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        duration: theme.transitions.duration.leavingScreen,\r\n        easing: theme.transitions.easing.sharp,\r\n      }),\r\n      width: theme.spacing(7) + 1,\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(7) + 1,\r\n      },\r\n      background: theme.palette.primary.dark,\r\n    },\r\n    drawerOpen: {\r\n      '&:hover': {\r\n        overflowY: 'auto',\r\n      },\r\n      overflowY: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        duration: theme.transitions.duration.enteringScreen,\r\n        easing: theme.transitions.easing.sharp,\r\n      }),\r\n    },\r\n  });\r\n\r\nexport default GroupStyle;\r\n","import { Accordion, AccordionDetails, AccordionSummary } from '@material-ui/core';\r\nimport { useTheme } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport GroupTypeEvaluator from '../../../../components/typeEvalutors/Group';\r\nimport {\r\n  emptyGroupFields,\r\n  getEvaluatedExpression,\r\n  isErrorsIncludeGroupFields,\r\n  isGroupFieldsEmpty,\r\n  removeGroupFieldsFromErrors,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  getFieldLabelText,\r\n  shouldComponentBeRelevant,\r\n} from '../../../../utils/helpers';\r\nimport GroupStyle from './styles';\r\n\r\nexport interface GroupProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  emptyGroupFieldsActionCreator: typeof emptyGroupFields;\r\n  removeGroupFieldsFromErrorsActionCreator: typeof removeGroupFieldsFromErrors;\r\n}\r\n\r\nfunction Group(props: GroupProps) {\r\n  const {\r\n    choices,\r\n    csvList,\r\n    fieldElement,\r\n    fieldParentTreeName,\r\n    defaultLanguage,\r\n    isComponentRender,\r\n  } = props;\r\n  const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n  let isAppearanceApplicable = false;\r\n  if (fieldElement.control && fieldElement.control.appearance) {\r\n    if (/^w(\\d+)\\b/i.test(fieldElement.control.appearance)) {\r\n      isAppearanceApplicable = true;\r\n    }\r\n  }\r\n  const theme = useTheme();\r\n  const useStyles = makeStyles(GroupStyle(theme));\r\n  const classNames = useStyles();\r\n  if (\r\n    isComponentRender\r\n    && (fieldElement.control && fieldElement.control.bodyless\r\n      ? fieldElement.control.bodyless === false\r\n      : true)\r\n  ) {\r\n    return (\r\n      <Accordion defaultExpanded style={{ marginBottom: 10 }}>\r\n        <AccordionSummary\r\n          className={classNames.root}\r\n          expandIcon={<ExpandMoreIcon />}\r\n        >\r\n          <Typography>{fieldLabel}</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails className={classNames.backgroundProp}>\r\n          <FormGroup className={classNames.borderProp}>\r\n            {fieldElement.children && (\r\n              <GroupTypeEvaluator\r\n                choices={choices}\r\n                fieldElements={fieldElement.children}\r\n                fieldParentTreeName={`${fieldParentTreeName}group/${fieldElement.name}/`}\r\n                defaultLanguage={defaultLanguage}\r\n                csvList={csvList}\r\n                isAppearanceApplicable={isAppearanceApplicable}\r\n              />\r\n            )}\r\n          </FormGroup>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    );\r\n  }\r\n\r\n  if (\r\n    props.isErrorsIncludeGroupFieldsSelector(\r\n      `${fieldParentTreeName}group/${fieldElement.name}/`\r\n    )\r\n  ) {\r\n    props.removeGroupFieldsFromErrorsActionCreator(\r\n      `${fieldParentTreeName}group/${fieldElement.name}/`\r\n    );\r\n  }\r\n  if (\r\n    !props.isGroupFieldsEmptySelector(fieldParentTreeName + fieldElement.name)\r\n  ) {\r\n    props.emptyGroupFieldsActionCreator(\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isGroupFieldsEmptySelector = (fieldTreeName: string) =>\r\n    isGroupFieldsEmpty(state, fieldTreeName);\r\n  const isErrorsIncludeGroupFieldsSelector = (fieldTreeName: string) =>\r\n    isErrorsIncludeGroupFields(state, fieldTreeName);\r\n  const result = {\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isErrorsIncludeGroupFieldsSelector,\r\n    isGroupFieldsEmptySelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  emptyGroupFieldsActionCreator: emptyGroupFields,\r\n  removeGroupFieldsFromErrorsActionCreator: removeGroupFieldsFromErrors,\r\n};\r\n\r\n/** connect Group component to the redux store */\r\nconst ConnectedGroup = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Group);\r\n\r\nexport default ConnectedGroup;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport GroupTypeEvaluator from '../../../../../components/typeEvalutors/Group';\r\n\r\nexport interface SingleRepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  defaultLanguage: string;\r\n  repeatIndex: number;\r\n  assignmentHandler: any;\r\n  removeHandler: any;\r\n  removeOptionHandler: any;\r\n  unControlFlag: boolean;\r\n}\r\n\r\nclass SingleRepeat extends React.Component<SingleRepeatProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      defaultLanguage,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      repeatIndex,\r\n      unControlFlag,\r\n    } = this.props;\r\n    let isAppearanceApplicable = false;\r\n    if (fieldElement.control && fieldElement.control.appearance) {\r\n      if (/^w(\\d+)\\b/i.test(fieldElement.control.appearance)) {\r\n        isAppearanceApplicable = true;\r\n      }\r\n    }\r\n    return (\r\n      <div className={'groupFormFieldBody'}>\r\n        {fieldElement.children && (\r\n          <GroupTypeEvaluator\r\n            choices={choices}\r\n            fieldElements={fieldElement.children}\r\n            fieldParentTreeName={\r\n              fieldParentTreeName +\r\n              'repeat/' +\r\n              fieldElement.name +\r\n              '/' +\r\n              repeatIndex +\r\n              '/'\r\n            }\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n            isAppearanceApplicable={isAppearanceApplicable}\r\n          />\r\n        )}\r\n\r\n        {unControlFlag === false ? (\r\n          <div className={'minusIconWrapper'}>\r\n            <span onClick={this.handleChange}>\r\n              <FontAwesomeIcon icon=\"minus-circle\" className={'minusIcon'} />\r\n            </span>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  private handleChange = (_event: React.MouseEvent<HTMLDivElement>) => {\r\n    const {\r\n      repeatIndex,\r\n      fieldValue,\r\n      assignmentHandler,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      removeHandler,\r\n      removeOptionHandler,\r\n    } = this.props;\r\n    let newFieldValue: any[] = [...fieldValue];\r\n    newFieldValue = newFieldValue.filter(\r\n      // tslint:disable-next-line: variable-name\r\n      (_elem, index) => index !== repeatIndex\r\n    );\r\n    assignmentHandler(fieldParentTreeName + fieldElement.name, newFieldValue);\r\n    removeHandler(fieldParentTreeName + 'repeat/' + fieldElement.name + '/');\r\n    removeOptionHandler(fieldParentTreeName + fieldElement.name, repeatIndex);\r\n  };\r\n}\r\n\r\nexport default SingleRepeat;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport {\r\n  assignFieldValueAction,\r\n  emptyGroupFields,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  isErrorsIncludeGroupFields,\r\n  isGroupFieldsEmpty,\r\n  RemoveFromOptionList,\r\n  removeGroupFieldsFromErrors,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  getFieldLabelText,\r\n  shouldComponentBeRelevant,\r\n} from '../../../../../utils/helpers';\r\nimport SingleRepeat from '.././Single Repeat';\r\n\r\nexport interface ControlledRepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldValue: any;\r\n  fieldParentTreeName: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  emptyGroupFieldsActionCreator: typeof emptyGroupFields;\r\n  removeGroupFieldsFromErrorsActionCreator: typeof removeGroupFieldsFromErrors;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  removeOptionListFromActionCreator: typeof RemoveFromOptionList;\r\n}\r\n\r\nclass ControlledRepeat extends React.Component<ControlledRepeatProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldValue,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n      isComponentRender,\r\n      assignFieldValueActionCreator,\r\n      removeGroupFieldsFromErrorsActionCreator,\r\n      removeOptionListFromActionCreator,\r\n    } = this.props;\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (!fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          [{}]\r\n        );\r\n      }\r\n\r\n      return (\r\n        <FormGroup className={'groupBody'}>\r\n          <Label>{fieldLabel}</Label>\r\n          {fieldValue &&\r\n            // tslint:disable-next-line: variable-name\r\n            fieldValue.map((_elm: any, index: any) => (\r\n              <div className=\"repeat-fields-body\" key={'repeat' + index}>\r\n                <SingleRepeat\r\n                  choices={choices}\r\n                  defaultLanguage={defaultLanguage}\r\n                  fieldElement={fieldElement}\r\n                  fieldParentTreeName={fieldParentTreeName}\r\n                  fieldValue={fieldValue}\r\n                  repeatIndex={index}\r\n                  assignmentHandler={assignFieldValueActionCreator}\r\n                  removeHandler={removeGroupFieldsFromErrorsActionCreator}\r\n                  removeOptionHandler={removeOptionListFromActionCreator}\r\n                  csvList={csvList}\r\n                  unControlFlag={false}\r\n                />\r\n              </div>\r\n            ))}\r\n          <div>\r\n            <span onClick={this.addAnotherRepeat}>\r\n              <FontAwesomeIcon icon=\"plus-circle\" className={'plusIcon'} />\r\n            </span>\r\n          </div>\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (\r\n        this.props.isErrorsIncludeGroupFieldsSelector(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        )\r\n      ) {\r\n        this.props.removeGroupFieldsFromErrorsActionCreator(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        );\r\n      }\r\n      if (fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  private addAnotherRepeat = (_event: React.MouseEvent<HTMLDivElement>) => {\r\n    const { fieldValue, fieldParentTreeName, fieldElement } = this.props;\r\n    const newFieldValue = [...fieldValue];\r\n    newFieldValue.push({});\r\n    this.props.assignFieldValueActionCreator(\r\n      fieldParentTreeName + fieldElement.name,\r\n      newFieldValue\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isGroupFieldsEmptySelector = (fieldTreeName: string) =>\r\n    isGroupFieldsEmpty(state, fieldTreeName);\r\n  const isErrorsIncludeGroupFieldsSelector = (fieldTreeName: string) =>\r\n    isErrorsIncludeGroupFields(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isErrorsIncludeGroupFieldsSelector,\r\n    isGroupFieldsEmptySelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  emptyGroupFieldsActionCreator: emptyGroupFields,\r\n  removeGroupFieldsFromErrorsActionCreator: removeGroupFieldsFromErrors,\r\n  removeOptionListFromActionCreator: RemoveFromOptionList,\r\n};\r\n\r\n/** connect Group component to the redux store */\r\nconst ConnectedControlledRepeat = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ControlledRepeat);\r\n\r\nexport default ConnectedControlledRepeat;\r\n","import _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport {\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  emptyGroupFields,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getOptionList,\r\n  isErrorsIncludeGroupFields,\r\n  isGroupFieldsEmpty,\r\n  RemoveFromOptionList,\r\n  removeGroupFieldsFromErrors,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  getFieldLabelText,\r\n  shouldComponentBeRelevant,\r\n} from '../../../../../utils/helpers';\r\nimport SingleRepeat from '.././Single Repeat';\r\n\r\nexport interface UncontrolledRepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldValue: any;\r\n  fieldParentTreeName: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  optionList: object;\r\n  emptyGroupFieldsActionCreator: typeof emptyGroupFields;\r\n  removeGroupFieldsFromErrorsActionCreator: typeof removeGroupFieldsFromErrors;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  removeOptionListFromActionCreator: typeof RemoveFromOptionList;\r\n}\r\n\r\nclass UncontrolledRepeat extends React.Component<UncontrolledRepeatProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldValue,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n      isComponentRender,\r\n      optionList,\r\n      assignFieldValueActionCreator,\r\n      removeGroupFieldsFromErrorsActionCreator,\r\n      removeOptionListFromActionCreator,\r\n    } = this.props;\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (!fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          []\r\n        );\r\n      }\r\n\r\n      let noOfJrCount: number = 0;\r\n\r\n      if (fieldElement.control) {\r\n        const jrCount: string = 'jr:count';\r\n        const res: any = fieldElement.control[jrCount];\r\n\r\n        if (/^[0-9]*$/i.test(res)) {\r\n          noOfJrCount = parseInt(res, 10);\r\n        } else {\r\n          const value: any = this.props.getEvaluatedExpressionSelector(\r\n            res,\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n          if (value) {\r\n            noOfJrCount = parseInt(value, 10);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (\r\n        fieldValue &&\r\n        fieldValue.length === 0 &&\r\n        noOfJrCount === 0 &&\r\n        this.props.isErrorsIncludeGroupFieldsSelector(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        )\r\n      ) {\r\n        this.props.removeGroupFieldsFromErrorsActionCreator(\r\n          fieldParentTreeName + 'repeat/' + fieldElement.name + '/'\r\n        );\r\n      }\r\n\r\n      if (fieldValue && fieldValue.length > 0 && noOfJrCount === 0) {\r\n        this.removeFromError();\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          []\r\n        );\r\n      }\r\n\r\n      if (optionList && _.size(optionList) > noOfJrCount && noOfJrCount === 0) {\r\n        this.props.assignOptionListActionCreator(\r\n          this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n          []\r\n        );\r\n      }\r\n\r\n      if (noOfJrCount > 0) {\r\n        const newFieldValue = [...fieldValue];\r\n\r\n        if (fieldValue && fieldValue.length < noOfJrCount) {\r\n          const iterate = noOfJrCount - fieldValue.length;\r\n          for (let j = 0; j < iterate; j++) {\r\n            newFieldValue.push({});\r\n          }\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > noOfJrCount) {\r\n          const iterate = fieldValue.length - noOfJrCount;\r\n          for (let i = 0; i < iterate; i++) {\r\n            newFieldValue.pop();\r\n          }\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            newFieldValue\r\n          );\r\n          this.removeFromError();\r\n        }\r\n\r\n        if (optionList && _.size(optionList) > noOfJrCount) {\r\n          const iterate = _.size(optionList) - noOfJrCount;\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            Array.prototype.slice.call(optionList, iterate)\r\n          );\r\n          this.removeFromError();\r\n        }\r\n\r\n        return (\r\n          <FormGroup className={'groupBodyUnControlled'}>\r\n            <Label>{fieldLabel}</Label>\r\n            {newFieldValue &&\r\n              // tslint:disable-next-line: variable-name\r\n              newFieldValue.map((_elm: any, index: any) => (\r\n                <div className=\"repeat-fields-body\" key={'repeat' + index}>\r\n                  <SingleRepeat\r\n                    choices={choices}\r\n                    defaultLanguage={defaultLanguage}\r\n                    fieldElement={fieldElement}\r\n                    fieldParentTreeName={fieldParentTreeName}\r\n                    fieldValue={fieldValue}\r\n                    repeatIndex={index}\r\n                    assignmentHandler={assignFieldValueActionCreator}\r\n                    removeHandler={removeGroupFieldsFromErrorsActionCreator}\r\n                    removeOptionHandler={removeOptionListFromActionCreator}\r\n                    csvList={csvList}\r\n                    unControlFlag={true}\r\n                  />\r\n                </div>\r\n              ))}\r\n          </FormGroup>\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      this.removeFromError();\r\n      if (fieldValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private removeFromError() {\r\n    if (\r\n      this.props.isErrorsIncludeGroupFieldsSelector(\r\n        this.props.fieldParentTreeName +\r\n          'repeat/' +\r\n          this.props.fieldElement.name +\r\n          '/'\r\n      )\r\n    ) {\r\n      this.props.removeGroupFieldsFromErrorsActionCreator(\r\n        this.props.fieldParentTreeName +\r\n          'repeat/' +\r\n          this.props.fieldElement.name +\r\n          '/'\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isGroupFieldsEmptySelector: any;\r\n  isErrorsIncludeGroupFieldsSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isGroupFieldsEmptySelector = (fieldTreeName: string) =>\r\n    isGroupFieldsEmpty(state, fieldTreeName);\r\n  const isErrorsIncludeGroupFieldsSelector = (fieldTreeName: string) =>\r\n    isErrorsIncludeGroupFields(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isErrorsIncludeGroupFieldsSelector,\r\n    isGroupFieldsEmptySelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  emptyGroupFieldsActionCreator: emptyGroupFields,\r\n  removeGroupFieldsFromErrorsActionCreator: removeGroupFieldsFromErrors,\r\n  removeOptionListFromActionCreator: RemoveFromOptionList,\r\n};\r\n\r\n/** connect Repeat component to the redux store */\r\nconst ConnectedUncontrolledRepeat = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(UncontrolledRepeat);\r\n\r\nexport default ConnectedUncontrolledRepeat;\r\n","import * as React from 'react';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport ControlledRepeat from './Controlled Repeat';\r\nimport UncontrolledRepeat from './Uncontrolled Repeat';\r\n\r\n/** props interface for the Repeat component */\r\nexport interface RepeatProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass Repeat extends React.Component<RepeatProps> {\r\n  public render() {\r\n    const { fieldElement } = this.props;\r\n    if (fieldElement.control && fieldElement.control['jr:count']) {\r\n      return <UncontrolledRepeat {...this.props} />;\r\n    }\r\n    return <ControlledRepeat {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default Repeat;\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Input } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\n\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the calculate component */\r\nexport interface CalculateProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass Calculate extends React.Component<CalculateProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      isPresentInErrorSelector,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      \r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div>\r\n          <Input\r\n            type=\"hidden\"\r\n            name={fieldElement.name}\r\n            value={calculatedValue || ''}\r\n            readOnly={isReadonly}\r\n          />\r\n        </div>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Calculate component to the redux store */\r\nconst ConnectedCalculate = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Calculate);\r\n\r\nexport default ConnectedCalculate;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the KbDate component */\r\nexport interface DateProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass KbDate extends React.Component<DateProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      let defaultValue: string = '';\r\n      if (fieldValue && fieldValue !== '') {\r\n        const modifiedDate = new Date(fieldValue);\r\n        defaultValue = modifiedDate.toISOString().slice(0, 10);\r\n      }\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"date\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            value={defaultValue}\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== ''\r\n        ? new Date(event.currentTarget.value)\r\n        : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect KbDate component to the redux store */\r\nconst ConnectedDate = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(KbDate);\r\n\r\nexport default ConnectedDate;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\n/** props interface for the date Time component */\r\nexport interface DateTimeProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass DateTime extends React.Component<DateTimeProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      let modifiedDate: any = null;\r\n      if (fieldValue) {\r\n        modifiedDate = new Date(fieldValue);\r\n        const timeZoneOffset = modifiedDate.getTimezoneOffset() / 60;\r\n        modifiedDate.setHours(modifiedDate.getHours() - timeZoneOffset);\r\n      }\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <br />\r\n          <DatePicker\r\n            name={fieldElement.name}\r\n            selected={fieldValue ? modifiedDate : null}\r\n            onChange={this.handleChange(fieldElement.name)}\r\n            showTimeSelect={true}\r\n            timeFormat=\"h:m aa\"\r\n            timeIntervals={15}\r\n            timeCaption=\"time\"\r\n            dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n            placeholderText=\"mm/dd/yyyy h:m aa\"\r\n            className=\"form-control\"\r\n            readOnly={isReadonly}\r\n          />\r\n          <br />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private handleChange = (name: any) => (value: any) => {\r\n    const modifiedDate: any = new Date(value);\r\n    const timeZoneOffset = modifiedDate.getTimezoneOffset() / 60;\r\n    modifiedDate.setHours(modifiedDate.getHours() + timeZoneOffset);\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + name,\r\n      value !== '' ? modifiedDate : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Date Time component to the redux store */\r\nconst ConnectedDateTime = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DateTime);\r\n\r\nexport default ConnectedDateTime;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the decimal component */\r\nexport interface DecimalProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface DecimalState {\r\n  fieldValue: string;\r\n  isFocused: boolean;\r\n}\r\n\r\nclass Decimal extends React.Component<DecimalProps, DecimalState> {\r\n  constructor(props: DecimalProps) {\r\n    super(props);\r\n    this.state = { fieldValue: '', isFocused: false };\r\n  }\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated =\r\n      isRequired &&\r\n      (fieldValue === null || fieldValue === '' || fieldValue === undefined);\r\n    const isConstraintViolated =\r\n      fieldValue !== '' &&\r\n      fieldValue !== null &&\r\n      fieldValue !== undefined &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          parseFloat(this.props.fieldValue)\r\n        );\r\n      }\r\n\r\n      let modifiedValue: any;\r\n      {\r\n        fieldValue === 0 ? (modifiedValue = '0') : (modifiedValue = fieldValue);\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        let calculatedValue: any = '';\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n\r\n        if (fieldValue && calculatedValue !== fieldValue) {\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            calculatedValue\r\n          );\r\n        }\r\n        modifiedValue = calculatedValue;\r\n      }\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"number\"\r\n            step=\"any\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            onBlur={this.onBlurHandler}\r\n            value={\r\n              this.state.isFocused\r\n                ? this.state.fieldValue || ''\r\n                : modifiedValue || ''\r\n            }\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (this.state.isFocused) {\r\n        this.setState({ ...this.state, isFocused: false });\r\n      }\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: true,\r\n    });\r\n  };\r\n\r\n  private onBlurHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: false,\r\n    });\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== ''\r\n        ? parseFloat(event.currentTarget.value)\r\n        : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Decimal component to the redux store */\r\nconst ConnectedDecimal = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Decimal);\r\n\r\nexport default ConnectedDecimal;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  assignFieldValueAction,\r\n  getFileObject,\r\n} from '../../../../../store/ducks/formState';\r\n\r\ninterface FilePreviewProps {\r\n  fieldName: string;\r\n  fieldValue: any;\r\n  fileObject: any;\r\n  assignFieldValueActionCreator: any;\r\n}\r\n\r\nclass FilePreview extends React.Component<FilePreviewProps> {\r\n  public render() {\r\n    const { fieldName, fieldValue, assignFieldValueActionCreator } = this.props;\r\n    const removeHandler = () => {\r\n      assignFieldValueActionCreator(fieldName, null);\r\n    };\r\n    return (\r\n      <>\r\n        <p className=\"text-muted\">\r\n          Uploaded File Name: <strong className=\"text-primary\"> {fieldValue} </strong>\r\n        </p>\r\n        <Button size=\"sm\" color=\"danger\" onClick={removeHandler}>\r\n          Remove File\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fileObject: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldName: string;\r\n  fieldValue: any;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldValue } = parentProps;\r\n  const result = {\r\n    fileObject: getFileObject(state, fieldValue),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n};\r\n\r\n/** connect FilePreview component to the redux store */\r\nconst ConnectedFilePreview = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(FilePreview);\r\n\r\nexport default ConnectedFilePreview;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport { PHOTO_FIELD_TYPE } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  addMediaListAction,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\nimport FilePreview from './FilePreview/FilePreview';\r\n\r\n/** props interface for the file component */\r\nexport interface FileProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  addMediaListActionCreator: typeof addMediaListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass File extends React.Component<FileProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          {fieldValue ? (\r\n            <FilePreview\r\n              fieldName={fieldParentTreeName + fieldElement.name}\r\n              fieldValue={fieldValue}\r\n            />\r\n          ) : fieldElement.type === PHOTO_FIELD_TYPE ? (\r\n            <Input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              readOnly={isReadonly}\r\n            />\r\n          ) : (\r\n            <Input\r\n              type=\"file\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              readOnly={isReadonly}\r\n            />\r\n          )}\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: any) => {\r\n    if (event.target.files[0]) {\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + event.target.name,\r\n        event.target.files[0].name\r\n      );\r\n      this.props.addMediaListActionCreator(event.target.files[0]);\r\n    } else {\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + event.target.name,\r\n        null\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  addMediaListActionCreator: addMediaListAction,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect File component to the redux store */\r\nconst ConnectedFile = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(File);\r\n\r\nexport default ConnectedFile;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the integer component */\r\nexport interface IntegerProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\nexport interface IntegerState {\r\n  fieldValue: string;\r\n  isFocused: boolean;\r\n}\r\nclass Integer extends React.Component<IntegerProps, IntegerState> {\r\n  constructor(props: IntegerProps) {\r\n    super(props);\r\n    this.state = { fieldValue: '', isFocused: false };\r\n  }\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated =\r\n      isRequired &&\r\n      (fieldValue === null || fieldValue === '' || fieldValue === undefined);\r\n\r\n    const isConstraintViolated =\r\n      fieldValue !== '' &&\r\n      fieldValue !== null &&\r\n      fieldValue !== undefined &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel =\r\n      customizeLabelsWithPreviousInputs(\r\n        getEvaluatedExpressionSelector,\r\n        constraintLabel,\r\n        fieldParentTreeName + fieldElement.name\r\n      ) || '';\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          parseInt(this.props.fieldValue, 10)\r\n        );\r\n      }\r\n\r\n      let modifiedValue: any;\r\n      {\r\n        fieldValue === 0 ? (modifiedValue = '0') : (modifiedValue = fieldValue);\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        let calculatedValue: any = '';\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n\r\n        if (fieldValue && calculatedValue !== fieldValue) {\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            calculatedValue\r\n          );\r\n        }\r\n        modifiedValue = calculatedValue;\r\n      }\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"number\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            onBlur={this.onBlurHandler}\r\n            value={\r\n              this.state.isFocused\r\n                ? this.state.fieldValue || ''\r\n                : modifiedValue || ''\r\n            }\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (this.state.isFocused) {\r\n        this.setState({ ...this.state, isFocused: false });\r\n      }\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: true,\r\n    });\r\n  };\r\n\r\n  private onBlurHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: false,\r\n    });\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== ''\r\n        ? parseInt(event.currentTarget.value, 10)\r\n        : null\r\n    );\r\n  };\r\n}\r\n/** connect the component to the store */\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n/** connect Integer component to the redux store */\r\nconst ConnectedInteger = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Integer);\r\nexport default ConnectedInteger;\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, FormText, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the text component */\r\nexport interface NoteProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  isPresentInErrorSelector: any;\r\n  isComponentRender: boolean;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass Note extends React.Component<NoteProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const fieldHint = getHintLabelText(fieldElement, defaultLanguage);\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n      return (\r\n        <FormGroup>\r\n          <Label>{fieldLabel}</Label>\r\n          {isRequired && (\r\n            <Label className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</Label>\r\n          )}\r\n          {fieldElement.hint && (\r\n            <FormText className=\"hintText\">{fieldHint}</FormText>\r\n          )}\r\n\r\n          {isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Note component to the redux store */\r\nconst ConnectedNote = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Note);\r\n\r\nexport default ConnectedNote;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Select from 'react-select';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n/** props interface for the SelectAll Dropdown component */\r\nexport interface SelectAllDropDownProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  optionList: object;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\n\r\nconst customStyles = {\r\n  // For the select itself (not the options)\r\n  control: (styles: any, { isDisabled }: any) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isDisabled ? 'white' : 'white',\r\n    }\r\n  },\r\n\r\n    // For the select itself (not the options)\r\n    container: (styles: any, { isDisabled }: any) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled ? 'white' : 'white',\r\n      }\r\n    },\r\n};\r\n\r\nclass SelectAllDropDown extends React.Component<SelectAllDropDownProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === []);\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== [] &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n      const options: Options[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        const updatedFieldElement: any = fieldElement.control.appearance\r\n          .toString()\r\n          .replace('minimal', '');\r\n        if (/search\\([^\\)|(]+\\)/i.test(updatedFieldElement)) {\r\n          const processedStringArray = updatedFieldElement.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        resultOptions.map(elem =>\r\n          options.push({ label: elem.label, value: elem.name })\r\n        );\r\n        this.setOptionList(resultOptions);\r\n      } else if (fieldElement.itemset) {\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              options.push({ label: childrenLabel, value: elem.name });\r\n            }\r\n          });\r\n\r\n          const optionsArray: any = [];\r\n          if (options) {\r\n            options.map(elem => {\r\n              const elemObj: any = {};\r\n              const name: string = 'name';\r\n              const label: string = 'label';\r\n              elemObj[name] = elem.value;\r\n              elemObj[label] = elem.label;\r\n              optionsArray.push(elemObj);\r\n            });\r\n          }\r\n          this.setOptionList(optionsArray);\r\n        }\r\n      } else {\r\n        if (fieldElement.children) {\r\n          fieldElement.children.map(elem => {\r\n            const childrenLabel: string = getFieldLabelText(\r\n              elem,\r\n              defaultLanguage\r\n            );\r\n\r\n            options.push({ label: childrenLabel, value: elem.name });\r\n          });\r\n          this.setOptionList(fieldElement.children);\r\n        }\r\n      }\r\n\r\n      const tmpValueArray: any = [];\r\n      let isNotIncluded: boolean = false;\r\n      if (fieldValue && fieldValue.length > 0) {\r\n        const optionsValueArray: any = [];\r\n        options.map(elem => {\r\n          if (elem.value) {\r\n            optionsValueArray.push(elem.value);\r\n          }\r\n        });\r\n\r\n        for (const row of fieldValue) {\r\n          if (!optionsValueArray.includes(row)) {\r\n            isNotIncluded = true;\r\n          } else {\r\n            tmpValueArray.push(row);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (fieldValue && fieldValue.length > 0 && isNotIncluded) {\r\n        this.props.assignFieldValueActionCreator(\r\n          this.props.fieldParentTreeName + fieldElement.name,\r\n          tmpValueArray || []\r\n        );\r\n      }\r\n\r\n      const selectedValues: any[] = [];\r\n      if (fieldValue && fieldValue.length > 0) {\r\n        options.map(elem => {\r\n          for (const row of fieldValue) {\r\n            if (elem.value === row) {\r\n              selectedValues.push(elem);\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        const seperatedValues: string[] = fieldValue.split(' ');\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          seperatedValues\r\n        );\r\n      }\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <div key={fieldElement.name} className=\"selectAllDropDown\">\r\n            <Select\r\n              styles={customStyles}\r\n              isDisabled={isReadonly}\r\n              isMulti={true}\r\n              name={fieldElement.name}\r\n              options={options}\r\n              onChange={this.onChangeHandler(fieldElement.name)}\r\n              value={selectedValues || calculatedValue || []}\r\n            />\r\n          </div>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      if (this.props.optionList != null) {\r\n        this.props.assignOptionListActionCreator(\r\n          this.props.fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** Sets the option list to the Redux Store\r\n   * @param {any} optionObject - the option object to be processed\r\n   */\r\n  private setOptionList = (optionObject: any) => {\r\n    const tempObjArray: any = [];\r\n    optionObject.map((elem: { name: any; label: any }) => {\r\n      const elemObj: any = {};\r\n      const name: string = 'name';\r\n      const label: string = 'label';\r\n      elemObj[name] = elem.name;\r\n      elemObj[label] = elem.label;\r\n      tempObjArray.push(elemObj);\r\n    });\r\n\r\n    if (!_.isEqual(this.props.optionList, { ...tempObjArray })) {\r\n      this.props.assignOptionListActionCreator(\r\n        this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n        tempObjArray\r\n      );\r\n    }\r\n  };\r\n\r\n  /** sets the value of field element in store\r\n   * @param {any} values - the onchange input values\r\n   * @param {any} fieldName - the input name\r\n   */\r\n  private onChangeHandler = (fieldName: any) => (values: any) => {\r\n    const selectedValues: any = [];\r\n    let i = 0;\r\n    if (values && values.length > 0) {\r\n      values.map(() => {\r\n        if (!selectedValues.includes(values[i].value)) {\r\n          selectedValues.push(values[i].value);\r\n        }\r\n        i++;\r\n      });\r\n\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + fieldName,\r\n        selectedValues\r\n      );\r\n    } else {\r\n      this.props.assignFieldValueActionCreator(\r\n        this.props.fieldParentTreeName + fieldName,\r\n        null\r\n      );\r\n    }\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique dropdown options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const finalRes: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n\r\n        let filterResult: any = [];\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n\r\n        let j = 0;\r\n        filterResult.map(() => {\r\n          options.map(option => {\r\n            if (option[nameOfKey] === filterResult[j]) {\r\n              finalRes.push(option);\r\n            }\r\n          });\r\n          j = j + 1;\r\n        });\r\n\r\n        i = i + 2;\r\n      }\r\n\r\n      options = [...Array.from(new Set(finalRes))];\r\n    }\r\n\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string[];\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne Dropdown component to the redux store */\r\nconst ConnectedSelectAllDropDown = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectAllDropDown);\r\n\r\nexport default ConnectedSelectAllDropDown;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n/** props interface for the SelectAll Radio component */\r\nexport interface SelectAllRadioProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n  optionList: object;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nclass SelectAllRadio extends React.Component<SelectAllRadioProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === []);\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== [] &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n      let options: Options[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        const updatedFieldElement: any = fieldElement.control.appearance\r\n          .toString()\r\n          .replace('minimal', '');\r\n        if (/search\\([^\\)|(]+\\)/i.test(updatedFieldElement)) {\r\n          const processedStringArray = updatedFieldElement.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      const childrenArray: any = [];\r\n      if (fieldElement.children) {\r\n        fieldElement.children.map(elem => {\r\n          const elemObj: any = {};\r\n          const name: string = 'name';\r\n          const label: string = 'label';\r\n          elemObj[name] = elem.name;\r\n          elemObj[label] = elem.label;\r\n          childrenArray.push(elemObj);\r\n        });\r\n      }\r\n\r\n      let values: any = [];\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        values = [];\r\n        options = [];\r\n        const tmpValueArray: any = [];\r\n        let isNotIncluded: boolean = false;\r\n\r\n        resultOptions.map(elem =>\r\n          options.push({ label: elem.label, value: elem.name })\r\n        );\r\n\r\n        if (fieldValue && fieldValue.length > 0) {\r\n          const optionsValueArray: any = [];\r\n          options.map(elem => {\r\n            if (elem.value) {\r\n              optionsValueArray.push(elem.value);\r\n            }\r\n          });\r\n\r\n          for (const row of fieldValue) {\r\n            if (!optionsValueArray.includes(row)) {\r\n              isNotIncluded = true;\r\n            } else {\r\n              tmpValueArray.push(row);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > 0 && isNotIncluded) {\r\n          this.props.assignFieldValueActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            tmpValueArray || []\r\n          );\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...resultOptions })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            resultOptions\r\n          );\r\n        }\r\n        values = [...resultOptions];\r\n      } else if (fieldElement.itemset) {\r\n        values = [];\r\n        options = [];\r\n        const tmpValueArray: any = [];\r\n        const optionsArray: any = [];\r\n        let isNotIncluded: boolean = false;\r\n\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              options.push({ label: childrenLabel, value: elem.name });\r\n            }\r\n          });\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > 0) {\r\n          const optionsValueArray: any = [];\r\n          options.map((elem: any) => {\r\n            if (elem.value) {\r\n              optionsValueArray.push(elem.value);\r\n            }\r\n          });\r\n\r\n          for (const row of fieldValue) {\r\n            if (!optionsValueArray.includes(row)) {\r\n              isNotIncluded = true;\r\n            } else {\r\n              tmpValueArray.push(row);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (fieldValue && fieldValue.length > 0 && isNotIncluded) {\r\n          this.props.assignFieldValueActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            tmpValueArray || []\r\n          );\r\n        }\r\n\r\n        if (options) {\r\n          options.map(elem => {\r\n            const elemObj: any = {};\r\n            const name: string = 'name';\r\n            const label: string = 'label';\r\n            elemObj[name] = elem.value;\r\n            elemObj[label] = elem.label;\r\n            optionsArray.push(elemObj);\r\n          });\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...optionsArray })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            optionsArray\r\n          );\r\n        }\r\n\r\n        values = [...optionsArray];\r\n      } else {\r\n        values = [];\r\n        options = [];\r\n        if (fieldElement.children) {\r\n          fieldElement.children.map(elem =>\r\n            options.push({ label: elem.label, value: elem.name })\r\n          );\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...childrenArray })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            childrenArray\r\n          );\r\n        }\r\n        values = [...childrenArray];\r\n      }\r\n\r\n      const selectedValues: any[] = [];\r\n      if (fieldValue && fieldValue.length > 0) {\r\n        options.map(elem => {\r\n          for (const row of fieldValue) {\r\n            if (elem.value === row) {\r\n              selectedValues.push(elem.value);\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      let flagInline = false;\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        fieldElement.control.appearance.split(' ').forEach((tmpStyle: any) => {\r\n          if (!flagInline && tmpStyle === 'horizontal-compact') {\r\n            flagInline = true;\r\n          }\r\n        });\r\n      }\r\n\r\n      if (typeof this.props.fieldValue === 'string') {\r\n        const seperatedValues: string[] = fieldValue.split(' ');\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          seperatedValues\r\n        );\r\n      }\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <div>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Form key=\"selectAll\">\r\n            {values.map((elem: any, index: any) => (\r\n              <FormGroup key={index} check={true} inline={flagInline}>\r\n                <Label check={true}>\r\n                  <Input\r\n                    key={fieldElement.name + '-' + index}\r\n                    type=\"checkbox\"\r\n                    name={fieldElement.name}\r\n                    value={elem.name || []}\r\n                    onChange={this.onChangeHandlerCheckBox}\r\n                    readOnly={isReadonly}\r\n                    checked={selectedValues.includes(elem.name) || calculatedValue.includes(elem.name)}\r\n                  />{' '}\r\n                  {getFieldLabelText(elem, defaultLanguage)}\r\n                </Label>\r\n              </FormGroup>\r\n            ))}\r\n          </Form>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </div>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n\r\n      if (this.props.optionList != null) {\r\n        this.props.assignOptionListActionCreator(\r\n          this.props.fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {any} event - the onchange event\r\n   */\r\n\r\n  private onChangeHandlerCheckBox = (event: any) => {\r\n    const { fieldValue, fieldElement, fieldParentTreeName } = this.props;\r\n    const fieldName = fieldParentTreeName + fieldElement.name;\r\n    if (event.target.checked) {\r\n      if (\r\n        fieldValue &&\r\n        fieldValue.length > 0 &&\r\n        !fieldValue.includes(event.target.value)\r\n      ) {\r\n        this.props.assignFieldValueActionCreator(fieldName, [\r\n          ...fieldValue,\r\n          event.target.value,\r\n        ]);\r\n      } else {\r\n        this.props.assignFieldValueActionCreator(fieldName, [\r\n          event.target.value,\r\n        ]);\r\n      }\r\n    } else {\r\n      if (\r\n        fieldValue &&\r\n        fieldValue.length > 0 &&\r\n        fieldValue.includes(event.target.value)\r\n      ) {\r\n        const newValue = fieldValue.filter(\r\n          (elm: any) => elm !== event.target.value\r\n        );\r\n\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldName,\r\n          newValue.length ? newValue : null\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique dropdown options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const finalRes: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n\r\n        let filterResult: any = [];\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n\r\n        let j = 0;\r\n        filterResult.map(() => {\r\n          options.map(option => {\r\n            if (option[nameOfKey] === filterResult[j]) {\r\n              finalRes.push(option);\r\n            }\r\n          });\r\n          j = j + 1;\r\n        });\r\n\r\n        i = i + 2;\r\n      }\r\n\r\n      options = [...Array.from(new Set(finalRes))];\r\n    }\r\n\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string[];\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne Radio component to the redux store */\r\nconst ConnectedSelectAllRadio = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectAllRadio);\r\n\r\nexport default ConnectedSelectAllRadio;\r\n","import * as React from 'react';\r\nimport { shouldComponentBeMinimal } from '../../../../../src/utils/helpers';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport Dropdown from './Dropdown';\r\nimport Radio from './Radio';\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectAllProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass SelectAll extends React.Component<SelectAllProps> {\r\n  public render() {\r\n    const { fieldElement } = this.props;\r\n    if (shouldComponentBeMinimal(fieldElement)) {\r\n      return <Dropdown {...this.props} />;\r\n    }\r\n    return <Radio {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default SelectAll;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Select from 'react-select';\r\nimport { FormGroup, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectOneDropDownProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  optionList: object;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nconst customStyles = {\r\n  // For the select itself (not the options)\r\n  control: (styles: any, { isDisabled }: any) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isDisabled ? 'white' : 'white',\r\n    }\r\n  },\r\n\r\n    // For the select itself (not the options)\r\n    container: (styles: any, { isDisabled }: any) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled ? 'white' : 'white',\r\n      }\r\n    },\r\n};\r\n\r\nclass SelectOneDropDown extends React.Component<SelectOneDropDownProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n      const options: Options[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        const updatedFieldElement: any = fieldElement.control.appearance\r\n          .toString()\r\n          .replace('minimal', '');\r\n        if (/search\\([^\\)|(]+\\)/i.test(updatedFieldElement)) {\r\n          const processedStringArray = updatedFieldElement.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        resultOptions.map(elem =>\r\n          options.push({ label: elem.label, value: elem.name })\r\n        );\r\n\r\n        this.setOptionList(resultOptions);\r\n      } else if (fieldElement.itemset) {\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              options.push({ label: childrenLabel, value: elem.name });\r\n            }\r\n          });\r\n          this.setOptionList(choices[fieldElement.itemset.trim()]);\r\n        }\r\n      } else {\r\n        if (fieldElement.children) {\r\n          fieldElement.children.map(elem => {\r\n            const childrenLabel: string = getFieldLabelText(\r\n              elem,\r\n              defaultLanguage\r\n            );\r\n            options.push({ label: childrenLabel, value: elem.name });\r\n          });\r\n\r\n          this.setOptionList(fieldElement.children);\r\n        }\r\n      }\r\n\r\n      if (fieldValue) {\r\n        const optionsValueArray: any = [];\r\n        options.map(elem => {\r\n          if (elem.value) {\r\n            optionsValueArray.push(elem.value);\r\n          }\r\n        });\r\n\r\n        if (!optionsValueArray.includes(fieldValue)) {\r\n          this.props.assignFieldValueActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            ''\r\n          );\r\n        }\r\n      }\r\n\r\n      let selectedValue: any;\r\n      options.map(elem => {\r\n        if (elem.value === fieldValue) {\r\n          selectedValue = elem;\r\n        }\r\n      });\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <div key={fieldElement.name} className=\"selectOneDropDown\">\r\n            <Select\r\n              styles={customStyles}\r\n              isDisabled={isReadonly}\r\n              multi={false}\r\n              name={fieldElement.name}\r\n              options={options}\r\n              value={selectedValue || calculatedValue || ''}\r\n              onChange={this.onChangeHandler(fieldElement.name)}\r\n            />\r\n          </div>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** Sets the option list to the Redux Store\r\n   * @param {any} optionObject - the option object to be processed\r\n   */\r\n  private setOptionList = (optionObject: any) => {\r\n    const tempObjArray: any = [];\r\n    optionObject.map((elem: { name: any; label: any }) => {\r\n      const elemObj: any = {};\r\n      const name: string = 'name';\r\n      const label: string = 'label';\r\n      elemObj[name] = elem.name;\r\n      elemObj[label] = elem.label;\r\n      tempObjArray.push(elemObj);\r\n    });\r\n\r\n    if (!_.isEqual(this.props.optionList, { ...tempObjArray })) {\r\n      this.props.assignOptionListActionCreator(\r\n        this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n        tempObjArray\r\n      );\r\n    }\r\n  };\r\n\r\n  /** sets the value of field element in store\r\n   * @param {any} event - the onchange input event\r\n   * @param {any} fieldName - the input name\r\n   */\r\n  private onChangeHandler = (fieldName: any) => (event: any) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + fieldName,\r\n      event.value || ''\r\n    );\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique dropdown options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n        let filterResult: any = '';\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n        options = options.filter(option => option[nameOfKey] === filterResult);\r\n        i = i + 2;\r\n      }\r\n    }\r\n\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne component to the redux store */\r\nconst ConnectedSelectOneDropDown = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectOneDropDown);\r\n\r\nexport default ConnectedSelectOneDropDown;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport _ from 'lodash';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  assignOptionListAction,\r\n  getEvaluatedExpression,\r\n  getEvaluatedExpressionForSelect,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  getOptionList,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../../utils/helpers';\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectOneRadioProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  optionList: object;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  assignOptionListActionCreator: typeof assignOptionListAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface Options {\r\n  label: any;\r\n  value: string;\r\n}\r\n\r\nclass SelectOneRadio extends React.Component<SelectOneRadioProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      let resultOptions: any[] = [];\r\n\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        if (/search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)) {\r\n          const processedStringArray = fieldElement.control.appearance.match(\r\n            /search\\([^\\)|(]+\\)/i\r\n          ) || [''];\r\n\r\n          resultOptions = this.getProcessedString(processedStringArray[0]);\r\n        }\r\n      }\r\n\r\n      const childrenArray: any = [];\r\n      if (fieldElement.children) {\r\n        fieldElement.children.map(elem => {\r\n          const elemObj: any = {};\r\n          const name: string = 'name';\r\n          const label: string = 'label';\r\n          elemObj[name] = elem.name;\r\n          elemObj[label] = elem.label;\r\n          childrenArray.push(elemObj);\r\n        });\r\n      }\r\n\r\n      let values: any = [];\r\n\r\n      if (\r\n        fieldElement.control &&\r\n        fieldElement.control.appearance &&\r\n        /search\\([^\\)|(]+\\)/i.test(fieldElement.control.appearance)\r\n      ) {\r\n        values = [];\r\n        if (fieldValue) {\r\n          const optionsValueArray: any = [];\r\n          resultOptions.map(elem => {\r\n            if (elem.name) {\r\n              optionsValueArray.push(elem.name);\r\n            }\r\n          });\r\n\r\n          if (!optionsValueArray.includes(fieldValue)) {\r\n            this.props.assignFieldValueActionCreator(\r\n              this.props.fieldParentTreeName + fieldElement.name,\r\n              ''\r\n            );\r\n          }\r\n        }\r\n\r\n        if (!_.isEqual(this.props.optionList, { ...resultOptions })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            resultOptions\r\n          );\r\n        }\r\n        values = [...resultOptions];\r\n      } else if (fieldElement.itemset) {\r\n        const choiceOptions: any = [];\r\n        values = [];\r\n        if (choices && choices[fieldElement.itemset.trim()]) {\r\n          _.forEach(choices[fieldElement.itemset.trim()], (elem: any) => {\r\n            if (\r\n              fieldElement.choice_filter &&\r\n              this.props.getEvaluatedExpressionSelectorForSelect(\r\n                fieldElement.choice_filter,\r\n                fieldParentTreeName + fieldElement.name,\r\n                elem\r\n              )\r\n            ) {\r\n              const childrenLabel: string = getFieldLabelText(\r\n                elem,\r\n                defaultLanguage\r\n              );\r\n              choiceOptions.push({ label: childrenLabel, name: elem.name });\r\n            }\r\n          });\r\n\r\n          if (fieldValue) {\r\n            const optionsValueArray: any = [];\r\n            choiceOptions.map((elem: any) => {\r\n              if (elem.name) {\r\n                optionsValueArray.push(elem.name);\r\n              }\r\n            });\r\n            if (!optionsValueArray.includes(fieldValue)) {\r\n              this.props.assignFieldValueActionCreator(\r\n                this.props.fieldParentTreeName + fieldElement.name,\r\n                ''\r\n              );\r\n            }\r\n          }\r\n          if (!_.isEqual(this.props.optionList, { ...choiceOptions })) {\r\n            this.props.assignOptionListActionCreator(\r\n              this.props.fieldParentTreeName + fieldElement.name,\r\n              choiceOptions\r\n            );\r\n          }\r\n          values = [...choiceOptions];\r\n        }\r\n      } else {\r\n        values = [];\r\n        if (!_.isEqual(this.props.optionList, { ...childrenArray })) {\r\n          this.props.assignOptionListActionCreator(\r\n            this.props.fieldParentTreeName + fieldElement.name,\r\n            childrenArray\r\n          );\r\n        }\r\n        values = [...childrenArray];\r\n      }\r\n\r\n      let flagInline = false;\r\n      if (fieldElement.control && fieldElement.control.appearance) {\r\n        fieldElement.control.appearance.split(' ').forEach((tmpStyle: any) => {\r\n          if (!flagInline && tmpStyle === 'horizontal-compact') {\r\n            flagInline = true;\r\n          }\r\n        });\r\n      }\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      return (\r\n        <div>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Form key=\"selectOne\">\r\n            {values.map((elem: any, index: any) => (\r\n              <FormGroup key={index} check={true} inline={flagInline}>\r\n                <Label check={true}>\r\n                  <Input\r\n                    key={fieldElement.name + '-' + index}\r\n                    type=\"radio\"\r\n                    name={fieldElement.name}\r\n                    value={elem.name}\r\n                    onChange={this.onChangeHandlerRadio(fieldElement.name)}\r\n                    readOnly={isReadonly}\r\n                    checked={elem.name === fieldValue || elem.name === calculatedValue}\r\n                  />{' '}\r\n                  {getFieldLabelText(elem, defaultLanguage)}\r\n                </Label>\r\n              </FormGroup>\r\n            ))}\r\n          </Form>\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </div>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n  /** sets the value of Radio Button field element in store\r\n   * @param {any} event - the onchange input event\r\n   * @param {any} fieldName - the input name\r\n   */\r\n  private onChangeHandlerRadio = (fieldName: any) => (event: any) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + fieldName,\r\n      event.target.value || ''\r\n    );\r\n  };\r\n\r\n  /** converts apeearance text into array and pass them to further process\r\n   * @param {string} stringWithSearchKeyWord - the fieldElement children appearance text (partial)\r\n   */\r\n  private getProcessedString = (stringWithSearchKeyWord: string) => {\r\n    const processedStringArray = stringWithSearchKeyWord.match(\r\n      /\\([^\\)]+\\)/i\r\n    ) || [''];\r\n    let params = processedStringArray[0];\r\n\r\n    if (params.length > 2) {\r\n      params = params.substring(1, params.length - 1);\r\n      const resultArray = params.split(',');\r\n      let criteriaParams = [...resultArray];\r\n      criteriaParams = criteriaParams.splice(2, criteriaParams.length);\r\n      return this.extractAndFilterOptions(\r\n        resultArray[0],\r\n        resultArray[1] || null,\r\n        criteriaParams || []\r\n      );\r\n    }\r\n    return [];\r\n  };\r\n\r\n  /** generates unique radio button options using CSV\r\n   * @param {string} csvName - the CSV file name\r\n   * @param {string | null} criteriaType - criteria to match with previous user input\r\n   * @param {any} filterCriterias - previous user input collections\r\n   */\r\n  private extractAndFilterOptions = (\r\n    csvName: string,\r\n    criteriaType: string | null,\r\n    filterCriterias: any\r\n  ) => {\r\n    if (criteriaType) {\r\n      criteriaType = criteriaType.trim();\r\n      criteriaType = criteriaType.substring(1, criteriaType.length - 1).trim();\r\n    }\r\n\r\n    let options: any[] = [];\r\n    const distinctOptions: any[] = [];\r\n    const csv: any = this.props.csvList;\r\n    csvName = csvName.substring(1, csvName.length - 1) + '.csv';\r\n    if (csv[csvName]) {\r\n      const modifiedName = csvName.replace(/'/g, '');\r\n      options = this.props.csvList[modifiedName] || [];\r\n    }\r\n\r\n    if (criteriaType && criteriaType.trim() === 'matches') {\r\n      let i = 0;\r\n      while (i < filterCriterias.length) {\r\n        let nameOfKey = filterCriterias[i].trim();\r\n        nameOfKey = nameOfKey.substring(1, nameOfKey.length - 1).trim();\r\n        const interConnectedValue = filterCriterias[i + 1];\r\n        const tempOptions = [...options];\r\n        let filterResult: any = '';\r\n        tempOptions.forEach(elm => {\r\n          filterResult = this.props.getEvaluatedExpressionSelectorForSelect(\r\n            interConnectedValue,\r\n            this.props.fieldParentTreeName + this.props.fieldElement.name,\r\n            elm\r\n          );\r\n        });\r\n        options = options.filter(option => option[nameOfKey] === filterResult);\r\n        i = i + 2;\r\n      }\r\n    }\r\n    if (options.length !== 0) {\r\n      let labelColumnName: string = '';\r\n      let valueColumnName: string = '';\r\n      if (\r\n        this.props.fieldElement.children &&\r\n        this.props.fieldElement.children[0] &&\r\n        this.props.fieldElement.children[0].name &&\r\n        this.props.fieldElement.children[0].label\r\n      ) {\r\n        labelColumnName = getFieldLabelText(\r\n          this.props.fieldElement.children[0],\r\n          this.props.defaultLanguage\r\n        );\r\n        valueColumnName = this.props.fieldElement.children[0].name;\r\n      }\r\n      options.forEach(elem => {\r\n        const tmpOpt: any = {};\r\n        const label: string = 'label';\r\n        const name: string = 'name';\r\n        tmpOpt[label] = elem[labelColumnName].trim();\r\n        tmpOpt[name] = elem[valueColumnName].trim();\r\n        distinctOptions.push(tmpOpt);\r\n      });\r\n      return _.uniqBy(distinctOptions, 'name');\r\n    }\r\n    return [];\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getEvaluatedExpressionSelectorForSelect: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  optionList: object;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const getEvaluatedExpressionSelectorForSelect = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n    options: any\r\n  ) =>\r\n    getEvaluatedExpressionForSelect(state, expression, options, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getEvaluatedExpressionSelectorForSelect,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n    optionList: getOptionList(state, fieldParentTreeName + fieldElement.name),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  assignOptionListActionCreator: assignOptionListAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect SelectOne Radio component to the redux store */\r\nconst ConnectedSelectOneRadio = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectOneRadio);\r\n\r\nexport default ConnectedSelectOneRadio;\r\n","import * as React from 'react';\r\nimport { shouldComponentBeMinimal } from '../../../../../src/utils/helpers';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport Dropdown from './Dropdown';\r\nimport Radio from './Radio';\r\n\r\n/** props interface for the SelectOne component */\r\nexport interface SelectOneProps {\r\n  choices: any;\r\n  csvList: any;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass SelectOne extends React.Component<SelectOneProps> {\r\n  public render() {\r\n    const { fieldElement } = this.props;\r\n    if (shouldComponentBeMinimal(fieldElement)) {\r\n      return <Dropdown {...this.props} />;\r\n    }\r\n    return <Radio {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default SelectOne;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the text component */\r\nexport interface TextProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: string;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isPresentInErrorSelector: any;\r\n  isComponentRender: boolean;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nexport interface TextState {\r\n  fieldValue: string;\r\n  isFocused: boolean;\r\n}\r\n\r\nclass Text extends React.Component<TextProps, TextState> {\r\n  constructor(props: TextProps) {\r\n    super(props);\r\n    this.state = { fieldValue: '', isFocused: false };\r\n  }\r\n\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        let calculatedValue: any = '';\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n\r\n        if (calculatedValue && calculatedValue !== fieldValue) {\r\n          this.props.assignFieldValueActionCreator(\r\n            fieldParentTreeName + fieldElement.name,\r\n            calculatedValue\r\n          );\r\n        }\r\n\r\n        return (\r\n          <FormGroup>\r\n            <Label>\r\n              {modifiedFieldLabel}{' '}\r\n              {isRequired && (\r\n                <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n              )}\r\n            </Label>\r\n            <Input\r\n              type=\"text\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              onBlur={this.onBlurHandler}\r\n              value={\r\n                this.state.isFocused\r\n                  ? this.state.fieldValue || ''\r\n                  : calculatedValue || ''\r\n              }\r\n              readOnly={isReadonly}\r\n            />\r\n            {isFormSubmitted && isError && (\r\n              <FontAwesomeIcon\r\n                icon=\"exclamation-circle\"\r\n                className=\"errorSign\"\r\n              />\r\n            )}\r\n            {fieldElement.hint && (\r\n              <Label className=\"hintText\">{hintLabel}</Label>\r\n            )}\r\n            {isFormSubmitted && isRequiredViolated && (\r\n              <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n            )}\r\n            {isConstraintViolated && (\r\n              <Label className=\"constraintText\">\r\n                {modifiedConstraintLabel}\r\n              </Label>\r\n            )}\r\n          </FormGroup>\r\n        );\r\n      } else {\r\n        return (\r\n          <FormGroup>\r\n            <Label>\r\n              {modifiedFieldLabel}{' '}\r\n              {isRequired && (\r\n                <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n              )}\r\n            </Label>\r\n            <Input\r\n              type=\"text\"\r\n              name={fieldElement.name}\r\n              onChange={this.onChangeHandler}\r\n              onBlur={this.onBlurHandler}\r\n              value={\r\n                this.state.isFocused\r\n                  ? this.state.fieldValue || ''\r\n                  : fieldValue || ''\r\n              }\r\n              readOnly={isReadonly}\r\n            />\r\n            {isFormSubmitted && isError && (\r\n              <FontAwesomeIcon\r\n                icon=\"exclamation-circle\"\r\n                className=\"errorSign\"\r\n              />\r\n            )}\r\n            {fieldElement.hint && (\r\n              <Label className=\"hintText\">{hintLabel}</Label>\r\n            )}\r\n            {isFormSubmitted && isRequiredViolated && (\r\n              <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n            )}\r\n            {isConstraintViolated && (\r\n              <Label className=\"constraintText\">\r\n                {modifiedConstraintLabel}\r\n              </Label>\r\n            )}\r\n          </FormGroup>\r\n        );\r\n      }\r\n    } else {\r\n      if (this.state.isFocused) {\r\n        this.setState({ ...this.state, isFocused: false });\r\n      }\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /** sets the value of field element in store\r\n   * @param {React.FormEvent<HTMLInputElement>} event - the onchange input event\r\n   */\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: true,\r\n    });\r\n  };\r\n\r\n  private onBlurHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      ...this.state,\r\n      fieldValue: event.currentTarget.value || '',\r\n      isFocused: false,\r\n    });\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value || ''\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: string;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect Text component to the redux store */\r\nconst ConnectedText = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Text);\r\n\r\nexport default ConnectedText;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport {\r\n  FieldElement,\r\n  FieldParentTreeName,\r\n} from '../../../../components/typeEvalutors/Base';\r\nimport { REQUIRED_FIELD_MSG, REQUIRED_SYMBOL } from '../../../../constants';\r\nimport {\r\n  addErrorInputId,\r\n  assignFieldValueAction,\r\n  getEvaluatedExpression,\r\n  getFieldValue,\r\n  getFormSubmitStatus,\r\n  isPresentInError,\r\n  removeErrorInputId,\r\n} from '../../../../store/ducks/formState';\r\nimport {\r\n  customizeLabelsWithPreviousInputs,\r\n  getConstraintLabelText,\r\n  getFieldLabelText,\r\n  getHintLabelText,\r\n  isInputRequired,\r\n  shouldComponentBeReadOnly,\r\n  shouldComponentBeRelevant,\r\n  shouldInputViolatesConstraint,\r\n} from '../../../../utils/helpers';\r\n\r\n/** props interface for the KbTime component */\r\nexport interface TimeProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n  fieldValue: any;\r\n  assignFieldValueActionCreator: typeof assignFieldValueAction;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: boolean;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n  addErrorInputIdActionCreator: typeof addErrorInputId;\r\n  removeErrorInputIdActionCreator: typeof removeErrorInputId;\r\n  defaultLanguage: string;\r\n}\r\n\r\nclass KbTime extends React.Component<TimeProps> {\r\n  public render() {\r\n    const {\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      fieldValue,\r\n      isComponentRender,\r\n      getEvaluatedExpressionSelector,\r\n      getFormSubmitStatusSelector,\r\n      isPresentInErrorSelector,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    const isRequired = isInputRequired(fieldElement);\r\n    const isFormSubmitted: boolean = getFormSubmitStatusSelector;\r\n    const isRequiredViolated = isRequired && (!fieldValue || fieldValue === '');\r\n    const isConstraintViolated =\r\n      fieldValue &&\r\n      fieldValue !== '' &&\r\n      shouldInputViolatesConstraint(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n    const fieldLabel = getFieldLabelText(fieldElement, defaultLanguage);\r\n    const modifiedFieldLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      fieldLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const constraintLabel = getConstraintLabelText(\r\n      fieldElement,\r\n      defaultLanguage\r\n    );\r\n    const modifiedConstraintLabel = customizeLabelsWithPreviousInputs(\r\n      getEvaluatedExpressionSelector,\r\n      constraintLabel,\r\n      fieldParentTreeName + fieldElement.name\r\n    );\r\n    const hintLabel = getHintLabelText(fieldElement, defaultLanguage);\r\n    if (isComponentRender) {\r\n      if (fieldValue == null && 'default' in fieldElement) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          fieldElement.default\r\n        );\r\n      }\r\n      const isReadonly = shouldComponentBeReadOnly(\r\n        fieldElement,\r\n        fieldParentTreeName,\r\n        getEvaluatedExpressionSelector\r\n      );\r\n      if (\r\n        (isRequiredViolated || isConstraintViolated) &&\r\n        !isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.addErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      } else if (\r\n        !isRequiredViolated &&\r\n        !isConstraintViolated &&\r\n        isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)\r\n      ) {\r\n        this.props.removeErrorInputIdActionCreator(\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      const isError = isPresentInErrorSelector(\r\n        fieldParentTreeName + fieldElement.name\r\n      );\r\n\r\n      let calculatedValue: any = '';\r\n      if (fieldElement.bind && fieldElement.bind.calculate) {\r\n        calculatedValue = this.props.getEvaluatedExpressionSelector(\r\n          fieldElement.bind.calculate,\r\n          fieldParentTreeName + fieldElement.name\r\n        );\r\n      }\r\n\r\n      if (calculatedValue && fieldValue !== calculatedValue) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          calculatedValue\r\n        );\r\n      }\r\n\r\n\r\n      return (\r\n        <FormGroup>\r\n          <Label>\r\n            {modifiedFieldLabel}{' '}\r\n            {isRequired && (\r\n              <span className=\"requiredTextSteric\">{REQUIRED_SYMBOL}</span>\r\n            )}\r\n          </Label>\r\n          <Input\r\n            type=\"time\"\r\n            name={fieldElement.name}\r\n            onChange={this.onChangeHandler}\r\n            value={fieldValue || calculatedValue || ''}\r\n            readOnly={isReadonly}\r\n          />\r\n          {isFormSubmitted && isError && (\r\n            <FontAwesomeIcon icon=\"exclamation-circle\" className=\"errorSign\" />\r\n          )}\r\n          {fieldElement.hint && <Label className=\"hintText\">{hintLabel}</Label>}\r\n          {isFormSubmitted && isRequiredViolated && (\r\n            <Label className=\"requiredText\">{REQUIRED_FIELD_MSG}</Label>\r\n          )}\r\n          {isConstraintViolated && (\r\n            <Label className=\"constraintText\">{modifiedConstraintLabel}</Label>\r\n          )}\r\n        </FormGroup>\r\n      );\r\n    } else {\r\n      if (fieldValue != null) {\r\n        this.props.assignFieldValueActionCreator(\r\n          fieldParentTreeName + fieldElement.name,\r\n          null\r\n        );\r\n        if (isPresentInErrorSelector(fieldParentTreeName + fieldElement.name)) {\r\n          this.props.removeErrorInputIdActionCreator(\r\n            fieldParentTreeName + fieldElement.name\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private onChangeHandler = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.props.assignFieldValueActionCreator(\r\n      this.props.fieldParentTreeName + event.currentTarget.name,\r\n      event.currentTarget.value !== '' ? event.currentTarget.value : null\r\n    );\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  fieldValue: any;\r\n  getEvaluatedExpressionSelector: any;\r\n  getFormSubmitStatusSelector: any;\r\n  isComponentRender: boolean;\r\n  isPresentInErrorSelector: any;\r\n}\r\n\r\n/** Interface to describe props from parent */\r\ninterface ParentProps {\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (\r\n  state: Partial<Store>,\r\n  parentProps: ParentProps\r\n): DispatchedStateProps => {\r\n  const { fieldElement, fieldParentTreeName } = parentProps;\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n  const isPresentInErrorSelector = (fieldTreeName: string) =>\r\n    isPresentInError(state, fieldTreeName);\r\n  const getFormSubmitStatusSelector = getFormSubmitStatus(state);\r\n  const result = {\r\n    fieldValue: getFieldValue(state, fieldParentTreeName + fieldElement.name),\r\n    getEvaluatedExpressionSelector,\r\n    getFormSubmitStatusSelector,\r\n    isComponentRender: shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      getEvaluatedExpressionSelector\r\n    ),\r\n    isPresentInErrorSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  addErrorInputIdActionCreator: addErrorInputId,\r\n  assignFieldValueActionCreator: assignFieldValueAction,\r\n  removeErrorInputIdActionCreator: removeErrorInputId,\r\n};\r\n\r\n/** connect KbTime component to the redux store */\r\nconst ConnectedTime = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(KbTime);\r\n\r\nexport default ConnectedTime;\r\n","import * as React from 'react';\r\nimport {\r\n  CALCULATE_FIELD_TYPE,\r\n  DATE_FIELD_TYPE,\r\n  DATE_TIME_FIELD_TYPE,\r\n  DECIMAL_FIELD_TYPE,\r\n  FILE_FIELD_TYPE,\r\n  INTEGER_FIELD_TYPE,\r\n  NOTE_FIELD_TYPE,\r\n  PHOTO_FIELD_TYPE,\r\n  SELECT_ALL_FIELD_TYPE,\r\n  SELECT_ONE_FIELD_TYPE,\r\n  TEXT_FIELD_TYPE,\r\n  TIME_FIELD_TYPE,\r\n} from '../../../constants';\r\nimport Calculate from '../../../containers/fields/base/Calculate';\r\nimport KbDate from '../../../containers/fields/base/Date';\r\nimport DateTime from '../../../containers/fields/base/Date Time';\r\nimport Decimal from '../../../containers/fields/base/Decimal';\r\nimport File from '../../../containers/fields/base/File';\r\nimport Integer from '../../../containers/fields/base/Integer';\r\nimport Note from '../../../containers/fields/base/Note';\r\nimport SelectAll from '../../../containers/fields/base/Select All';\r\nimport SelectOne from '../../../containers/fields/base/Select One';\r\nimport Text from '../../../containers/fields/base/Text';\r\nimport KbTime from '../../../containers/fields/base/Time';\r\n\r\n/** type of fieldParentTreeName */\r\nexport type FieldParentTreeName = string;\r\n\r\n/** interface for bind property */\r\ninterface BindProperty {\r\n  calculate?: string;\r\n  relevant?: string;\r\n  readonly?: string;\r\n  appearance?: string;\r\n  required?: string;\r\n  constraint?: string;\r\n  'jr:constraintMsg'?: { [key: string]: string } | string;\r\n}\r\n\r\n/** interface for kobo field element */\r\nexport interface FieldElement {\r\n  name: string;\r\n  type: string;\r\n  children?: any[];\r\n  bind?: BindProperty;\r\n  label?: { [key: string]: string } | string;\r\n  default?: any;\r\n  control?: any;\r\n  hint?: any;\r\n  itemset?: string;\r\n  choice_filter?: string;\r\n}\r\n\r\n/** props interface for BaseTypeEvaluator component */\r\nexport interface BaseTypeEvaluatorProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElement: FieldElement;\r\n  fieldParentTreeName: FieldParentTreeName;\r\n}\r\n\r\nclass BaseTypeEvaluator extends React.Component<BaseTypeEvaluatorProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n    } = this.props;\r\n    return this.typeEvaluator(\r\n      choices,\r\n      csvList,\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      defaultLanguage\r\n    );\r\n  }\r\n\r\n  /** returns jsx components based on field types\r\n   * @param {any} choices - the choices of form definition\r\n   * @param {FieldElement} fieldElement - the field element object\r\n   * @param {FieldParentTreeName} fieldParentTreeName - the field parent hierchical name\r\n   * @return {React.ReactElement} - jsx base components\r\n   */\r\n  private typeEvaluator(\r\n    choices: any,\r\n    csvList: any,\r\n    fieldElement: FieldElement,\r\n    fieldParentTreeName: FieldParentTreeName,\r\n    defaultLanguage: string\r\n  ): React.ReactElement {\r\n    switch (fieldElement.type) {\r\n      case TEXT_FIELD_TYPE:\r\n        return (\r\n          <Text\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case DATE_FIELD_TYPE:\r\n        return (\r\n          <KbDate\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case TIME_FIELD_TYPE:\r\n        return (\r\n          <KbTime\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case DATE_TIME_FIELD_TYPE:\r\n        return (\r\n          <DateTime\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case INTEGER_FIELD_TYPE:\r\n        return (\r\n          <Integer\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case DECIMAL_FIELD_TYPE:\r\n        return (\r\n          <Decimal\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case NOTE_FIELD_TYPE:\r\n        return (\r\n          <Note\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case CALCULATE_FIELD_TYPE:\r\n        return (\r\n          <Calculate\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case SELECT_ONE_FIELD_TYPE:\r\n        return (\r\n          <SelectOne\r\n            choices={choices}\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n          />\r\n        );\r\n      case SELECT_ALL_FIELD_TYPE:\r\n        return (\r\n          <SelectAll\r\n            choices={choices}\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n          />\r\n        );\r\n      case PHOTO_FIELD_TYPE:\r\n        return (\r\n          <File\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      case FILE_FIELD_TYPE:\r\n        return (\r\n          <File\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <div style={{ display: 'none' }}>\r\n            Other {fieldElement.type} {fieldElement.name}\r\n          </div>\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nexport default BaseTypeEvaluator;\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport { CALCULATE_FIELD_TYPE, GROUP_FIELD_TYPE, REPEAT_FIELD_TYPE } from '../../../constants';\r\nimport Group from '../../../containers/fields/group/Group';\r\nimport Repeat from '../../../containers/fields/group/Repeat';\r\nimport { getEvaluatedExpression } from '../../../store/ducks/formState';\r\nimport { shouldComponentBeRelevant } from '../../../utils/helpers';\r\nimport BaseTypeEvaluator, { FieldElement, FieldParentTreeName } from '../Base';\r\n\r\n/** props Interface for the GroupTypeEvaluator component */\r\nexport interface GroupTypeEvaluatorProps {\r\n  choices: any;\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  fieldElements: FieldElement[];\r\n  fieldParentTreeName: string;\r\n  isAppearanceApplicable: boolean;\r\n  getEvaluatedExpressionSelector: any;\r\n}\r\n\r\nclass GroupTypeEvaluator extends React.Component<GroupTypeEvaluatorProps> {\r\n  public render() {\r\n    const {\r\n      choices,\r\n      csvList,\r\n      fieldElements,\r\n      fieldParentTreeName,\r\n      defaultLanguage,\r\n      isAppearanceApplicable,\r\n    } = this.props;\r\n    return (\r\n      <Row className=\"groupTypeEvaluatorRow\">\r\n        {fieldElements.map((fieldElement) => {\r\n          const value: number = this.getAppearanceValue(\r\n            fieldElement,\r\n            fieldParentTreeName,\r\n            isAppearanceApplicable,\r\n          );\r\n          return (\r\n            <Col\r\n              key={`group_${fieldElement.name}`}\r\n              className={ value === 0 || fieldElement.type === CALCULATE_FIELD_TYPE ? \"groupTypeEvaluator hideDiv\" : \"groupTypeEvaluator\"}\r\n              md={value}\r\n              // hidden={value === 0}\r\n            >\r\n              {this.typeEvaluator(\r\n                choices,\r\n                csvList,\r\n                fieldElement,\r\n                fieldParentTreeName,\r\n                defaultLanguage,\r\n              )}\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  /** returns jsx components based on field types\r\n   * @param {any} choices - the form choices\r\n   * @param {FieldElement} fieldElement - the field element object\r\n   * @param {FieldParentTreeName} - the field parent hierarchical name\r\n   * @return {React.ReactElement} - jsx group components/ base evaluator component\r\n   */\r\n  private typeEvaluator(\r\n    choices: any,\r\n    csvList: any,\r\n    fieldElement: FieldElement,\r\n    fieldParentTreeName: FieldParentTreeName,\r\n    defaultLanguage: string,\r\n  ): React.ReactElement {\r\n    switch (fieldElement.type) {\r\n      case GROUP_FIELD_TYPE:\r\n        return (\r\n          <div>\r\n            <Group\r\n              choices={choices}\r\n              fieldElement={fieldElement}\r\n              fieldParentTreeName={fieldParentTreeName}\r\n              defaultLanguage={defaultLanguage}\r\n              csvList={csvList}\r\n            />\r\n          </div>\r\n        );\r\n      case REPEAT_FIELD_TYPE:\r\n        return (\r\n          <div>\r\n            <Repeat\r\n              choices={choices}\r\n              fieldElement={fieldElement}\r\n              fieldParentTreeName={fieldParentTreeName}\r\n              defaultLanguage={defaultLanguage}\r\n              csvList={csvList}\r\n            />\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <BaseTypeEvaluator\r\n            choices={choices}\r\n            fieldElement={fieldElement}\r\n            fieldParentTreeName={fieldParentTreeName}\r\n            defaultLanguage={defaultLanguage}\r\n            csvList={csvList}\r\n          />\r\n        );\r\n    }\r\n  }\r\n\r\n  private getAppearanceValue = (\r\n    fieldElement: FieldElement,\r\n    fieldParentTreeName: string,\r\n    isAppearanceApplicable: boolean,\r\n  ): number => {\r\n    const isRender: boolean = shouldComponentBeRelevant(\r\n      fieldElement,\r\n      fieldParentTreeName,\r\n      this.props.getEvaluatedExpressionSelector,\r\n    );\r\n\r\n    if (!isRender) {\r\n      return 0;\r\n    } if (\r\n      isRender\r\n      && isAppearanceApplicable\r\n      && fieldElement.control\r\n      && fieldElement.control.appearance\r\n    ) {\r\n      if (/^w(\\d+)\\b/i.test(fieldElement.control.appearance)) {\r\n        const processedStringArray = fieldElement.control.appearance.match(\r\n          /^w(\\d+)\\b/i,\r\n        );\r\n        const processedString = processedStringArray[0].replace('w', '');\r\n        const result = isNaN(processedString)\r\n          ? 12\r\n          : parseInt(processedString, 10);\r\n        return result;\r\n      }\r\n    }\r\n    return 12;\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  getEvaluatedExpressionSelector: any;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (state: Partial<Store>): DispatchedStateProps => {\r\n  const getEvaluatedExpressionSelector = (\r\n    expression: string,\r\n    fieldTreeName: string,\r\n  ) => getEvaluatedExpression(state, expression, fieldTreeName);\r\n\r\n  const result = {\r\n    getEvaluatedExpressionSelector,\r\n  };\r\n  return result;\r\n};\r\n\r\n/** connect GroupTypeEvaluator component to the redux store */\r\nconst ConnectedGroupTypeEvaluator = connect(mapStateToProps)(\r\n  GroupTypeEvaluator,\r\n);\r\n\r\nexport default ConnectedGroupTypeEvaluator;\r\n","import { library } from '@fortawesome/fontawesome-svg-core';\r\nimport {\r\n  faExclamationCircle,\r\n  faMinusCircle,\r\n  faPlusCircle,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Col, Container, Row } from 'reactstrap';\r\nimport { Store } from 'redux';\r\nimport KbAlert from '../components/Alert';\r\nimport DropDown from '../components/DropDown';\r\nimport GroupTypeEvaluator from '../components/typeEvalutors/Group';\r\nimport {\r\n  getAllFileObjects,\r\n  getCSVFromStore,\r\n  getUserInputFromStore,\r\n  isErrorsArrayEmpty,\r\n  resetStoreAction,\r\n  setCSVObj,\r\n  setFormSubmitStatus,\r\n  setUserInputObj,\r\n  setUserLanguage,\r\n} from '../store/ducks/formState';\r\n\r\nlibrary.add(faPlusCircle, faMinusCircle, faExclamationCircle);\r\n\r\nexport interface AppProps {\r\n  choices: any;\r\n  csvList: any;\r\n  csvObj: any;\r\n  isNoErrors: any;\r\n  userInputObj: any;\r\n  userInputJson: any;\r\n  defaultLanguage: string;\r\n  formTitle: string;\r\n  fieldElements: any;\r\n  setUserInputAction: typeof setUserInputObj;\r\n  setCSVAction: typeof setCSVObj;\r\n  setUserLanguageAction: typeof setUserLanguage;\r\n  languageOptions: any;\r\n  setFormSubmitStatusAction: typeof setFormSubmitStatus;\r\n  resetStoreActionCreator: typeof resetStoreAction;\r\n  mediaList: any;\r\n  handleSubmit(userInput: any, mediaList: any): any;\r\n}\r\n\r\nexport interface AppState {\r\n  defaultLanguage: string;\r\n  isSubmissionError: boolean;\r\n}\r\n\r\nclass App extends React.Component<AppProps, AppState> {\r\n  constructor(props: AppProps) {\r\n    super(props);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    const { userInputJson, userInputObj, csvList, csvObj } = this.props;\r\n    this.props.resetStoreActionCreator();\r\n    if (userInputJson && userInputJson !== userInputObj) {\r\n      this.props.setUserInputAction(userInputJson);\r\n    }\r\n    if (csvList && csvList !== csvObj) {\r\n      this.props.setCSVAction(csvList);\r\n    }\r\n    this.props.setUserLanguageAction(this.props.defaultLanguage);\r\n    this.setState({\r\n      defaultLanguage: this.props.defaultLanguage,\r\n      isSubmissionError: false,\r\n    });\r\n  }\r\n\r\n  public handleSelect = (languageName: string) => {\r\n    this.setState({ defaultLanguage: languageName });\r\n    this.props.setUserLanguageAction(this.props.defaultLanguage);\r\n  };\r\n\r\n  public render() {\r\n    const {\r\n      csvList,\r\n      fieldElements,\r\n      formTitle,\r\n      languageOptions,\r\n      choices,\r\n    } = this.props;\r\n    const { defaultLanguage } = this.state || this.props;\r\n\r\n    const props = {\r\n      choices,\r\n      csvList,\r\n      defaultLanguage,\r\n      fieldElements,\r\n      fieldParentTreeName: '',\r\n      isAppearanceApplicable: false,\r\n      languageOptions,\r\n    };\r\n\r\n    return (\r\n      <Container className=\"form-container\">\r\n        <Row className={'form-title formTitle'}>\r\n          <Col>\r\n            <h3 className=\"headerText\">{formTitle}</h3>\r\n          </Col>\r\n          <DropDown\r\n            languages={...languageOptions}\r\n            onChangeSelect={this.handleSelect}\r\n            defaultLanguage={defaultLanguage}\r\n          />\r\n        </Row>\r\n        {this.state && this.state.isSubmissionError && (\r\n          <KbAlert\r\n            color={'danger'}\r\n            isOpen={this.state.isSubmissionError}\r\n            handleToggle={this.toggleStateValue}\r\n            headerText={'Oh snap! You got an error!'}\r\n            bodyText={\r\n              'Please make sure the required fields are not missing and there are no errors'\r\n            }\r\n          />\r\n        )}\r\n        <Row>\r\n          <Col style={{ padding: 0}}>\r\n            <GroupTypeEvaluator {...props} />\r\n            <Row className=\"welcome-box\" style={{ padding: 10 }}>\r\n              <Col>\r\n                <Button className=\"btn btn-success\" onClick={this.handleClick}>\r\n                  Submit\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // tslint:disable-next-line: variable-name\r\n  private handleClick = (_event: React.MouseEvent<HTMLButtonElement>) => {\r\n    const { handleSubmit, isNoErrors, userInputObj, mediaList } = this.props;\r\n    if (isNoErrors) {\r\n      handleSubmit(userInputObj, mediaList);\r\n    } else {\r\n      handleSubmit('Field Violated', mediaList);\r\n      this.setState({ isSubmissionError: true });\r\n      this.props.setFormSubmitStatusAction(true);\r\n      window.scrollTo(0, 0);\r\n    }\r\n  };\r\n\r\n  private toggleStateValue = () => {\r\n    this.setState({ isSubmissionError: false });\r\n  };\r\n}\r\n\r\n/** connect the component to the store */\r\n\r\n/** Interface to describe props from mapStateToProps */\r\ninterface DispatchedStateProps {\r\n  isNoErrors: any;\r\n  userInputObj: any;\r\n  mediaList: any;\r\n  csvObj: any;\r\n}\r\n\r\n/** Map props to state  */\r\nconst mapStateToProps = (state: Partial<Store>): DispatchedStateProps => {\r\n  const result = {\r\n    isNoErrors: isErrorsArrayEmpty(state),\r\n    mediaList: getAllFileObjects(state),\r\n    userInputObj: getUserInputFromStore(state),\r\n    csvObj: getCSVFromStore(state),\r\n  };\r\n  return result;\r\n};\r\n\r\n/** map props to actions */\r\nconst mapDispatchToProps = {\r\n  resetStoreActionCreator: resetStoreAction,\r\n  setFormSubmitStatusAction: setFormSubmitStatus,\r\n  setUserInputAction: setUserInputObj,\r\n  setUserLanguageAction: setUserLanguage,\r\n  setCSVAction: setCSVObj,\r\n};\r\n\r\n/** connect Decimal component to the redux store */\r\nconst ConnectedApp = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n\r\nexport default ConnectedApp;\r\n","import { MuiThemeProvider } from '@material-ui/core';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport * as React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { theme } from './utils/Theme';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nexport interface OdkFormRendererProps {\r\n  csvList: any;\r\n  defaultLanguage: string;\r\n  formDefinitionJson: any;\r\n  languageOptions: any;\r\n  userInputJson: any;\r\n  handleSubmit: (userInput: any, mediaList: any) => any;\r\n}\r\n\r\nclass OdkFormRenderer extends React.Component<OdkFormRendererProps> {\r\n  public render() {\r\n    const {\r\n      csvList,\r\n      defaultLanguage,\r\n      formDefinitionJson,\r\n      userInputJson,\r\n      languageOptions,\r\n      handleSubmit,\r\n    } = this.props;\r\n    const props = {\r\n      choices: formDefinitionJson.choices || {},\r\n      csvList,\r\n      defaultLanguage,\r\n      fieldElements: formDefinitionJson.children,\r\n      formTitle: formDefinitionJson.title,\r\n      handleSubmit,\r\n      languageOptions,\r\n      userInputJson,\r\n    };\r\n    return (\r\n      <Provider store={store}>\r\n        <MuiThemeProvider theme={theme}>\r\n        <App {...props} />\r\n      </MuiThemeProvider>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OdkFormRenderer;\r\n"],"names":["actualExpression","theme","createMuiTheme","palette","primary","main","dark","secondary","light","info","text","disabled","hint","typography","h1","fontWeight","fontSize","h2","h3","h4","body1","fontFamily","caption","subtitle1","subtitle2","overrides","MuiPaper","root","color","KbAlert","render","this","props","bodyText","React","Alert","isOpen","toggle","handleToggle","className","headerText","DropDown","event","onChangeSelect","value","selectedValue","options","languages","map","elem","push","label","_this2","defaultLanguage","Select","multi","placeholder","onChange","onChangeHandler","REQUIRED_FIELD_MSG","store","createStore","reducer","composeWithDevTools","currentHierarchicalName","formItemProperty","userInput","tokenizeCharacter","type","input","current","tokenizers","test","undefined","consumedChars","char","TypeError","matchQuote","pattern","tokenizePattern","kbSelected","funcName","params","_paramsTokens","tmp","Array","isArray","forEach","element","kbChoice","i","tmpHierchicalName","split","parent","length","state","getState","variableName","replace","optionList","key","name","language","kbPullData","item","csvList","find","obj","kbToday","_params","d","Date","setHours","kbFormatDate","format","moment","kbRound","toFixed","parseFloat","kbRegex","RegExp","kbCountSelected","kbInt","parseInt","kbCoalesce","kbPosition","tmpName","kbSum","paramsTokens","sumValue","sumValuesOverJsn","sum","jsnObj","kbConcat","concatStr","kbSubstr","substring","outerScopedVariables","variableValue","tmpUserInput","nodeNames","parseMostClosestScopedVariable","index","parseDot","path","getIn","parseLiterals","_tmpOutput","tokens","toLowerCase","parseFunction","_output","possibleFunctions","arrayOfParams","arrayOfOriginalTokens","tmpQueue","tmpTokens","pop","tmpVal","parser","parsedFn","parsedVal","functionFn","parseAnd","output","newOutput","parseParen","terminatingTokens","indexOf","parseDivide","parsed","ct","parseMinus","parserFn","consumedTokens","preOutput","preParsed","parseMultiply","preParseFn","Object","prototype","toString","call","isNaN","getTime","NaN","Math","ceil","parsers","j","flagLessThanOrEqual","flagGreaterThanOrEqual","leftOutput","pos","console","log","evaluater","expression","tmpFormItemProperty","tmpCurrentHierarchicalName","tokenized","tokenizerFn","token","tokenizer","getTextFromProperty","property","languageIdentifier","getFieldLabelText","fieldElement","getHintLabelText","customizeLabelsWithPreviousInputs","evaluator","labelText","fieldTreeName","placesOfCustomizationsRequiredList","match","tmpPlace","customizedName","matchList","getConstraintLabelText","bind","isInputRequired","isRequired","required","shouldComponentBeRelevant","fieldParentTreeName","evaluateExpression","relevant","shouldComponentBeReadOnly","readonly","shouldInputViolatesConstraint","constraint","getModifiedUserInputObject","userInputObj","fieldValue","treeNodes","modifiedObj","getValueFromUserInputObj","shouldComponentBeMinimal","isMinimal","control","appearance","includes","FIELD_VALUE_ASSIGNED","OPTION_LIST_ASSIGNED","MEDIA_LIST_ADDED","REMOVE_FROM_MEDIA_LIST","REMOVE_FROM_OPTION_LIST_REPEAT","RESET_STORE","ADD_ERROR_INPUT_ID","REMOVE_ERROR_INPUT_ID","EMPTY_GROUP_FIELDS","REMOVE_GROUP_FIELDS_FROM_ERRORS","SET_USER_INPUT_OBJ","SET_CSV_OBJ","SET_FORM_SUBMIT_STATUS","assignFieldValueAction","assignOptionListAction","RemoveFromOptionList","repeatIndex","addErrorInputId","removeErrorInputId","emptyGroupFields","removeGroupFieldsFromErrors","initialState","SeamlessImmutable","errors","isFormSubmitted","mediaList","action","modifiedUserInputObj","asMutable","deep","stateM","modifiedUserInputObjList","newState","filteredRepeatArray","hasOwnProperty","entries","keyValueOptionListobj","repeatIndexString","String","keyRepeat","getModifiedOptionListForRepeat","modifiedOptionListRepeat","newStateForRepeat","modifiedMediaList","mediaObject","newMediaState","updateIn","arr","concat","filter","elm","mUserInputObj","groupTreeName","keys","objKey","startsWith","emptyGroupedValues","mState","csvObj","getFieldValue","getOptionList","getEvaluatedExpression","getEvaluatedExpressionForSelect","isPresentInError","isGroupFieldsEmpty","isEmpty","checkGroupedValuesForEmpty","isErrorsIncludeGroupFields","isPresent","fTName","isErrorsArrayEmpty","getUserInputFromStore","getCSVFromStore","getFormSubmitStatus","getFileObject","fileName","getAllFileObjects","GroupStyle","createStyles","borderTop","backgroundColor","backgroundProp","display","insideBackground","borderProp","boxShadow","marginTop","marginBottom","padding","toolbarIcon","alignItems","justifyContent","mixins","toolbar","drawerPaperClose","overflowX","transition","transitions","create","easing","sharp","duration","leavingScreen","width","spacing","breakpoints","up","background","paper","overflow","flexDirection","listItem","marginLeft","marginRight","borderRadius","listItemIcon","listItemActive","nested","paddingLeft","navlogo","margin","listParent","common","white","drawerClose","drawerOpen","overflowY","enteringScreen","Group","choices","isComponentRender","fieldLabel","isAppearanceApplicable","useTheme","classNames","makeStyles","useStyles","bodyless","isErrorsIncludeGroupFieldsSelector","removeGroupFieldsFromErrorsActionCreator","isGroupFieldsEmptySelector","emptyGroupFieldsActionCreator","Accordion","defaultExpanded","style","AccordionSummary","expandIcon","ExpandMoreIcon","Typography","AccordionDetails","FormGroup","children","GroupTypeEvaluator","fieldElements","ConnectedGroup","connect","parentProps","getEvaluatedExpressionSelector","SingleRepeat","_event","_this","assignmentHandler","removeHandler","removeOptionHandler","newFieldValue","_elem","unControlFlag","onClick","handleChange","FontAwesomeIcon","icon","Component","ControlledRepeat","assignFieldValueActionCreator","removeOptionListFromActionCreator","Label","_elm","addAnotherRepeat","ConnectedControlledRepeat","UncontrolledRepeat","noOfJrCount","res","removeFromError","_","size","assignOptionListActionCreator","iterate","slice","ConnectedUncontrolledRepeat","Repeat","Calculate","isPresentInErrorSelector","isRequiredViolated","isConstraintViolated","isReadonly","removeErrorInputIdActionCreator","addErrorInputIdActionCreator","calculatedValue","calculate","Input","readOnly","ConnectedCalculate","KbDate","currentTarget","getFormSubmitStatusSelector","modifiedFieldLabel","modifiedConstraintLabel","hintLabel","defaultValue","toISOString","isError","ConnectedDate","DateTime","modifiedDate","timeZoneOffset","getTimezoneOffset","getHours","DatePicker","selected","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","placeholderText","ConnectedDateTime","Decimal","setState","isFocused","modifiedValue","step","onBlur","onBlurHandler","ConnectedDecimal","FilePreview","fieldName","Button","ConnectedFilePreview","fileObject","File","target","files","addMediaListActionCreator","accept","ConnectedFile","Integer","ConnectedInteger","Note","fieldHint","FormText","ConnectedNote","customStyles","styles","container","SelectAllDropDown","optionObject","tempObjArray","elemObj","isEqual","values","selectedValues","stringWithSearchKeyWord","resultArray","criteriaParams","splice","extractAndFilterOptions","csvName","criteriaType","filterCriterias","trim","distinctOptions","finalRes","modifiedName","nameOfKey","interConnectedValue","tempOptions","filterResult","getEvaluatedExpressionSelectorForSelect","option","from","Set","labelColumnName","valueColumnName","tmpOpt","uniqBy","resultOptions","updatedFieldElement","processedStringArray","getProcessedString","setOptionList","itemset","choice_filter","childrenLabel","optionsArray","tmpValueArray","isNotIncluded","optionsValueArray","row","seperatedValues","isDisabled","isMulti","ConnectedSelectAllDropDown","SelectAllRadio","checked","newValue","childrenArray","flagInline","tmpStyle","Form","check","inline","onChangeHandlerCheckBox","ConnectedSelectAllRadio","SelectAll","Dropdown","Radio","SelectOneDropDown","ConnectedSelectOneDropDown","SelectOneRadio","choiceOptions","onChangeHandlerRadio","ConnectedSelectOneRadio","SelectOne","Text","ConnectedText","KbTime","ConnectedTime","BaseTypeEvaluator","typeEvaluator","isRender","processedString","Row","getAppearanceValue","Col","md","ConnectedGroupTypeEvaluator","library","add","faPlusCircle","faMinusCircle","faExclamationCircle","App","languageName","setUserLanguageAction","handleSubmit","isNoErrors","isSubmissionError","setFormSubmitStatusAction","window","scrollTo","componentDidMount","userInputJson","resetStoreActionCreator","setUserInputAction","setCSVAction","languageOptions","Container","formTitle","handleSelect","toggleStateValue","handleClick","ConnectedApp","formDefinitionJson","Provider","MuiThemeProvider","title"],"mappings":"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"}